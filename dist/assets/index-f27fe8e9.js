function I3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Wm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B3={exports:{}},bx={},O3={exports:{}},Sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=Symbol.for("react.element"),y9=Symbol.for("react.portal"),x9=Symbol.for("react.fragment"),S9=Symbol.for("react.strict_mode"),_9=Symbol.for("react.profiler"),C9=Symbol.for("react.provider"),b9=Symbol.for("react.context"),w9=Symbol.for("react.forward_ref"),E9=Symbol.for("react.suspense"),M9=Symbol.for("react.memo"),A9=Symbol.for("react.lazy"),OI=Symbol.iterator;function T9(t){return t===null||typeof t!="object"?null:(t=OI&&t[OI]||t["@@iterator"],typeof t=="function"?t:null)}var L3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D3=Object.assign,F3={};function $f(t,e,n){this.props=t,this.context=e,this.refs=F3,this.updater=n||L3}$f.prototype.isReactComponent={};$f.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$f.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N3(){}N3.prototype=$f.prototype;function NM(t,e,n){this.props=t,this.context=e,this.refs=F3,this.updater=n||L3}var UM=NM.prototype=new N3;UM.constructor=NM;D3(UM,$f.prototype);UM.isPureReactComponent=!0;var LI=Array.isArray,U3=Object.prototype.hasOwnProperty,kM={current:null},k3={key:!0,ref:!0,__self:!0,__source:!0};function z3(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)U3.call(e,r)&&!k3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:jm,type:t,key:o,ref:s,props:i,_owner:kM.current}}function R9(t,e){return{$$typeof:jm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zM(t){return typeof t=="object"&&t!==null&&t.$$typeof===jm}function P9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var DI=/\/+/g;function t_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?P9(""+t.key):e.toString(36)}function Y0(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case jm:case y9:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+t_(s,0):r,LI(i)?(n="",t!=null&&(n=t.replace(DI,"$&/")+"/"),Y0(i,e,n,"",function(c){return c})):i!=null&&(zM(i)&&(i=R9(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(DI,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",LI(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+t_(o,a);s+=Y0(o,e,n,l,i)}else if(l=T9(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+t_(o,a++),s+=Y0(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function gv(t,e,n){if(t==null)return t;var r=[],i=0;return Y0(t,r,"","",function(o){return e.call(n,o,i++)}),r}function I9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ki={current:null},q0={transition:null},B9={ReactCurrentDispatcher:ki,ReactCurrentBatchConfig:q0,ReactCurrentOwner:kM};function H3(){throw Error("act(...) is not supported in production builds of React.")}Sn.Children={map:gv,forEach:function(t,e,n){gv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gv(t,function(){e++}),e},toArray:function(t){return gv(t,function(e){return e})||[]},only:function(t){if(!zM(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Sn.Component=$f;Sn.Fragment=x9;Sn.Profiler=_9;Sn.PureComponent=NM;Sn.StrictMode=S9;Sn.Suspense=E9;Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B9;Sn.act=H3;Sn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=D3({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=kM.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)U3.call(e,l)&&!k3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:jm,type:t.type,key:i,ref:o,props:r,_owner:s}};Sn.createContext=function(t){return t={$$typeof:b9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C9,_context:t},t.Consumer=t};Sn.createElement=z3;Sn.createFactory=function(t){var e=z3.bind(null,t);return e.type=t,e};Sn.createRef=function(){return{current:null}};Sn.forwardRef=function(t){return{$$typeof:w9,render:t}};Sn.isValidElement=zM;Sn.lazy=function(t){return{$$typeof:A9,_payload:{_status:-1,_result:t},_init:I9}};Sn.memo=function(t,e){return{$$typeof:M9,type:t,compare:e===void 0?null:e}};Sn.startTransition=function(t){var e=q0.transition;q0.transition={};try{t()}finally{q0.transition=e}};Sn.unstable_act=H3;Sn.useCallback=function(t,e){return ki.current.useCallback(t,e)};Sn.useContext=function(t){return ki.current.useContext(t)};Sn.useDebugValue=function(){};Sn.useDeferredValue=function(t){return ki.current.useDeferredValue(t)};Sn.useEffect=function(t,e){return ki.current.useEffect(t,e)};Sn.useId=function(){return ki.current.useId()};Sn.useImperativeHandle=function(t,e,n){return ki.current.useImperativeHandle(t,e,n)};Sn.useInsertionEffect=function(t,e){return ki.current.useInsertionEffect(t,e)};Sn.useLayoutEffect=function(t,e){return ki.current.useLayoutEffect(t,e)};Sn.useMemo=function(t,e){return ki.current.useMemo(t,e)};Sn.useReducer=function(t,e,n){return ki.current.useReducer(t,e,n)};Sn.useRef=function(t){return ki.current.useRef(t)};Sn.useState=function(t){return ki.current.useState(t)};Sn.useSyncExternalStore=function(t,e,n){return ki.current.useSyncExternalStore(t,e,n)};Sn.useTransition=function(){return ki.current.useTransition()};Sn.version="18.3.1";O3.exports=Sn;var C=O3.exports;const tt=Wm(C),Xm=I3({__proto__:null,default:tt},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O9=C,L9=Symbol.for("react.element"),D9=Symbol.for("react.fragment"),F9=Object.prototype.hasOwnProperty,N9=O9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U9={key:!0,ref:!0,__self:!0,__source:!0};function V3(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)F9.call(e,r)&&!U9.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:L9,type:t,key:o,ref:s,props:i,_owner:N9.current}}bx.Fragment=D9;bx.jsx=V3;bx.jsxs=V3;B3.exports=bx;var Ve=B3.exports,Cb={},G3={exports:{}},Eo={},$3={exports:{}},W3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var V=N.length;N.push(W);e:for(;0<V;){var ee=V-1>>>1,se=N[ee];if(0<i(se,W))N[ee]=W,N[V]=se,V=ee;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],V=N.pop();if(V!==W){N[0]=V;e:for(var ee=0,se=N.length,me=se>>>1;ee<me;){var K=2*(ee+1)-1,te=N[K],ae=K+1,de=N[ae];if(0>i(te,V))ae<se&&0>i(de,te)?(N[ee]=de,N[ae]=V,ee=ae):(N[ee]=te,N[K]=V,ee=K);else if(ae<se&&0>i(de,V))N[ee]=de,N[ae]=V,ee=ae;else break e}}return W}function i(N,W){var V=N.sortIndex-W.sortIndex;return V!==0?V:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=N)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function w(N){if(x=!1,_(N),!v)if(n(l)!==null)v=!0,j(A);else{var W=n(c);W!==null&&X(w,W.startTime-N)}}function A(N,W){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var V=f;try{for(_(W),d=n(l);d!==null&&(!(d.expirationTime>W)||N&&!B());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var se=ee(d.expirationTime<=W);W=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),_(W)}else r(l);d=n(l)}if(d!==null)var me=!0;else{var K=n(c);K!==null&&X(w,K.startTime-W),me=!1}return me}finally{d=null,f=V,m=!1}}var M=!1,P=null,I=-1,T=5,E=-1;function B(){return!(t.unstable_now()-E<T)}function F(){if(P!==null){var N=t.unstable_now();E=N;var W=!0;try{W=P(!0,N)}finally{W?L():(M=!1,P=null)}}else M=!1}var L;if(typeof S=="function")L=function(){S(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=F,L=function(){G.postMessage(null)}}else L=function(){y(F,0)};function j(N){P=N,M||(M=!0,L())}function X(N,W){I=y(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,j(A))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var V=f;f=W;try{return N()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=f;f=N;try{return W()}finally{f=V}},t.unstable_scheduleCallback=function(N,W,V){var ee=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,N={id:u++,callback:W,priorityLevel:N,startTime:V,expirationTime:se,sortIndex:-1},V>ee?(N.sortIndex=V,e(c,N),n(l)===null&&N===n(c)&&(x?(g(I),I=-1):x=!0,X(w,V-ee))):(N.sortIndex=se,e(l,N),v||m||(v=!0,j(A))),N},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(N){var W=f;return function(){var V=f;f=W;try{return N.apply(this,arguments)}finally{f=V}}}})(W3);$3.exports=W3;var k9=$3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9=C,_o=k9;function mt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j3=new Set,Hp={};function Mu(t,e){mf(t,e),mf(t+"Capture",e)}function mf(t,e){for(Hp[t]=e,t=0;t<e.length;t++)j3.add(e[t])}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bb=Object.prototype.hasOwnProperty,H9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FI={},NI={};function V9(t){return bb.call(NI,t)?!0:bb.call(FI,t)?!1:H9.test(t)?NI[t]=!0:(FI[t]=!0,!1)}function G9(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $9(t,e,n,r){if(e===null||typeof e>"u"||G9(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){li[t]=new zi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];li[e]=new zi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){li[t]=new zi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){li[t]=new zi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){li[t]=new zi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){li[t]=new zi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){li[t]=new zi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){li[t]=new zi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){li[t]=new zi(t,5,!1,t.toLowerCase(),null,!1,!1)});var HM=/[\-:]([a-z])/g;function VM(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(HM,VM);li[e]=new zi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(HM,VM);li[e]=new zi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(HM,VM);li[e]=new zi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){li[t]=new zi(t,1,!1,t.toLowerCase(),null,!1,!1)});li.xlinkHref=new zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){li[t]=new zi(t,1,!1,t.toLowerCase(),null,!0,!0)});function GM(t,e,n,r){var i=li.hasOwnProperty(e)?li[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($9(e,n,i,r)&&(n=null),r||i===null?V9(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wa=z9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vv=Symbol.for("react.element"),Bd=Symbol.for("react.portal"),Od=Symbol.for("react.fragment"),$M=Symbol.for("react.strict_mode"),wb=Symbol.for("react.profiler"),X3=Symbol.for("react.provider"),K3=Symbol.for("react.context"),WM=Symbol.for("react.forward_ref"),Eb=Symbol.for("react.suspense"),Mb=Symbol.for("react.suspense_list"),jM=Symbol.for("react.memo"),vl=Symbol.for("react.lazy"),J3=Symbol.for("react.offscreen"),UI=Symbol.iterator;function Th(t){return t===null||typeof t!="object"?null:(t=UI&&t[UI]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,n_;function sp(t){if(n_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);n_=e&&e[1]||""}return`
`+n_+t}var r_=!1;function i_(t,e){if(!t||r_)return"";r_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{r_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sp(t):""}function W9(t){switch(t.tag){case 5:return sp(t.type);case 16:return sp("Lazy");case 13:return sp("Suspense");case 19:return sp("SuspenseList");case 0:case 2:case 15:return t=i_(t.type,!1),t;case 11:return t=i_(t.type.render,!1),t;case 1:return t=i_(t.type,!0),t;default:return""}}function Ab(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Od:return"Fragment";case Bd:return"Portal";case wb:return"Profiler";case $M:return"StrictMode";case Eb:return"Suspense";case Mb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case K3:return(t.displayName||"Context")+".Consumer";case X3:return(t._context.displayName||"Context")+".Provider";case WM:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jM:return e=t.displayName||null,e!==null?e:Ab(t.type)||"Memo";case vl:e=t._payload,t=t._init;try{return Ab(t(e))}catch{}}return null}function j9(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ab(e);case 8:return e===$M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Y3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function X9(t){var e=Y3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yv(t){t._valueTracker||(t._valueTracker=X9(t))}function q3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ry(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tb(t,e){var n=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Q3(t,e){e=e.checked,e!=null&&GM(t,"checked",e,!1)}function Rb(t,e){Q3(t,e);var n=kl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Pb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Pb(t,e.type,kl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Pb(t,e,n){(e!=="number"||Ry(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ap=Array.isArray;function nf(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ib(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(mt(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(mt(92));if(ap(n)){if(1<n.length)throw Error(mt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kl(n)}}function Z3(t,e){var n=kl(e.value),r=kl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function VI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xv,tN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xv=xv||document.createElement("div"),xv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K9=["Webkit","ms","Moz","O"];Object.keys(gp).forEach(function(t){K9.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gp[e]=gp[t]})});function nN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gp.hasOwnProperty(t)&&gp[t]?(""+e).trim():e+"px"}function rN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var J9=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ob(t,e){if(e){if(J9[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(mt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(mt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(mt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(mt(62))}}function Lb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Db=null;function XM(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fb=null,rf=null,of=null;function GI(t){if(t=Ym(t)){if(typeof Fb!="function")throw Error(mt(280));var e=t.stateNode;e&&(e=Tx(e),Fb(t.stateNode,t.type,e))}}function iN(t){rf?of?of.push(t):of=[t]:rf=t}function oN(){if(rf){var t=rf,e=of;if(of=rf=null,GI(t),e)for(t=0;t<e.length;t++)GI(e[t])}}function sN(t,e){return t(e)}function aN(){}var o_=!1;function lN(t,e,n){if(o_)return t(e,n);o_=!0;try{return sN(t,e,n)}finally{o_=!1,(rf!==null||of!==null)&&(aN(),oN())}}function Gp(t,e){var n=t.stateNode;if(n===null)return null;var r=Tx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(mt(231,e,typeof n));return n}var Nb=!1;if(Da)try{var Rh={};Object.defineProperty(Rh,"passive",{get:function(){Nb=!0}}),window.addEventListener("test",Rh,Rh),window.removeEventListener("test",Rh,Rh)}catch{Nb=!1}function Y9(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var vp=!1,Py=null,Iy=!1,Ub=null,q9={onError:function(t){vp=!0,Py=t}};function Q9(t,e,n,r,i,o,s,a,l){vp=!1,Py=null,Y9.apply(q9,arguments)}function Z9(t,e,n,r,i,o,s,a,l){if(Q9.apply(this,arguments),vp){if(vp){var c=Py;vp=!1,Py=null}else throw Error(mt(198));Iy||(Iy=!0,Ub=c)}}function Au(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $I(t){if(Au(t)!==t)throw Error(mt(188))}function eG(t){var e=t.alternate;if(!e){if(e=Au(t),e===null)throw Error(mt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $I(i),t;if(o===r)return $I(i),e;o=o.sibling}throw Error(mt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(mt(189))}}if(n.alternate!==r)throw Error(mt(190))}if(n.tag!==3)throw Error(mt(188));return n.stateNode.current===n?t:e}function uN(t){return t=eG(t),t!==null?dN(t):null}function dN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dN(t);if(e!==null)return e;t=t.sibling}return null}var fN=_o.unstable_scheduleCallback,WI=_o.unstable_cancelCallback,tG=_o.unstable_shouldYield,nG=_o.unstable_requestPaint,Er=_o.unstable_now,rG=_o.unstable_getCurrentPriorityLevel,KM=_o.unstable_ImmediatePriority,hN=_o.unstable_UserBlockingPriority,By=_o.unstable_NormalPriority,iG=_o.unstable_LowPriority,pN=_o.unstable_IdlePriority,wx=null,Ks=null;function oG(t){if(Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(wx,t,void 0,(t.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:lG,sG=Math.log,aG=Math.LN2;function lG(t){return t>>>=0,t===0?32:31-(sG(t)/aG|0)|0}var Sv=64,_v=4194304;function lp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oy(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=lp(a):(o&=s,o!==0&&(r=lp(o)))}else s=n&~i,s!==0?r=lp(s):o!==0&&(r=lp(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ms(e),i=1<<n,r|=t[n],e&=~i;return r}function cG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ms(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=cG(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function kb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mN(){var t=Sv;return Sv<<=1,!(Sv&4194240)&&(Sv=64),t}function s_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Km(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ms(e),t[e]=n}function dG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ms(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function JM(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ms(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var kn=0;function gN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vN,YM,yN,xN,SN,zb=!1,Cv=[],Il=null,Bl=null,Ol=null,$p=new Map,Wp=new Map,_l=[],fG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jI(t,e){switch(t){case"focusin":case"focusout":Il=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":$p.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wp.delete(e.pointerId)}}function Ph(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ym(e),e!==null&&YM(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hG(t,e,n,r,i){switch(e){case"focusin":return Il=Ph(Il,t,e,n,r,i),!0;case"dragenter":return Bl=Ph(Bl,t,e,n,r,i),!0;case"mouseover":return Ol=Ph(Ol,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return $p.set(o,Ph($p.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Wp.set(o,Ph(Wp.get(o)||null,t,e,n,r,i)),!0}return!1}function _N(t){var e=Wc(t.target);if(e!==null){var n=Au(e);if(n!==null){if(e=n.tag,e===13){if(e=cN(n),e!==null){t.blockedOn=e,SN(t.priority,function(){yN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Q0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Db=r,n.target.dispatchEvent(r),Db=null}else return e=Ym(n),e!==null&&YM(e),t.blockedOn=n,!1;e.shift()}return!0}function XI(t,e,n){Q0(t)&&n.delete(e)}function pG(){zb=!1,Il!==null&&Q0(Il)&&(Il=null),Bl!==null&&Q0(Bl)&&(Bl=null),Ol!==null&&Q0(Ol)&&(Ol=null),$p.forEach(XI),Wp.forEach(XI)}function Ih(t,e){t.blockedOn===e&&(t.blockedOn=null,zb||(zb=!0,_o.unstable_scheduleCallback(_o.unstable_NormalPriority,pG)))}function jp(t){function e(i){return Ih(i,t)}if(0<Cv.length){Ih(Cv[0],t);for(var n=1;n<Cv.length;n++){var r=Cv[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Il!==null&&Ih(Il,t),Bl!==null&&Ih(Bl,t),Ol!==null&&Ih(Ol,t),$p.forEach(e),Wp.forEach(e),n=0;n<_l.length;n++)r=_l[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_l.length&&(n=_l[0],n.blockedOn===null);)_N(n),n.blockedOn===null&&_l.shift()}var sf=Wa.ReactCurrentBatchConfig,Ly=!0;function mG(t,e,n,r){var i=kn,o=sf.transition;sf.transition=null;try{kn=1,qM(t,e,n,r)}finally{kn=i,sf.transition=o}}function gG(t,e,n,r){var i=kn,o=sf.transition;sf.transition=null;try{kn=4,qM(t,e,n,r)}finally{kn=i,sf.transition=o}}function qM(t,e,n,r){if(Ly){var i=Hb(t,e,n,r);if(i===null)g_(t,e,r,Dy,n),jI(t,r);else if(hG(i,t,e,n,r))r.stopPropagation();else if(jI(t,r),e&4&&-1<fG.indexOf(t)){for(;i!==null;){var o=Ym(i);if(o!==null&&vN(o),o=Hb(t,e,n,r),o===null&&g_(t,e,r,Dy,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else g_(t,e,r,null,n)}}var Dy=null;function Hb(t,e,n,r){if(Dy=null,t=XM(r),t=Wc(t),t!==null)if(e=Au(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dy=t,null}function CN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rG()){case KM:return 1;case hN:return 4;case By:case iG:return 16;case pN:return 536870912;default:return 16}default:return 16}}var wl=null,QM=null,Z0=null;function bN(){if(Z0)return Z0;var t,e=QM,n=e.length,r,i="value"in wl?wl.value:wl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Z0=i.slice(t,1<r?1-r:void 0)}function ey(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bv(){return!0}function KI(){return!1}function Mo(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?bv:KI,this.isPropagationStopped=KI,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bv)},persist:function(){},isPersistent:bv}),e}var Wf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZM=Mo(Wf),Jm=mr({},Wf,{view:0,detail:0}),vG=Mo(Jm),a_,l_,Bh,Ex=mr({},Jm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eA,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bh&&(Bh&&t.type==="mousemove"?(a_=t.screenX-Bh.screenX,l_=t.screenY-Bh.screenY):l_=a_=0,Bh=t),a_)},movementY:function(t){return"movementY"in t?t.movementY:l_}}),JI=Mo(Ex),yG=mr({},Ex,{dataTransfer:0}),xG=Mo(yG),SG=mr({},Jm,{relatedTarget:0}),c_=Mo(SG),_G=mr({},Wf,{animationName:0,elapsedTime:0,pseudoElement:0}),CG=Mo(_G),bG=mr({},Wf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wG=Mo(bG),EG=mr({},Wf,{data:0}),YI=Mo(EG),MG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TG[t])?!!e[t]:!1}function eA(){return RG}var PG=mr({},Jm,{key:function(t){if(t.key){var e=MG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ey(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eA,charCode:function(t){return t.type==="keypress"?ey(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ey(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),IG=Mo(PG),BG=mr({},Ex,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qI=Mo(BG),OG=mr({},Jm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eA}),LG=Mo(OG),DG=mr({},Wf,{propertyName:0,elapsedTime:0,pseudoElement:0}),FG=Mo(DG),NG=mr({},Ex,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UG=Mo(NG),kG=[9,13,27,32],tA=Da&&"CompositionEvent"in window,yp=null;Da&&"documentMode"in document&&(yp=document.documentMode);var zG=Da&&"TextEvent"in window&&!yp,wN=Da&&(!tA||yp&&8<yp&&11>=yp),QI=String.fromCharCode(32),ZI=!1;function EN(t,e){switch(t){case"keyup":return kG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ld=!1;function HG(t,e){switch(t){case"compositionend":return MN(e);case"keypress":return e.which!==32?null:(ZI=!0,QI);case"textInput":return t=e.data,t===QI&&ZI?null:t;default:return null}}function VG(t,e){if(Ld)return t==="compositionend"||!tA&&EN(t,e)?(t=bN(),Z0=QM=wl=null,Ld=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wN&&e.locale!=="ko"?null:e.data;default:return null}}var GG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GG[t.type]:e==="textarea"}function AN(t,e,n,r){iN(r),e=Fy(e,"onChange"),0<e.length&&(n=new ZM("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xp=null,Xp=null;function $G(t){UN(t,0)}function Mx(t){var e=Nd(t);if(q3(e))return t}function WG(t,e){if(t==="change")return e}var TN=!1;if(Da){var u_;if(Da){var d_="oninput"in document;if(!d_){var t2=document.createElement("div");t2.setAttribute("oninput","return;"),d_=typeof t2.oninput=="function"}u_=d_}else u_=!1;TN=u_&&(!document.documentMode||9<document.documentMode)}function n2(){xp&&(xp.detachEvent("onpropertychange",RN),Xp=xp=null)}function RN(t){if(t.propertyName==="value"&&Mx(Xp)){var e=[];AN(e,Xp,t,XM(t)),lN($G,e)}}function jG(t,e,n){t==="focusin"?(n2(),xp=e,Xp=n,xp.attachEvent("onpropertychange",RN)):t==="focusout"&&n2()}function XG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mx(Xp)}function KG(t,e){if(t==="click")return Mx(e)}function JG(t,e){if(t==="input"||t==="change")return Mx(e)}function YG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Is=typeof Object.is=="function"?Object.is:YG;function Kp(t,e){if(Is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bb.call(e,i)||!Is(t[i],e[i]))return!1}return!0}function r2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i2(t,e){var n=r2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r2(n)}}function PN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IN(){for(var t=window,e=Ry();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ry(t.document)}return e}function nA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qG(t){var e=IN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PN(n.ownerDocument.documentElement,n)){if(r!==null&&nA(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=i2(n,o);var s=i2(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QG=Da&&"documentMode"in document&&11>=document.documentMode,Dd=null,Vb=null,Sp=null,Gb=!1;function o2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gb||Dd==null||Dd!==Ry(r)||(r=Dd,"selectionStart"in r&&nA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sp&&Kp(Sp,r)||(Sp=r,r=Fy(Vb,"onSelect"),0<r.length&&(e=new ZM("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dd)))}function wv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fd={animationend:wv("Animation","AnimationEnd"),animationiteration:wv("Animation","AnimationIteration"),animationstart:wv("Animation","AnimationStart"),transitionend:wv("Transition","TransitionEnd")},f_={},BN={};Da&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete Fd.animationend.animation,delete Fd.animationiteration.animation,delete Fd.animationstart.animation),"TransitionEvent"in window||delete Fd.transitionend.transition);function Ax(t){if(f_[t])return f_[t];if(!Fd[t])return t;var e=Fd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BN)return f_[t]=e[n];return t}var ON=Ax("animationend"),LN=Ax("animationiteration"),DN=Ax("animationstart"),FN=Ax("transitionend"),NN=new Map,s2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jl(t,e){NN.set(t,e),Mu(e,[t])}for(var h_=0;h_<s2.length;h_++){var p_=s2[h_],ZG=p_.toLowerCase(),e$=p_[0].toUpperCase()+p_.slice(1);Jl(ZG,"on"+e$)}Jl(ON,"onAnimationEnd");Jl(LN,"onAnimationIteration");Jl(DN,"onAnimationStart");Jl("dblclick","onDoubleClick");Jl("focusin","onFocus");Jl("focusout","onBlur");Jl(FN,"onTransitionEnd");mf("onMouseEnter",["mouseout","mouseover"]);mf("onMouseLeave",["mouseout","mouseover"]);mf("onPointerEnter",["pointerout","pointerover"]);mf("onPointerLeave",["pointerout","pointerover"]);Mu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Mu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Mu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Mu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Mu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t$=new Set("cancel close invalid load scroll toggle".split(" ").concat(cp));function a2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Z9(r,e,void 0,t),t.currentTarget=null}function UN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;a2(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;a2(i,a,c),o=l}}}if(Iy)throw t=Ub,Iy=!1,Ub=null,t}function qn(t,e){var n=e[Kb];n===void 0&&(n=e[Kb]=new Set);var r=t+"__bubble";n.has(r)||(kN(e,t,2,!1),n.add(r))}function m_(t,e,n){var r=0;e&&(r|=4),kN(n,t,r,e)}var Ev="_reactListening"+Math.random().toString(36).slice(2);function Jp(t){if(!t[Ev]){t[Ev]=!0,j3.forEach(function(n){n!=="selectionchange"&&(t$.has(n)||m_(n,!1,t),m_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ev]||(e[Ev]=!0,m_("selectionchange",!1,e))}}function kN(t,e,n,r){switch(CN(e)){case 1:var i=mG;break;case 4:i=gG;break;default:i=qM}n=i.bind(null,e,n,t),i=void 0,!Nb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function g_(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Wc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}lN(function(){var c=o,u=XM(n),d=[];e:{var f=NN.get(t);if(f!==void 0){var m=ZM,v=t;switch(t){case"keypress":if(ey(n)===0)break e;case"keydown":case"keyup":m=IG;break;case"focusin":v="focus",m=c_;break;case"focusout":v="blur",m=c_;break;case"beforeblur":case"afterblur":m=c_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=JI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LG;break;case ON:case LN:case DN:m=CG;break;case FN:m=FG;break;case"scroll":m=vG;break;case"wheel":m=UG;break;case"copy":case"cut":case"paste":m=wG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=qI}var x=(e&4)!==0,y=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var S=c,_;S!==null;){_=S;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,g!==null&&(w=Gp(S,g),w!=null&&x.push(Yp(S,w,_)))),y)break;S=S.return}0<x.length&&(f=new m(f,v,null,n,u),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Db&&(v=n.relatedTarget||n.fromElement)&&(Wc(v)||v[Fa]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Wc(v):null,v!==null&&(y=Au(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=JI,w="onMouseLeave",g="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=qI,w="onPointerLeave",g="onPointerEnter",S="pointer"),y=m==null?f:Nd(m),_=v==null?f:Nd(v),f=new x(w,S+"leave",m,n,u),f.target=y,f.relatedTarget=_,w=null,Wc(u)===c&&(x=new x(g,S+"enter",v,n,u),x.target=_,x.relatedTarget=y,w=x),y=w,m&&v)t:{for(x=m,g=v,S=0,_=x;_;_=Qu(_))S++;for(_=0,w=g;w;w=Qu(w))_++;for(;0<S-_;)x=Qu(x),S--;for(;0<_-S;)g=Qu(g),_--;for(;S--;){if(x===g||g!==null&&x===g.alternate)break t;x=Qu(x),g=Qu(g)}x=null}else x=null;m!==null&&l2(d,f,m,x,!1),v!==null&&y!==null&&l2(d,y,v,x,!0)}}e:{if(f=c?Nd(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var A=WG;else if(e2(f))if(TN)A=JG;else{A=XG;var M=jG}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=KG);if(A&&(A=A(t,c))){AN(d,A,n,u);break e}M&&M(t,f,c),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&Pb(f,"number",f.value)}switch(M=c?Nd(c):window,t){case"focusin":(e2(M)||M.contentEditable==="true")&&(Dd=M,Vb=c,Sp=null);break;case"focusout":Sp=Vb=Dd=null;break;case"mousedown":Gb=!0;break;case"contextmenu":case"mouseup":case"dragend":Gb=!1,o2(d,n,u);break;case"selectionchange":if(QG)break;case"keydown":case"keyup":o2(d,n,u)}var P;if(tA)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ld?EN(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(wN&&n.locale!=="ko"&&(Ld||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ld&&(P=bN()):(wl=u,QM="value"in wl?wl.value:wl.textContent,Ld=!0)),M=Fy(c,I),0<M.length&&(I=new YI(I,t,null,n,u),d.push({event:I,listeners:M}),P?I.data=P:(P=MN(n),P!==null&&(I.data=P)))),(P=zG?HG(t,n):VG(t,n))&&(c=Fy(c,"onBeforeInput"),0<c.length&&(u=new YI("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}UN(d,e)})}function Yp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fy(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Gp(t,n),o!=null&&r.unshift(Yp(t,o,i)),o=Gp(t,e),o!=null&&r.push(Yp(t,o,i))),t=t.return}return r}function Qu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l2(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Gp(n,o),l!=null&&s.unshift(Yp(n,l,a))):i||(l=Gp(n,o),l!=null&&s.push(Yp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var n$=/\r\n?/g,r$=/\u0000|\uFFFD/g;function c2(t){return(typeof t=="string"?t:""+t).replace(n$,`
`).replace(r$,"")}function Mv(t,e,n){if(e=c2(e),c2(t)!==e&&n)throw Error(mt(425))}function Ny(){}var $b=null,Wb=null;function jb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xb=typeof setTimeout=="function"?setTimeout:void 0,i$=typeof clearTimeout=="function"?clearTimeout:void 0,u2=typeof Promise=="function"?Promise:void 0,o$=typeof queueMicrotask=="function"?queueMicrotask:typeof u2<"u"?function(t){return u2.resolve(null).then(t).catch(s$)}:Xb;function s$(t){setTimeout(function(){throw t})}function v_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),jp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);jp(e)}function Ll(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jf=Math.random().toString(36).slice(2),js="__reactFiber$"+jf,qp="__reactProps$"+jf,Fa="__reactContainer$"+jf,Kb="__reactEvents$"+jf,a$="__reactListeners$"+jf,l$="__reactHandles$"+jf;function Wc(t){var e=t[js];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fa]||n[js]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d2(t);t!==null;){if(n=t[js])return n;t=d2(t)}return e}t=n,n=t.parentNode}return null}function Ym(t){return t=t[js]||t[Fa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Nd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(mt(33))}function Tx(t){return t[qp]||null}var Jb=[],Ud=-1;function Yl(t){return{current:t}}function er(t){0>Ud||(t.current=Jb[Ud],Jb[Ud]=null,Ud--)}function Jn(t,e){Ud++,Jb[Ud]=t.current,t.current=e}var zl={},Mi=Yl(zl),Yi=Yl(!1),mu=zl;function gf(t,e){var n=t.type.contextTypes;if(!n)return zl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qi(t){return t=t.childContextTypes,t!=null}function Uy(){er(Yi),er(Mi)}function f2(t,e,n){if(Mi.current!==zl)throw Error(mt(168));Jn(Mi,e),Jn(Yi,n)}function zN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(mt(108,j9(t)||"Unknown",i));return mr({},n,r)}function ky(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zl,mu=Mi.current,Jn(Mi,t),Jn(Yi,Yi.current),!0}function h2(t,e,n){var r=t.stateNode;if(!r)throw Error(mt(169));n?(t=zN(t,e,mu),r.__reactInternalMemoizedMergedChildContext=t,er(Yi),er(Mi),Jn(Mi,t)):er(Yi),Jn(Yi,n)}var wa=null,Rx=!1,y_=!1;function HN(t){wa===null?wa=[t]:wa.push(t)}function c$(t){Rx=!0,HN(t)}function ql(){if(!y_&&wa!==null){y_=!0;var t=0,e=kn;try{var n=wa;for(kn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wa=null,Rx=!1}catch(i){throw wa!==null&&(wa=wa.slice(t+1)),fN(KM,ql),i}finally{kn=e,y_=!1}}return null}var kd=[],zd=0,zy=null,Hy=0,jo=[],Xo=0,gu=null,Ta=1,Ra="";function Dc(t,e){kd[zd++]=Hy,kd[zd++]=zy,zy=t,Hy=e}function VN(t,e,n){jo[Xo++]=Ta,jo[Xo++]=Ra,jo[Xo++]=gu,gu=t;var r=Ta;t=Ra;var i=32-Ms(r)-1;r&=~(1<<i),n+=1;var o=32-Ms(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ta=1<<32-Ms(e)+i|n<<i|r,Ra=o+t}else Ta=1<<o|n<<i|r,Ra=t}function rA(t){t.return!==null&&(Dc(t,1),VN(t,1,0))}function iA(t){for(;t===zy;)zy=kd[--zd],kd[zd]=null,Hy=kd[--zd],kd[zd]=null;for(;t===gu;)gu=jo[--Xo],jo[Xo]=null,Ra=jo[--Xo],jo[Xo]=null,Ta=jo[--Xo],jo[Xo]=null}var yo=null,go=null,rr=!1,Cs=null;function GN(t,e){var n=Yo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yo=t,go=Ll(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yo=t,go=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gu!==null?{id:Ta,overflow:Ra}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yo=t,go=null,!0):!1;default:return!1}}function Yb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qb(t){if(rr){var e=go;if(e){var n=e;if(!p2(t,e)){if(Yb(t))throw Error(mt(418));e=Ll(n.nextSibling);var r=yo;e&&p2(t,e)?GN(r,n):(t.flags=t.flags&-4097|2,rr=!1,yo=t)}}else{if(Yb(t))throw Error(mt(418));t.flags=t.flags&-4097|2,rr=!1,yo=t}}}function m2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yo=t}function Av(t){if(t!==yo)return!1;if(!rr)return m2(t),rr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jb(t.type,t.memoizedProps)),e&&(e=go)){if(Yb(t))throw $N(),Error(mt(418));for(;e;)GN(t,e),e=Ll(e.nextSibling)}if(m2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(mt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){go=Ll(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}go=null}}else go=yo?Ll(t.stateNode.nextSibling):null;return!0}function $N(){for(var t=go;t;)t=Ll(t.nextSibling)}function vf(){go=yo=null,rr=!1}function oA(t){Cs===null?Cs=[t]:Cs.push(t)}var u$=Wa.ReactCurrentBatchConfig;function Oh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(mt(309));var r=n.stateNode}if(!r)throw Error(mt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(mt(284));if(!n._owner)throw Error(mt(290,t))}return t}function Tv(t,e){throw t=Object.prototype.toString.call(e),Error(mt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g2(t){var e=t._init;return e(t._payload)}function WN(t){function e(g,S){if(t){var _=g.deletions;_===null?(g.deletions=[S],g.flags|=16):_.push(S)}}function n(g,S){if(!t)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function r(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function i(g,S){return g=Ul(g,S),g.index=0,g.sibling=null,g}function o(g,S,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<S?(g.flags|=2,S):_):(g.flags|=2,S)):(g.flags|=1048576,S)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,S,_,w){return S===null||S.tag!==6?(S=E_(_,g.mode,w),S.return=g,S):(S=i(S,_),S.return=g,S)}function l(g,S,_,w){var A=_.type;return A===Od?u(g,S,_.props.children,w,_.key):S!==null&&(S.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vl&&g2(A)===S.type)?(w=i(S,_.props),w.ref=Oh(g,S,_),w.return=g,w):(w=ay(_.type,_.key,_.props,null,g.mode,w),w.ref=Oh(g,S,_),w.return=g,w)}function c(g,S,_,w){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=M_(_,g.mode,w),S.return=g,S):(S=i(S,_.children||[]),S.return=g,S)}function u(g,S,_,w,A){return S===null||S.tag!==7?(S=su(_,g.mode,w,A),S.return=g,S):(S=i(S,_),S.return=g,S)}function d(g,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=E_(""+S,g.mode,_),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case vv:return _=ay(S.type,S.key,S.props,null,g.mode,_),_.ref=Oh(g,null,S),_.return=g,_;case Bd:return S=M_(S,g.mode,_),S.return=g,S;case vl:var w=S._init;return d(g,w(S._payload),_)}if(ap(S)||Th(S))return S=su(S,g.mode,_,null),S.return=g,S;Tv(g,S)}return null}function f(g,S,_,w){var A=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return A!==null?null:a(g,S,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vv:return _.key===A?l(g,S,_,w):null;case Bd:return _.key===A?c(g,S,_,w):null;case vl:return A=_._init,f(g,S,A(_._payload),w)}if(ap(_)||Th(_))return A!==null?null:u(g,S,_,w,null);Tv(g,_)}return null}function m(g,S,_,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(_)||null,a(S,g,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vv:return g=g.get(w.key===null?_:w.key)||null,l(S,g,w,A);case Bd:return g=g.get(w.key===null?_:w.key)||null,c(S,g,w,A);case vl:var M=w._init;return m(g,S,_,M(w._payload),A)}if(ap(w)||Th(w))return g=g.get(_)||null,u(S,g,w,A,null);Tv(S,w)}return null}function v(g,S,_,w){for(var A=null,M=null,P=S,I=S=0,T=null;P!==null&&I<_.length;I++){P.index>I?(T=P,P=null):T=P.sibling;var E=f(g,P,_[I],w);if(E===null){P===null&&(P=T);break}t&&P&&E.alternate===null&&e(g,P),S=o(E,S,I),M===null?A=E:M.sibling=E,M=E,P=T}if(I===_.length)return n(g,P),rr&&Dc(g,I),A;if(P===null){for(;I<_.length;I++)P=d(g,_[I],w),P!==null&&(S=o(P,S,I),M===null?A=P:M.sibling=P,M=P);return rr&&Dc(g,I),A}for(P=r(g,P);I<_.length;I++)T=m(P,g,I,_[I],w),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?I:T.key),S=o(T,S,I),M===null?A=T:M.sibling=T,M=T);return t&&P.forEach(function(B){return e(g,B)}),rr&&Dc(g,I),A}function x(g,S,_,w){var A=Th(_);if(typeof A!="function")throw Error(mt(150));if(_=A.call(_),_==null)throw Error(mt(151));for(var M=A=null,P=S,I=S=0,T=null,E=_.next();P!==null&&!E.done;I++,E=_.next()){P.index>I?(T=P,P=null):T=P.sibling;var B=f(g,P,E.value,w);if(B===null){P===null&&(P=T);break}t&&P&&B.alternate===null&&e(g,P),S=o(B,S,I),M===null?A=B:M.sibling=B,M=B,P=T}if(E.done)return n(g,P),rr&&Dc(g,I),A;if(P===null){for(;!E.done;I++,E=_.next())E=d(g,E.value,w),E!==null&&(S=o(E,S,I),M===null?A=E:M.sibling=E,M=E);return rr&&Dc(g,I),A}for(P=r(g,P);!E.done;I++,E=_.next())E=m(P,g,I,E.value,w),E!==null&&(t&&E.alternate!==null&&P.delete(E.key===null?I:E.key),S=o(E,S,I),M===null?A=E:M.sibling=E,M=E);return t&&P.forEach(function(F){return e(g,F)}),rr&&Dc(g,I),A}function y(g,S,_,w){if(typeof _=="object"&&_!==null&&_.type===Od&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case vv:e:{for(var A=_.key,M=S;M!==null;){if(M.key===A){if(A=_.type,A===Od){if(M.tag===7){n(g,M.sibling),S=i(M,_.props.children),S.return=g,g=S;break e}}else if(M.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===vl&&g2(A)===M.type){n(g,M.sibling),S=i(M,_.props),S.ref=Oh(g,M,_),S.return=g,g=S;break e}n(g,M);break}else e(g,M);M=M.sibling}_.type===Od?(S=su(_.props.children,g.mode,w,_.key),S.return=g,g=S):(w=ay(_.type,_.key,_.props,null,g.mode,w),w.ref=Oh(g,S,_),w.return=g,g=w)}return s(g);case Bd:e:{for(M=_.key;S!==null;){if(S.key===M)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(g,S.sibling),S=i(S,_.children||[]),S.return=g,g=S;break e}else{n(g,S);break}else e(g,S);S=S.sibling}S=M_(_,g.mode,w),S.return=g,g=S}return s(g);case vl:return M=_._init,y(g,S,M(_._payload),w)}if(ap(_))return v(g,S,_,w);if(Th(_))return x(g,S,_,w);Tv(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(n(g,S.sibling),S=i(S,_),S.return=g,g=S):(n(g,S),S=E_(_,g.mode,w),S.return=g,g=S),s(g)):n(g,S)}return y}var yf=WN(!0),jN=WN(!1),Vy=Yl(null),Gy=null,Hd=null,sA=null;function aA(){sA=Hd=Gy=null}function lA(t){var e=Vy.current;er(Vy),t._currentValue=e}function Qb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function af(t,e){Gy=t,sA=Hd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xi=!0),t.firstContext=null)}function ts(t){var e=t._currentValue;if(sA!==t)if(t={context:t,memoizedValue:e,next:null},Hd===null){if(Gy===null)throw Error(mt(308));Hd=t,Gy.dependencies={lanes:0,firstContext:t}}else Hd=Hd.next=t;return e}var jc=null;function cA(t){jc===null?jc=[t]:jc.push(t)}function XN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cA(e)):(n.next=i.next,i.next=n),e.interleaved=n,Na(t,r)}function Na(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yl=!1;function uA(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ba(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Na(t,n)}return i=r.interleaved,i===null?(e.next=e,cA(r)):(e.next=i.next,i.next=e),r.interleaved=e,Na(t,n)}function ty(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JM(t,n)}}function v2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $y(t,e,n,r){var i=t.updateQueue;yl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(f=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=mr({},d,f);break e;case 2:yl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=d):u=u.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);yu|=s,t.lanes=s,t.memoizedState=d}}function y2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(mt(191,i));i.call(r)}}}var qm={},Js=Yl(qm),Qp=Yl(qm),Zp=Yl(qm);function Xc(t){if(t===qm)throw Error(mt(174));return t}function dA(t,e){switch(Jn(Zp,e),Jn(Qp,t),Jn(Js,qm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bb(e,t)}er(Js),Jn(Js,e)}function xf(){er(Js),er(Qp),er(Zp)}function JN(t){Xc(Zp.current);var e=Xc(Js.current),n=Bb(e,t.type);e!==n&&(Jn(Qp,t),Jn(Js,n))}function fA(t){Qp.current===t&&(er(Js),er(Qp))}var ar=Yl(0);function Wy(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var x_=[];function hA(){for(var t=0;t<x_.length;t++)x_[t]._workInProgressVersionPrimary=null;x_.length=0}var ny=Wa.ReactCurrentDispatcher,S_=Wa.ReactCurrentBatchConfig,vu=0,hr=null,Fr=null,Jr=null,jy=!1,_p=!1,em=0,d$=0;function gi(){throw Error(mt(321))}function pA(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Is(t[n],e[n]))return!1;return!0}function mA(t,e,n,r,i,o){if(vu=o,hr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ny.current=t===null||t.memoizedState===null?m$:g$,t=n(r,i),_p){o=0;do{if(_p=!1,em=0,25<=o)throw Error(mt(301));o+=1,Jr=Fr=null,e.updateQueue=null,ny.current=v$,t=n(r,i)}while(_p)}if(ny.current=Xy,e=Fr!==null&&Fr.next!==null,vu=0,Jr=Fr=hr=null,jy=!1,e)throw Error(mt(300));return t}function gA(){var t=em!==0;return em=0,t}function $s(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?hr.memoizedState=Jr=t:Jr=Jr.next=t,Jr}function ns(){if(Fr===null){var t=hr.alternate;t=t!==null?t.memoizedState:null}else t=Fr.next;var e=Jr===null?hr.memoizedState:Jr.next;if(e!==null)Jr=e,Fr=t;else{if(t===null)throw Error(mt(310));Fr=t,t={memoizedState:Fr.memoizedState,baseState:Fr.baseState,baseQueue:Fr.baseQueue,queue:Fr.queue,next:null},Jr===null?hr.memoizedState=Jr=t:Jr=Jr.next=t}return Jr}function tm(t,e){return typeof e=="function"?e(t):e}function __(t){var e=ns(),n=e.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=t;var r=Fr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((vu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,hr.lanes|=u,yu|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Is(r,e.memoizedState)||(Xi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,hr.lanes|=o,yu|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function C_(t){var e=ns(),n=e.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Is(o,e.memoizedState)||(Xi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function YN(){}function qN(t,e){var n=hr,r=ns(),i=e(),o=!Is(r.memoizedState,i);if(o&&(r.memoizedState=i,Xi=!0),r=r.queue,vA(eU.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Jr!==null&&Jr.memoizedState.tag&1){if(n.flags|=2048,nm(9,ZN.bind(null,n,r,i,e),void 0,null),Yr===null)throw Error(mt(349));vu&30||QN(n,e,i)}return i}function QN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=hr.updateQueue,e===null?(e={lastEffect:null,stores:null},hr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZN(t,e,n,r){e.value=n,e.getSnapshot=r,tU(e)&&nU(t)}function eU(t,e,n){return n(function(){tU(e)&&nU(t)})}function tU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Is(t,n)}catch{return!0}}function nU(t){var e=Na(t,1);e!==null&&As(e,t,1,-1)}function x2(t){var e=$s();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tm,lastRenderedState:t},e.queue=t,t=t.dispatch=p$.bind(null,hr,t),[e.memoizedState,t]}function nm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=hr.updateQueue,e===null?(e={lastEffect:null,stores:null},hr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rU(){return ns().memoizedState}function ry(t,e,n,r){var i=$s();hr.flags|=t,i.memoizedState=nm(1|e,n,void 0,r===void 0?null:r)}function Px(t,e,n,r){var i=ns();r=r===void 0?null:r;var o=void 0;if(Fr!==null){var s=Fr.memoizedState;if(o=s.destroy,r!==null&&pA(r,s.deps)){i.memoizedState=nm(e,n,o,r);return}}hr.flags|=t,i.memoizedState=nm(1|e,n,o,r)}function S2(t,e){return ry(8390656,8,t,e)}function vA(t,e){return Px(2048,8,t,e)}function iU(t,e){return Px(4,2,t,e)}function oU(t,e){return Px(4,4,t,e)}function sU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function aU(t,e,n){return n=n!=null?n.concat([t]):null,Px(4,4,sU.bind(null,e,t),n)}function yA(){}function lU(t,e){var n=ns();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pA(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cU(t,e){var n=ns();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pA(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uU(t,e,n){return vu&21?(Is(n,e)||(n=mN(),hr.lanes|=n,yu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xi=!0),t.memoizedState=n)}function f$(t,e){var n=kn;kn=n!==0&&4>n?n:4,t(!0);var r=S_.transition;S_.transition={};try{t(!1),e()}finally{kn=n,S_.transition=r}}function dU(){return ns().memoizedState}function h$(t,e,n){var r=Nl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fU(t))hU(e,n);else if(n=XN(t,e,n,r),n!==null){var i=Fi();As(n,t,r,i),pU(n,e,r)}}function p$(t,e,n){var r=Nl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fU(t))hU(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Is(a,s)){var l=e.interleaved;l===null?(i.next=i,cA(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XN(t,e,i,r),n!==null&&(i=Fi(),As(n,t,r,i),pU(n,e,r))}}function fU(t){var e=t.alternate;return t===hr||e!==null&&e===hr}function hU(t,e){_p=jy=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,JM(t,n)}}var Xy={readContext:ts,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},m$={readContext:ts,useCallback:function(t,e){return $s().memoizedState=[t,e===void 0?null:e],t},useContext:ts,useEffect:S2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ry(4194308,4,sU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ry(4194308,4,t,e)},useInsertionEffect:function(t,e){return ry(4,2,t,e)},useMemo:function(t,e){var n=$s();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$s();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h$.bind(null,hr,t),[r.memoizedState,t]},useRef:function(t){var e=$s();return t={current:t},e.memoizedState=t},useState:x2,useDebugValue:yA,useDeferredValue:function(t){return $s().memoizedState=t},useTransition:function(){var t=x2(!1),e=t[0];return t=f$.bind(null,t[1]),$s().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=hr,i=$s();if(rr){if(n===void 0)throw Error(mt(407));n=n()}else{if(n=e(),Yr===null)throw Error(mt(349));vu&30||QN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,S2(eU.bind(null,r,o,t),[t]),r.flags|=2048,nm(9,ZN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$s(),e=Yr.identifierPrefix;if(rr){var n=Ra,r=Ta;n=(r&~(1<<32-Ms(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=em++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d$++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g$={readContext:ts,useCallback:lU,useContext:ts,useEffect:vA,useImperativeHandle:aU,useInsertionEffect:iU,useLayoutEffect:oU,useMemo:cU,useReducer:__,useRef:rU,useState:function(){return __(tm)},useDebugValue:yA,useDeferredValue:function(t){var e=ns();return uU(e,Fr.memoizedState,t)},useTransition:function(){var t=__(tm)[0],e=ns().memoizedState;return[t,e]},useMutableSource:YN,useSyncExternalStore:qN,useId:dU,unstable_isNewReconciler:!1},v$={readContext:ts,useCallback:lU,useContext:ts,useEffect:vA,useImperativeHandle:aU,useInsertionEffect:iU,useLayoutEffect:oU,useMemo:cU,useReducer:C_,useRef:rU,useState:function(){return C_(tm)},useDebugValue:yA,useDeferredValue:function(t){var e=ns();return Fr===null?e.memoizedState=t:uU(e,Fr.memoizedState,t)},useTransition:function(){var t=C_(tm)[0],e=ns().memoizedState;return[t,e]},useMutableSource:YN,useSyncExternalStore:qN,useId:dU,unstable_isNewReconciler:!1};function ys(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ix={isMounted:function(t){return(t=t._reactInternals)?Au(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fi(),i=Nl(t),o=Ba(r,i);o.payload=e,n!=null&&(o.callback=n),e=Dl(t,o,i),e!==null&&(As(e,t,i,r),ty(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fi(),i=Nl(t),o=Ba(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Dl(t,o,i),e!==null&&(As(e,t,i,r),ty(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fi(),r=Nl(t),i=Ba(n,r);i.tag=2,e!=null&&(i.callback=e),e=Dl(t,i,r),e!==null&&(As(e,t,r,n),ty(e,t,r))}};function _2(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Kp(n,r)||!Kp(i,o):!0}function mU(t,e,n){var r=!1,i=zl,o=e.contextType;return typeof o=="object"&&o!==null?o=ts(o):(i=qi(e)?mu:Mi.current,r=e.contextTypes,o=(r=r!=null)?gf(t,i):zl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ix,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function C2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ix.enqueueReplaceState(e,e.state,null)}function ew(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},uA(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ts(o):(o=qi(e)?mu:Mi.current,i.context=gf(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Zb(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ix.enqueueReplaceState(i,i.state,null),$y(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sf(t,e){try{var n="",r=e;do n+=W9(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function b_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y$=typeof WeakMap=="function"?WeakMap:Map;function gU(t,e,n){n=Ba(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jy||(Jy=!0,dw=r),tw(t,e)},n}function vU(t,e,n){n=Ba(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tw(t,e),typeof r!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function b2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y$;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=B$.bind(null,t,e,n),e.then(t,t))}function w2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function E2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ba(-1,1),e.tag=2,Dl(n,e,1))),n.lanes|=1),t)}var x$=Wa.ReactCurrentOwner,Xi=!1;function Oi(t,e,n,r){e.child=t===null?jN(e,null,n,r):yf(e,t.child,n,r)}function M2(t,e,n,r,i){n=n.render;var o=e.ref;return af(e,i),r=mA(t,e,n,r,o,i),n=gA(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ua(t,e,i)):(rr&&n&&rA(e),e.flags|=1,Oi(t,e,r,i),e.child)}function A2(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!MA(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,yU(t,e,o,r,i)):(t=ay(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Kp,n(s,r)&&t.ref===e.ref)return Ua(t,e,i)}return e.flags|=1,t=Ul(o,r),t.ref=e.ref,t.return=e,e.child=t}function yU(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Kp(o,r)&&t.ref===e.ref)if(Xi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Xi=!0);else return e.lanes=t.lanes,Ua(t,e,i)}return nw(t,e,n,r,i)}function xU(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jn(Gd,fo),fo|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Jn(Gd,fo),fo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Jn(Gd,fo),fo|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Jn(Gd,fo),fo|=r;return Oi(t,e,i,n),e.child}function SU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nw(t,e,n,r,i){var o=qi(n)?mu:Mi.current;return o=gf(e,o),af(e,i),n=mA(t,e,n,r,o,i),r=gA(),t!==null&&!Xi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ua(t,e,i)):(rr&&r&&rA(e),e.flags|=1,Oi(t,e,n,i),e.child)}function T2(t,e,n,r,i){if(qi(n)){var o=!0;ky(e)}else o=!1;if(af(e,i),e.stateNode===null)iy(t,e),mU(e,n,r),ew(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ts(c):(c=qi(n)?mu:Mi.current,c=gf(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&C2(e,s,r,c),yl=!1;var f=e.memoizedState;s.state=f,$y(e,r,s,i),l=e.memoizedState,a!==r||f!==l||Yi.current||yl?(typeof u=="function"&&(Zb(e,n,u,r),l=e.memoizedState),(a=yl||_2(e,n,a,r,f,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,KN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ys(e.type,a),s.props=c,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ts(l):(l=qi(n)?mu:Mi.current,l=gf(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&C2(e,s,r,l),yl=!1,f=e.memoizedState,s.state=f,$y(e,r,s,i);var v=e.memoizedState;a!==d||f!==v||Yi.current||yl?(typeof m=="function"&&(Zb(e,n,m,r),v=e.memoizedState),(c=yl||_2(e,n,c,r,f,v,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rw(t,e,n,r,o,i)}function rw(t,e,n,r,i,o){SU(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&h2(e,n,!1),Ua(t,e,o);r=e.stateNode,x$.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=yf(e,t.child,null,o),e.child=yf(e,null,a,o)):Oi(t,e,a,o),e.memoizedState=r.state,i&&h2(e,n,!0),e.child}function _U(t){var e=t.stateNode;e.pendingContext?f2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&f2(t,e.context,!1),dA(t,e.containerInfo)}function R2(t,e,n,r,i){return vf(),oA(i),e.flags|=256,Oi(t,e,n,r),e.child}var iw={dehydrated:null,treeContext:null,retryLane:0};function ow(t){return{baseLanes:t,cachePool:null,transitions:null}}function CU(t,e,n){var r=e.pendingProps,i=ar.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Jn(ar,i&1),t===null)return qb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Lx(s,r,0,null),t=su(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ow(n),e.memoizedState=iw,t):xA(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return S$(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ul(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ul(a,o):(o=su(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ow(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=iw,r}return o=t.child,t=o.sibling,r=Ul(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xA(t,e){return e=Lx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rv(t,e,n,r){return r!==null&&oA(r),yf(e,t.child,null,n),t=xA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S$(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=b_(Error(mt(422))),Rv(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Lx({mode:"visible",children:r.children},i,0,null),o=su(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&yf(e,t.child,null,s),e.child.memoizedState=ow(s),e.memoizedState=iw,o);if(!(e.mode&1))return Rv(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(mt(419)),r=b_(o,r,void 0),Rv(t,e,s,r)}if(a=(s&t.childLanes)!==0,Xi||a){if(r=Yr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Na(t,i),As(r,t,i,-1))}return EA(),r=b_(Error(mt(421))),Rv(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=O$.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,go=Ll(i.nextSibling),yo=e,rr=!0,Cs=null,t!==null&&(jo[Xo++]=Ta,jo[Xo++]=Ra,jo[Xo++]=gu,Ta=t.id,Ra=t.overflow,gu=e),e=xA(e,r.children),e.flags|=4096,e)}function P2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qb(t.return,e,n)}function w_(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function bU(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Oi(t,e,r.children,n),r=ar.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P2(t,n,e);else if(t.tag===19)P2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Jn(ar,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wy(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),w_(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wy(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}w_(e,!0,n,null,o);break;case"together":w_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ua(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(mt(153));if(e.child!==null){for(t=e.child,n=Ul(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ul(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _$(t,e,n){switch(e.tag){case 3:_U(e),vf();break;case 5:JN(e);break;case 1:qi(e.type)&&ky(e);break;case 4:dA(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Jn(Vy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Jn(ar,ar.current&1),e.flags|=128,null):n&e.child.childLanes?CU(t,e,n):(Jn(ar,ar.current&1),t=Ua(t,e,n),t!==null?t.sibling:null);Jn(ar,ar.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Jn(ar,ar.current),r)break;return null;case 22:case 23:return e.lanes=0,xU(t,e,n)}return Ua(t,e,n)}var wU,sw,EU,MU;wU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sw=function(){};EU=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Xc(Js.current);var o=null;switch(n){case"input":i=Tb(t,i),r=Tb(t,r),o=[];break;case"select":i=mr({},i,{value:void 0}),r=mr({},r,{value:void 0}),o=[];break;case"textarea":i=Ib(t,i),r=Ib(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ny)}Ob(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&qn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};MU=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lh(t,e){if(!rr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C$(t,e,n){var r=e.pendingProps;switch(iA(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(e),null;case 1:return qi(e.type)&&Uy(),vi(e),null;case 3:return r=e.stateNode,xf(),er(Yi),er(Mi),hA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Av(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cs!==null&&(pw(Cs),Cs=null))),sw(t,e),vi(e),null;case 5:fA(e);var i=Xc(Zp.current);if(n=e.type,t!==null&&e.stateNode!=null)EU(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(mt(166));return vi(e),null}if(t=Xc(Js.current),Av(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[js]=e,r[qp]=o,t=(e.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(i=0;i<cp.length;i++)qn(cp[i],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":kI(r,o),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qn("invalid",r);break;case"textarea":HI(r,o),qn("invalid",r)}Ob(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Mv(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Mv(r.textContent,a,t),i=["children",""+a]):Hp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qn("scroll",r)}switch(n){case"input":yv(r),zI(r,o,!0);break;case"textarea":yv(r),VI(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ny)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[js]=e,t[qp]=r,wU(t,e,!1,!1),e.stateNode=t;e:{switch(s=Lb(n,r),n){case"dialog":qn("cancel",t),qn("close",t),i=r;break;case"iframe":case"object":case"embed":qn("load",t),i=r;break;case"video":case"audio":for(i=0;i<cp.length;i++)qn(cp[i],t);i=r;break;case"source":qn("error",t),i=r;break;case"img":case"image":case"link":qn("error",t),qn("load",t),i=r;break;case"details":qn("toggle",t),i=r;break;case"input":kI(t,r),i=Tb(t,r),qn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mr({},r,{value:void 0}),qn("invalid",t);break;case"textarea":HI(t,r),i=Ib(t,r),qn("invalid",t);break;default:i=r}Ob(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?rN(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tN(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vp(t,l):typeof l=="number"&&Vp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Hp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qn("scroll",t):l!=null&&GM(t,o,l,s))}switch(n){case"input":yv(t),zI(t,r,!1);break;case"textarea":yv(t),VI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?nf(t,!!r.multiple,o,!1):r.defaultValue!=null&&nf(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ny)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vi(e),null;case 6:if(t&&e.stateNode!=null)MU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(mt(166));if(n=Xc(Zp.current),Xc(Js.current),Av(e)){if(r=e.stateNode,n=e.memoizedProps,r[js]=e,(o=r.nodeValue!==n)&&(t=yo,t!==null))switch(t.tag){case 3:Mv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mv(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[js]=e,e.stateNode=r}return vi(e),null;case 13:if(er(ar),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rr&&go!==null&&e.mode&1&&!(e.flags&128))$N(),vf(),e.flags|=98560,o=!1;else if(o=Av(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(mt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(mt(317));o[js]=e}else vf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vi(e),o=!1}else Cs!==null&&(pw(Cs),Cs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ar.current&1?Nr===0&&(Nr=3):EA())),e.updateQueue!==null&&(e.flags|=4),vi(e),null);case 4:return xf(),sw(t,e),t===null&&Jp(e.stateNode.containerInfo),vi(e),null;case 10:return lA(e.type._context),vi(e),null;case 17:return qi(e.type)&&Uy(),vi(e),null;case 19:if(er(ar),o=e.memoizedState,o===null)return vi(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Lh(o,!1);else{if(Nr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Wy(t),s!==null){for(e.flags|=128,Lh(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Jn(ar,ar.current&1|2),e.child}t=t.sibling}o.tail!==null&&Er()>_f&&(e.flags|=128,r=!0,Lh(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wy(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lh(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!rr)return vi(e),null}else 2*Er()-o.renderingStartTime>_f&&n!==1073741824&&(e.flags|=128,r=!0,Lh(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Er(),e.sibling=null,n=ar.current,Jn(ar,r?n&1|2:n&1),e):(vi(e),null);case 22:case 23:return wA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fo&1073741824&&(vi(e),e.subtreeFlags&6&&(e.flags|=8192)):vi(e),null;case 24:return null;case 25:return null}throw Error(mt(156,e.tag))}function b$(t,e){switch(iA(e),e.tag){case 1:return qi(e.type)&&Uy(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xf(),er(Yi),er(Mi),hA(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fA(e),null;case 13:if(er(ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(mt(340));vf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return er(ar),null;case 4:return xf(),null;case 10:return lA(e.type._context),null;case 22:case 23:return wA(),null;case 24:return null;default:return null}}var Pv=!1,Ci=!1,w$=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function Vd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xr(t,e,r)}else n.current=null}function aw(t,e,n){try{n()}catch(r){xr(t,e,r)}}var I2=!1;function E$(t,e){if($b=Ly,t=IN(),nA(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wb={focusedElem:t,selectionRange:n},Ly=!1,Nt=e;Nt!==null;)if(e=Nt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Nt=t;else for(;Nt!==null;){e=Nt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,y=v.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:ys(e.type,x),y);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(w){xr(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Nt=t;break}Nt=e.return}return v=I2,I2=!1,v}function Cp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&aw(e,n,o)}i=i.next}while(i!==r)}}function Bx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AU(t){var e=t.alternate;e!==null&&(t.alternate=null,AU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[js],delete e[qp],delete e[Kb],delete e[a$],delete e[l$])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TU(t){return t.tag===5||t.tag===3||t.tag===4}function B2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ny));else if(r!==4&&(t=t.child,t!==null))for(cw(t,e,n),t=t.sibling;t!==null;)cw(t,e,n),t=t.sibling}function uw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uw(t,e,n),t=t.sibling;t!==null;)uw(t,e,n),t=t.sibling}var ni=null,Ss=!1;function nl(t,e,n){for(n=n.child;n!==null;)RU(t,e,n),n=n.sibling}function RU(t,e,n){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(wx,n)}catch{}switch(n.tag){case 5:Ci||Vd(n,e);case 6:var r=ni,i=Ss;ni=null,nl(t,e,n),ni=r,Ss=i,ni!==null&&(Ss?(t=ni,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ni.removeChild(n.stateNode));break;case 18:ni!==null&&(Ss?(t=ni,n=n.stateNode,t.nodeType===8?v_(t.parentNode,n):t.nodeType===1&&v_(t,n),jp(t)):v_(ni,n.stateNode));break;case 4:r=ni,i=Ss,ni=n.stateNode.containerInfo,Ss=!0,nl(t,e,n),ni=r,Ss=i;break;case 0:case 11:case 14:case 15:if(!Ci&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&aw(n,e,s),i=i.next}while(i!==r)}nl(t,e,n);break;case 1:if(!Ci&&(Vd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xr(n,e,a)}nl(t,e,n);break;case 21:nl(t,e,n);break;case 22:n.mode&1?(Ci=(r=Ci)||n.memoizedState!==null,nl(t,e,n),Ci=r):nl(t,e,n);break;default:nl(t,e,n)}}function O2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w$),e.forEach(function(r){var i=L$.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ds(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ni=a.stateNode,Ss=!1;break e;case 3:ni=a.stateNode.containerInfo,Ss=!0;break e;case 4:ni=a.stateNode.containerInfo,Ss=!0;break e}a=a.return}if(ni===null)throw Error(mt(160));RU(o,s,i),ni=null,Ss=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){xr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PU(e,t),e=e.sibling}function PU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ds(e,t),Gs(t),r&4){try{Cp(3,t,t.return),Bx(3,t)}catch(x){xr(t,t.return,x)}try{Cp(5,t,t.return)}catch(x){xr(t,t.return,x)}}break;case 1:ds(e,t),Gs(t),r&512&&n!==null&&Vd(n,n.return);break;case 5:if(ds(e,t),Gs(t),r&512&&n!==null&&Vd(n,n.return),t.flags&32){var i=t.stateNode;try{Vp(i,"")}catch(x){xr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Q3(i,o),Lb(a,s);var c=Lb(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?rN(i,d):u==="dangerouslySetInnerHTML"?tN(i,d):u==="children"?Vp(i,d):GM(i,u,d,c)}switch(a){case"input":Rb(i,o);break;case"textarea":Z3(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?nf(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?nf(i,!!o.multiple,o.defaultValue,!0):nf(i,!!o.multiple,o.multiple?[]:"",!1))}i[qp]=o}catch(x){xr(t,t.return,x)}}break;case 6:if(ds(e,t),Gs(t),r&4){if(t.stateNode===null)throw Error(mt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){xr(t,t.return,x)}}break;case 3:if(ds(e,t),Gs(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jp(e.containerInfo)}catch(x){xr(t,t.return,x)}break;case 4:ds(e,t),Gs(t);break;case 13:ds(e,t),Gs(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(CA=Er())),r&4&&O2(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ci=(c=Ci)||u,ds(e,t),Ci=c):ds(e,t),Gs(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Nt=t,u=t.child;u!==null;){for(d=Nt=u;Nt!==null;){switch(f=Nt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Cp(4,f,f.return);break;case 1:Vd(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){xr(r,n,x)}}break;case 5:Vd(f,f.return);break;case 22:if(f.memoizedState!==null){D2(d);continue}}m!==null?(m.return=f,Nt=m):D2(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nN("display",s))}catch(x){xr(t,t.return,x)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){xr(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ds(e,t),Gs(t),r&4&&O2(t);break;case 21:break;default:ds(e,t),Gs(t)}}function Gs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TU(n)){var r=n;break e}n=n.return}throw Error(mt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vp(i,""),r.flags&=-33);var o=B2(t);uw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=B2(t);cw(t,a,s);break;default:throw Error(mt(161))}}catch(l){xr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M$(t,e,n){Nt=t,IU(t)}function IU(t,e,n){for(var r=(t.mode&1)!==0;Nt!==null;){var i=Nt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Pv;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ci;a=Pv;var c=Ci;if(Pv=s,(Ci=l)&&!c)for(Nt=i;Nt!==null;)s=Nt,l=s.child,s.tag===22&&s.memoizedState!==null?F2(i):l!==null?(l.return=s,Nt=l):F2(i);for(;o!==null;)Nt=o,IU(o),o=o.sibling;Nt=i,Pv=a,Ci=c}L2(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Nt=o):L2(t)}}function L2(t){for(;Nt!==null;){var e=Nt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ci||Bx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ci)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ys(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&y2(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y2(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&jp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}Ci||e.flags&512&&lw(e)}catch(f){xr(e,e.return,f)}}if(e===t){Nt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Nt=n;break}Nt=e.return}}function D2(t){for(;Nt!==null;){var e=Nt;if(e===t){Nt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Nt=n;break}Nt=e.return}}function F2(t){for(;Nt!==null;){var e=Nt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Bx(4,e)}catch(l){xr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xr(e,i,l)}}var o=e.return;try{lw(e)}catch(l){xr(e,o,l)}break;case 5:var s=e.return;try{lw(e)}catch(l){xr(e,s,l)}}}catch(l){xr(e,e.return,l)}if(e===t){Nt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Nt=a;break}Nt=e.return}}var A$=Math.ceil,Ky=Wa.ReactCurrentDispatcher,SA=Wa.ReactCurrentOwner,Zo=Wa.ReactCurrentBatchConfig,Tn=0,Yr=null,Br=null,oi=0,fo=0,Gd=Yl(0),Nr=0,rm=null,yu=0,Ox=0,_A=0,bp=null,ji=null,CA=0,_f=1/0,ba=null,Jy=!1,dw=null,Fl=null,Iv=!1,El=null,Yy=0,wp=0,fw=null,oy=-1,sy=0;function Fi(){return Tn&6?Er():oy!==-1?oy:oy=Er()}function Nl(t){return t.mode&1?Tn&2&&oi!==0?oi&-oi:u$.transition!==null?(sy===0&&(sy=mN()),sy):(t=kn,t!==0||(t=window.event,t=t===void 0?16:CN(t.type)),t):1}function As(t,e,n,r){if(50<wp)throw wp=0,fw=null,Error(mt(185));Km(t,n,r),(!(Tn&2)||t!==Yr)&&(t===Yr&&(!(Tn&2)&&(Ox|=n),Nr===4&&Cl(t,oi)),Qi(t,r),n===1&&Tn===0&&!(e.mode&1)&&(_f=Er()+500,Rx&&ql()))}function Qi(t,e){var n=t.callbackNode;uG(t,e);var r=Oy(t,t===Yr?oi:0);if(r===0)n!==null&&WI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&WI(n),e===1)t.tag===0?c$(N2.bind(null,t)):HN(N2.bind(null,t)),o$(function(){!(Tn&6)&&ql()}),n=null;else{switch(gN(r)){case 1:n=KM;break;case 4:n=hN;break;case 16:n=By;break;case 536870912:n=pN;break;default:n=By}n=kU(n,BU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function BU(t,e){if(oy=-1,sy=0,Tn&6)throw Error(mt(327));var n=t.callbackNode;if(lf()&&t.callbackNode!==n)return null;var r=Oy(t,t===Yr?oi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qy(t,r);else{e=r;var i=Tn;Tn|=2;var o=LU();(Yr!==t||oi!==e)&&(ba=null,_f=Er()+500,ou(t,e));do try{P$();break}catch(a){OU(t,a)}while(1);aA(),Ky.current=o,Tn=i,Br!==null?e=0:(Yr=null,oi=0,e=Nr)}if(e!==0){if(e===2&&(i=kb(t),i!==0&&(r=i,e=hw(t,i))),e===1)throw n=rm,ou(t,0),Cl(t,r),Qi(t,Er()),n;if(e===6)Cl(t,r);else{if(i=t.current.alternate,!(r&30)&&!T$(i)&&(e=qy(t,r),e===2&&(o=kb(t),o!==0&&(r=o,e=hw(t,o))),e===1))throw n=rm,ou(t,0),Cl(t,r),Qi(t,Er()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(mt(345));case 2:Fc(t,ji,ba);break;case 3:if(Cl(t,r),(r&130023424)===r&&(e=CA+500-Er(),10<e)){if(Oy(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Fi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xb(Fc.bind(null,t,ji,ba),e);break}Fc(t,ji,ba);break;case 4:if(Cl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ms(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A$(r/1960))-r,10<r){t.timeoutHandle=Xb(Fc.bind(null,t,ji,ba),r);break}Fc(t,ji,ba);break;case 5:Fc(t,ji,ba);break;default:throw Error(mt(329))}}}return Qi(t,Er()),t.callbackNode===n?BU.bind(null,t):null}function hw(t,e){var n=bp;return t.current.memoizedState.isDehydrated&&(ou(t,e).flags|=256),t=qy(t,e),t!==2&&(e=ji,ji=n,e!==null&&pw(e)),t}function pw(t){ji===null?ji=t:ji.push.apply(ji,t)}function T$(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Is(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cl(t,e){for(e&=~_A,e&=~Ox,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ms(e),r=1<<n;t[n]=-1,e&=~r}}function N2(t){if(Tn&6)throw Error(mt(327));lf();var e=Oy(t,0);if(!(e&1))return Qi(t,Er()),null;var n=qy(t,e);if(t.tag!==0&&n===2){var r=kb(t);r!==0&&(e=r,n=hw(t,r))}if(n===1)throw n=rm,ou(t,0),Cl(t,e),Qi(t,Er()),n;if(n===6)throw Error(mt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fc(t,ji,ba),Qi(t,Er()),null}function bA(t,e){var n=Tn;Tn|=1;try{return t(e)}finally{Tn=n,Tn===0&&(_f=Er()+500,Rx&&ql())}}function xu(t){El!==null&&El.tag===0&&!(Tn&6)&&lf();var e=Tn;Tn|=1;var n=Zo.transition,r=kn;try{if(Zo.transition=null,kn=1,t)return t()}finally{kn=r,Zo.transition=n,Tn=e,!(Tn&6)&&ql()}}function wA(){fo=Gd.current,er(Gd)}function ou(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,i$(n)),Br!==null)for(n=Br.return;n!==null;){var r=n;switch(iA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Uy();break;case 3:xf(),er(Yi),er(Mi),hA();break;case 5:fA(r);break;case 4:xf();break;case 13:er(ar);break;case 19:er(ar);break;case 10:lA(r.type._context);break;case 22:case 23:wA()}n=n.return}if(Yr=t,Br=t=Ul(t.current,null),oi=fo=e,Nr=0,rm=null,_A=Ox=yu=0,ji=bp=null,jc!==null){for(e=0;e<jc.length;e++)if(n=jc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}jc=null}return t}function OU(t,e){do{var n=Br;try{if(aA(),ny.current=Xy,jy){for(var r=hr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jy=!1}if(vu=0,Jr=Fr=hr=null,_p=!1,em=0,SA.current=null,n===null||n.return===null){Nr=1,rm=e,Br=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=oi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=w2(s);if(m!==null){m.flags&=-257,E2(m,s,a,o,e),m.mode&1&&b2(o,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){b2(o,c,e),EA();break e}l=Error(mt(426))}}else if(rr&&a.mode&1){var y=w2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),E2(y,s,a,o,e),oA(Sf(l,a));break e}}o=l=Sf(l,a),Nr!==4&&(Nr=2),bp===null?bp=[o]:bp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=gU(o,l,e);v2(o,g);break e;case 1:a=l;var S=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Fl===null||!Fl.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=vU(o,a,e);v2(o,w);break e}}o=o.return}while(o!==null)}FU(n)}catch(A){e=A,Br===n&&n!==null&&(Br=n=n.return);continue}break}while(1)}function LU(){var t=Ky.current;return Ky.current=Xy,t===null?Xy:t}function EA(){(Nr===0||Nr===3||Nr===2)&&(Nr=4),Yr===null||!(yu&268435455)&&!(Ox&268435455)||Cl(Yr,oi)}function qy(t,e){var n=Tn;Tn|=2;var r=LU();(Yr!==t||oi!==e)&&(ba=null,ou(t,e));do try{R$();break}catch(i){OU(t,i)}while(1);if(aA(),Tn=n,Ky.current=r,Br!==null)throw Error(mt(261));return Yr=null,oi=0,Nr}function R$(){for(;Br!==null;)DU(Br)}function P$(){for(;Br!==null&&!tG();)DU(Br)}function DU(t){var e=UU(t.alternate,t,fo);t.memoizedProps=t.pendingProps,e===null?FU(t):Br=e,SA.current=null}function FU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b$(n,e),n!==null){n.flags&=32767,Br=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Nr=6,Br=null;return}}else if(n=C$(n,e,fo),n!==null){Br=n;return}if(e=e.sibling,e!==null){Br=e;return}Br=e=t}while(e!==null);Nr===0&&(Nr=5)}function Fc(t,e,n){var r=kn,i=Zo.transition;try{Zo.transition=null,kn=1,I$(t,e,n,r)}finally{Zo.transition=i,kn=r}return null}function I$(t,e,n,r){do lf();while(El!==null);if(Tn&6)throw Error(mt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(mt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(dG(t,o),t===Yr&&(Br=Yr=null,oi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iv||(Iv=!0,kU(By,function(){return lf(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zo.transition,Zo.transition=null;var s=kn;kn=1;var a=Tn;Tn|=4,SA.current=null,E$(t,n),PU(n,t),qG(Wb),Ly=!!$b,Wb=$b=null,t.current=n,M$(n),nG(),Tn=a,kn=s,Zo.transition=o}else t.current=n;if(Iv&&(Iv=!1,El=t,Yy=i),o=t.pendingLanes,o===0&&(Fl=null),oG(n.stateNode),Qi(t,Er()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jy)throw Jy=!1,t=dw,dw=null,t;return Yy&1&&t.tag!==0&&lf(),o=t.pendingLanes,o&1?t===fw?wp++:(wp=0,fw=t):wp=0,ql(),null}function lf(){if(El!==null){var t=gN(Yy),e=Zo.transition,n=kn;try{if(Zo.transition=null,kn=16>t?16:t,El===null)var r=!1;else{if(t=El,El=null,Yy=0,Tn&6)throw Error(mt(331));var i=Tn;for(Tn|=4,Nt=t.current;Nt!==null;){var o=Nt,s=o.child;if(Nt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Nt=c;Nt!==null;){var u=Nt;switch(u.tag){case 0:case 11:case 15:Cp(8,u,o)}var d=u.child;if(d!==null)d.return=u,Nt=d;else for(;Nt!==null;){u=Nt;var f=u.sibling,m=u.return;if(AU(u),u===c){Nt=null;break}if(f!==null){f.return=m,Nt=f;break}Nt=m}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var y=x.sibling;x.sibling=null,x=y}while(x!==null)}}Nt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Nt=s;else e:for(;Nt!==null;){if(o=Nt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cp(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Nt=g;break e}Nt=o.return}}var S=t.current;for(Nt=S;Nt!==null;){s=Nt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Nt=_;else e:for(s=S;Nt!==null;){if(a=Nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Bx(9,a)}}catch(A){xr(a,a.return,A)}if(a===s){Nt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Nt=w;break e}Nt=a.return}}if(Tn=i,ql(),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(wx,t)}catch{}r=!0}return r}finally{kn=n,Zo.transition=e}}return!1}function U2(t,e,n){e=Sf(n,e),e=gU(t,e,1),t=Dl(t,e,1),e=Fi(),t!==null&&(Km(t,1,e),Qi(t,e))}function xr(t,e,n){if(t.tag===3)U2(t,t,n);else for(;e!==null;){if(e.tag===3){U2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fl===null||!Fl.has(r))){t=Sf(n,t),t=vU(e,t,1),e=Dl(e,t,1),t=Fi(),e!==null&&(Km(e,1,t),Qi(e,t));break}}e=e.return}}function B$(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fi(),t.pingedLanes|=t.suspendedLanes&n,Yr===t&&(oi&n)===n&&(Nr===4||Nr===3&&(oi&130023424)===oi&&500>Er()-CA?ou(t,0):_A|=n),Qi(t,e)}function NU(t,e){e===0&&(t.mode&1?(e=_v,_v<<=1,!(_v&130023424)&&(_v=4194304)):e=1);var n=Fi();t=Na(t,e),t!==null&&(Km(t,e,n),Qi(t,n))}function O$(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NU(t,n)}function L$(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(mt(314))}r!==null&&r.delete(e),NU(t,n)}var UU;UU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yi.current)Xi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xi=!1,_$(t,e,n);Xi=!!(t.flags&131072)}else Xi=!1,rr&&e.flags&1048576&&VN(e,Hy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;iy(t,e),t=e.pendingProps;var i=gf(e,Mi.current);af(e,n),i=mA(null,e,r,t,i,n);var o=gA();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qi(r)?(o=!0,ky(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uA(e),i.updater=Ix,e.stateNode=i,i._reactInternals=e,ew(e,r,t,n),e=rw(null,e,r,!0,o,n)):(e.tag=0,rr&&o&&rA(e),Oi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(iy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=F$(r),t=ys(r,t),i){case 0:e=nw(null,e,r,t,n);break e;case 1:e=T2(null,e,r,t,n);break e;case 11:e=M2(null,e,r,t,n);break e;case 14:e=A2(null,e,r,ys(r.type,t),n);break e}throw Error(mt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ys(r,i),nw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ys(r,i),T2(t,e,r,i,n);case 3:e:{if(_U(e),t===null)throw Error(mt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,KN(t,e),$y(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Sf(Error(mt(423)),e),e=R2(t,e,r,n,i);break e}else if(r!==i){i=Sf(Error(mt(424)),e),e=R2(t,e,r,n,i);break e}else for(go=Ll(e.stateNode.containerInfo.firstChild),yo=e,rr=!0,Cs=null,n=jN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vf(),r===i){e=Ua(t,e,n);break e}Oi(t,e,r,n)}e=e.child}return e;case 5:return JN(e),t===null&&qb(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,jb(r,i)?s=null:o!==null&&jb(r,o)&&(e.flags|=32),SU(t,e),Oi(t,e,s,n),e.child;case 6:return t===null&&qb(e),null;case 13:return CU(t,e,n);case 4:return dA(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yf(e,null,r,n):Oi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ys(r,i),M2(t,e,r,i,n);case 7:return Oi(t,e,e.pendingProps,n),e.child;case 8:return Oi(t,e,e.pendingProps.children,n),e.child;case 12:return Oi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Jn(Vy,r._currentValue),r._currentValue=s,o!==null)if(Is(o.value,s)){if(o.children===i.children&&!Yi.current){e=Ua(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ba(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qb(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(mt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Qb(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Oi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,af(e,n),i=ts(i),r=r(i),e.flags|=1,Oi(t,e,r,n),e.child;case 14:return r=e.type,i=ys(r,e.pendingProps),i=ys(r.type,i),A2(t,e,r,i,n);case 15:return yU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ys(r,i),iy(t,e),e.tag=1,qi(r)?(t=!0,ky(e)):t=!1,af(e,n),mU(e,r,i),ew(e,r,i,n),rw(null,e,r,!0,t,n);case 19:return bU(t,e,n);case 22:return xU(t,e,n)}throw Error(mt(156,e.tag))};function kU(t,e){return fN(t,e)}function D$(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yo(t,e,n,r){return new D$(t,e,n,r)}function MA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F$(t){if(typeof t=="function")return MA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===WM)return 11;if(t===jM)return 14}return 2}function Ul(t,e){var n=t.alternate;return n===null?(n=Yo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ay(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")MA(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Od:return su(n.children,i,o,e);case $M:s=8,i|=8;break;case wb:return t=Yo(12,n,e,i|2),t.elementType=wb,t.lanes=o,t;case Eb:return t=Yo(13,n,e,i),t.elementType=Eb,t.lanes=o,t;case Mb:return t=Yo(19,n,e,i),t.elementType=Mb,t.lanes=o,t;case J3:return Lx(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X3:s=10;break e;case K3:s=9;break e;case WM:s=11;break e;case jM:s=14;break e;case vl:s=16,r=null;break e}throw Error(mt(130,t==null?t:typeof t,""))}return e=Yo(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function su(t,e,n,r){return t=Yo(7,t,r,e),t.lanes=n,t}function Lx(t,e,n,r){return t=Yo(22,t,r,e),t.elementType=J3,t.lanes=n,t.stateNode={isHidden:!1},t}function E_(t,e,n){return t=Yo(6,t,null,e),t.lanes=n,t}function M_(t,e,n){return e=Yo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N$(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=s_(0),this.expirationTimes=s_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=s_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function AA(t,e,n,r,i,o,s,a,l){return t=new N$(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Yo(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uA(o),t}function U$(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zU(t){if(!t)return zl;t=t._reactInternals;e:{if(Au(t)!==t||t.tag!==1)throw Error(mt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(mt(171))}if(t.tag===1){var n=t.type;if(qi(n))return zN(t,n,e)}return e}function HU(t,e,n,r,i,o,s,a,l){return t=AA(n,r,!0,t,i,o,s,a,l),t.context=zU(null),n=t.current,r=Fi(),i=Nl(n),o=Ba(r,i),o.callback=e??null,Dl(n,o,i),t.current.lanes=i,Km(t,i,r),Qi(t,r),t}function Dx(t,e,n,r){var i=e.current,o=Fi(),s=Nl(i);return n=zU(n),e.context===null?e.context=n:e.pendingContext=n,e=Ba(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dl(i,e,s),t!==null&&(As(t,i,s,o),ty(t,i,s)),s}function Qy(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function TA(t,e){k2(t,e),(t=t.alternate)&&k2(t,e)}function k$(){return null}var VU=typeof reportError=="function"?reportError:function(t){console.error(t)};function RA(t){this._internalRoot=t}Fx.prototype.render=RA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(mt(409));Dx(t,e,null,null)};Fx.prototype.unmount=RA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xu(function(){Dx(null,t,null,null)}),e[Fa]=null}};function Fx(t){this._internalRoot=t}Fx.prototype.unstable_scheduleHydration=function(t){if(t){var e=xN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_l.length&&e!==0&&e<_l[n].priority;n++);_l.splice(n,0,t),n===0&&_N(t)}};function PA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function z2(){}function z$(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Qy(s);o.call(c)}}var s=HU(e,r,t,0,null,!1,!1,"",z2);return t._reactRootContainer=s,t[Fa]=s.current,Jp(t.nodeType===8?t.parentNode:t),xu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Qy(l);a.call(c)}}var l=AA(t,0,!1,null,null,!1,!1,"",z2);return t._reactRootContainer=l,t[Fa]=l.current,Jp(t.nodeType===8?t.parentNode:t),xu(function(){Dx(e,l,n,r)}),l}function Ux(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Qy(s);a.call(l)}}Dx(e,s,t,i)}else s=z$(n,e,t,i,r);return Qy(s)}vN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=lp(e.pendingLanes);n!==0&&(JM(e,n|1),Qi(e,Er()),!(Tn&6)&&(_f=Er()+500,ql()))}break;case 13:xu(function(){var r=Na(t,1);if(r!==null){var i=Fi();As(r,t,1,i)}}),TA(t,1)}};YM=function(t){if(t.tag===13){var e=Na(t,134217728);if(e!==null){var n=Fi();As(e,t,134217728,n)}TA(t,134217728)}};yN=function(t){if(t.tag===13){var e=Nl(t),n=Na(t,e);if(n!==null){var r=Fi();As(n,t,e,r)}TA(t,e)}};xN=function(){return kn};SN=function(t,e){var n=kn;try{return kn=t,e()}finally{kn=n}};Fb=function(t,e,n){switch(e){case"input":if(Rb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tx(r);if(!i)throw Error(mt(90));q3(r),Rb(r,i)}}}break;case"textarea":Z3(t,n);break;case"select":e=n.value,e!=null&&nf(t,!!n.multiple,e,!1)}};sN=bA;aN=xu;var H$={usingClientEntryPoint:!1,Events:[Ym,Nd,Tx,iN,oN,bA]},Dh={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},V$={bundleType:Dh.bundleType,version:Dh.version,rendererPackageName:Dh.rendererPackageName,rendererConfig:Dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uN(t),t===null?null:t.stateNode},findFiberByHostInstance:Dh.findFiberByHostInstance||k$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bv.isDisabled&&Bv.supportsFiber)try{wx=Bv.inject(V$),Ks=Bv}catch{}}Eo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H$;Eo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PA(e))throw Error(mt(200));return U$(t,e,null,n)};Eo.createRoot=function(t,e){if(!PA(t))throw Error(mt(299));var n=!1,r="",i=VU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=AA(t,1,!1,null,null,n,!1,r,i),t[Fa]=e.current,Jp(t.nodeType===8?t.parentNode:t),new RA(e)};Eo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(mt(188)):(t=Object.keys(t).join(","),Error(mt(268,t)));return t=uN(e),t=t===null?null:t.stateNode,t};Eo.flushSync=function(t){return xu(t)};Eo.hydrate=function(t,e,n){if(!Nx(e))throw Error(mt(200));return Ux(null,t,e,!0,n)};Eo.hydrateRoot=function(t,e,n){if(!PA(t))throw Error(mt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=VU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=HU(e,null,t,1,n??null,i,!1,o,s),t[Fa]=e.current,Jp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Fx(e)};Eo.render=function(t,e,n){if(!Nx(e))throw Error(mt(200));return Ux(null,t,e,!1,n)};Eo.unmountComponentAtNode=function(t){if(!Nx(t))throw Error(mt(40));return t._reactRootContainer?(xu(function(){Ux(null,null,t,!1,function(){t._reactRootContainer=null,t[Fa]=null})}),!0):!1};Eo.unstable_batchedUpdates=bA;Eo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nx(n))throw Error(mt(200));if(t==null||t._reactInternals===void 0)throw Error(mt(38));return Ux(t,e,n,!1,r)};Eo.version="18.3.1-next-f1338f8080-20240426";function GU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GU)}catch(t){console.error(t)}}GU(),G3.exports=Eo;var ka=G3.exports;const mw=Wm(ka),G$=I3({__proto__:null,default:mw},[ka]);var H2=ka;Cb.createRoot=H2.createRoot,Cb.hydrateRoot=H2.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zy.apply(this,arguments)}var Ml;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ml||(Ml={}));const V2="popstate";function $$(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return gw("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:WU(i)}return j$(e,n,null,t)}function Zi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $U(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W$(){return Math.random().toString(36).substr(2,8)}function G2(t,e){return{usr:t.state,key:t.key,idx:e}}function gw(t,e,n,r){return n===void 0&&(n=null),Zy({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?kx(e):e,{state:n,key:e&&e.key||r||W$()})}function WU(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function kx(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function j$(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ml.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Zy({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Ml.Pop;let y=u(),g=y==null?null:y-c;c=y,l&&l({action:a,location:x.location,delta:g})}function f(y,g){a=Ml.Push;let S=gw(x.location,y,g);n&&n(S,y),c=u()+1;let _=G2(S,c),w=x.createHref(S);try{s.pushState(_,"",w)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(w)}o&&l&&l({action:a,location:x.location,delta:1})}function m(y,g){a=Ml.Replace;let S=gw(x.location,y,g);n&&n(S,y),c=u();let _=G2(S,c),w=x.createHref(S);s.replaceState(_,"",w),o&&l&&l({action:a,location:x.location,delta:0})}function v(y){let g=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof y=="string"?y:WU(y);return S=S.replace(/ $/,"%20"),Zi(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let x={get action(){return a},get location(){return t(i,s)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(V2,d),l=y,()=>{i.removeEventListener(V2,d),l=null}},createHref(y){return e(i,y)},createURL:v,encodeLocation(y){let g=v(y);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(y){return s.go(y)}};return x}var $2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($2||($2={}));function X$(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?kx(e):e,i=KU(r.pathname||"/",n);if(i==null)return null;let o=jU(t);K$(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=sW(i);s=rW(o[a],l)}return s}function jU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Zi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=cf([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Zi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jU(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:tW(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of XU(o.path))i(o,s,l)}),e}function XU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=XU(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nW(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J$=/^:[\w-]+$/,Y$=3,q$=2,Q$=1,Z$=10,eW=-2,W2=t=>t==="*";function tW(t,e){let n=t.split("/"),r=n.length;return n.some(W2)&&(r+=eW),e&&(r+=q$),n.filter(i=>!W2(i)).reduce((i,o)=>i+(J$.test(o)?Y$:o===""?Q$:Z$),r)}function nW(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rW(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=iW({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;o.push({params:r,pathname:cf([i,u.pathname]),pathnameBase:aW(cf([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=cf([i,u.pathnameBase]))}return o}function iW(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oW(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:m}=u;if(f==="*"){let x=a[d]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[d];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function oW(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$U(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sW(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $U(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const cf=t=>t.join("/").replace(/\/\/+/g,"/"),aW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function lW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JU=["post","put","patch","delete"];new Set(JU);const cW=["get",...JU];new Set(cW);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(this,arguments)}const uW=C.createContext(null),dW=C.createContext(null),YU=C.createContext(null),zx=C.createContext(null),Hx=C.createContext({outlet:null,matches:[],isDataRoute:!1}),qU=C.createContext(null);function IA(){return C.useContext(zx)!=null}function fW(){return IA()||Zi(!1),C.useContext(zx).location}function hW(t,e){return pW(t,e)}function pW(t,e,n,r){IA()||Zi(!1);let{navigator:i}=C.useContext(YU),{matches:o}=C.useContext(Hx),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=fW(),u;if(e){var d;let y=typeof e=="string"?kx(e):e;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||Zi(!1),u=y}else u=c;let f=u.pathname||"/",m=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=X$(t,{pathname:m}),x=xW(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:cf([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:cf([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&x?C.createElement(zx.Provider,{value:{location:ex({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ml.Pop}},x):x}function mW(){let t=bW(),e=lW(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,o)}const gW=C.createElement(mW,null);class vW extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(Hx.Provider,{value:this.props.routeContext},C.createElement(qU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yW(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(uW);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Hx.Provider,{value:e},r)}function xW(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Zi(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let d=s[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:m}=n,v=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,d,f)=>{let m,v=!1,x=null,y=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||gW,l&&(c<0&&f===0?(wW("route-fallback",!1),v=!0,y=null):c===f&&(v=!0,y=d.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),S=()=>{let _;return m?_=x:v?_=y:d.route.Component?_=C.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,C.createElement(yW,{match:d,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(vW,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}var vw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vw||{});function SW(t){let e=C.useContext(dW);return e||Zi(!1),e}function _W(t){let e=C.useContext(Hx);return e||Zi(!1),e}function CW(t){let e=_W(),n=e.matches[e.matches.length-1];return n.route.id||Zi(!1),n.route.id}function bW(){var t;let e=C.useContext(qU),n=SW(vw.UseRouteError),r=CW(vw.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const j2={};function wW(t,e,n){!e&&!j2[t]&&(j2[t]=!0)}function QU(t){Zi(!1)}function EW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ml.Pop,navigator:o,static:s=!1,future:a}=t;IA()&&Zi(!1);let l=e.replace(/^\/*/,"/"),c=C.useMemo(()=>({basename:l,navigator:o,static:s,future:ex({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=kx(r));let{pathname:u="/",search:d="",hash:f="",state:m=null,key:v="default"}=r,x=C.useMemo(()=>{let y=KU(u,l);return y==null?null:{location:{pathname:y,search:d,hash:f,state:m,key:v},navigationType:i}},[l,u,d,f,m,v,i]);return x==null?null:C.createElement(YU.Provider,{value:c},C.createElement(zx.Provider,{children:n,value:x}))}function MW(t){let{children:e,location:n}=t;return hW(yw(e),n)}new Promise(()=>{});function yw(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let o=[...e,i];if(r.type===C.Fragment){n.push.apply(n,yw(r.props.children,o));return}r.type!==QU&&Zi(!1),!r.props.index||!r.props.children||Zi(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=yw(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const AW="6";try{window.__reactRouterVersion=AW}catch{}const TW="startTransition",X2=Xm[TW];function RW(t){let{basename:e,children:n,future:r,window:i}=t,o=C.useRef();o.current==null&&(o.current=$$({window:i,v5Compat:!0}));let s=o.current,[a,l]=C.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=C.useCallback(d=>{c&&X2?X2(()=>l(d)):l(d)},[l,c]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.createElement(EW,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var K2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K2||(K2={}));var J2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J2||(J2={}));const PW="_root_tfzup_3",IW="_wrapper_tfzup_7",BW="_image_tfzup_38",OW="_button_tfzup_48",Ov={root:PW,wrapper:IW,image:BW,button:OW},ZU="/assets/banner-829ddf16.png",LW="_button_16bh1_3",A_={button:LW};function e4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=e4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function t4(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=e4(t))&&(r&&(r+=" "),r+=e);return r}const BA=C.createContext({});function OA(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const LA=typeof window<"u",n4=LA?C.useLayoutEffect:C.useEffect,Vx=C.createContext(null),DA=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class DW extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FW({children:t,isPresent:e,anchorX:n}){const r=C.useId(),i=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=C.useContext(DA);return C.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u,right:d}=o.current;if(e||!i.current||!a||!l)return;const f=n==="left"?`left: ${u}`:`right: ${d}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return s&&(m.nonce=s),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${f}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[e]),Ve.jsx(DW,{isPresent:e,childRef:i,sizeRef:o,children:C.cloneElement(t,{ref:i})})}const NW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a})=>{const l=OA(UW),c=C.useId();let u=!0,d=C.useMemo(()=>(u=!1,{id:c,initial:e,isPresent:n,custom:i,onExitComplete:f=>{l.set(f,!0);for(const m of l.values())if(!m)return;r&&r()},register:f=>(l.set(f,!1),()=>l.delete(f))}),[n,l,r]);return o&&u&&(d={...d}),C.useMemo(()=>{l.forEach((f,m)=>l.set(m,!1))},[n]),C.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(t=Ve.jsx(FW,{isPresent:n,anchorX:a,children:t})),Ve.jsx(Vx.Provider,{value:d,children:t})};function UW(){return new Map}function r4(t=!0){const e=C.useContext(Vx);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=C.useId();C.useEffect(()=>{if(t)return i(o)},[t]);const s=C.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const Lv=t=>t.key||"";function Y2(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const kW=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left"})=>{const[l,c]=r4(s),u=C.useMemo(()=>Y2(t),[t]),d=s&&!l?[]:u.map(Lv),f=C.useRef(!0),m=C.useRef(u),v=OA(()=>new Map),[x,y]=C.useState(u),[g,S]=C.useState(u);n4(()=>{f.current=!1,m.current=u;for(let A=0;A<g.length;A++){const M=Lv(g[A]);d.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[g,d.length,d.join("-")]);const _=[];if(u!==x){let A=[...u];for(let M=0;M<g.length;M++){const P=g[M],I=Lv(P);d.includes(I)||(A.splice(M,0,P),_.push(P))}return o==="wait"&&_.length&&(A=_),S(Y2(A)),y(u),null}const{forceRender:w}=C.useContext(BA);return Ve.jsx(Ve.Fragment,{children:g.map(A=>{const M=Lv(A),P=s&&!l?!1:u===g||d.includes(M),I=()=>{if(v.has(M))v.set(M,!0);else return;let T=!0;v.forEach(E=>{E||(T=!1)}),T&&(w==null||w(),S(m.current),s&&(c==null||c()),r&&r())};return Ve.jsx(NW,{isPresent:P,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:P?void 0:I,anchorX:a,children:A},M)})})},Dv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],q2={value:null,addProjectionMetrics:null};function zW(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){s.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,f=!1,m=!1)=>{const x=m&&i?n:r;return f&&s.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),s.delete(d)},process:d=>{if(a=d,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&q2.value&&q2.value.frameloop[e].push(l),l=0,n.clear(),i=!1,o&&(o=!1,u.process(d))}};return u}const za={},HW=40;function i4(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Dv.reduce((_,w)=>(_[w]=zW(o,e?w:void 0),_),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:m,postRender:v}=s,x=()=>{const _=za.useManualTiming?i.timestamp:performance.now();n=!1,za.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,HW),1)),i.timestamp=_,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},y=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Dv.reduce((_,w)=>{const A=s[w];return _[w]=(M,P=!1,I=!1)=>(n||y(),A.schedule(M,P,I)),_},{}),cancel:_=>{for(let w=0;w<Dv.length;w++)s[Dv[w]].cancel(_)},state:i,steps:s}}const es=t=>t,{schedule:pr,cancel:Hl,state:ri,steps:T_}=i4(typeof requestAnimationFrame<"u"?requestAnimationFrame:es,!0),o4=C.createContext({strict:!1}),Q2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cf={};for(const t in Q2)Cf[t]={isEnabled:e=>Q2[t].some(n=>!!e[n])};function VW(t){for(const e in t)Cf[e]={...Cf[e],...t[e]}}const GW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||GW.has(t)}let s4=t=>!tx(t);function $W(t){t&&(s4=e=>e.startsWith("on")?!tx(e):t(e))}try{$W(require("@emotion/is-prop-valid").default)}catch{}function WW(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(s4(i)||n===!0&&tx(i)||!e&&!tx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function jW(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Gx=C.createContext({});function $x(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function im(t){return typeof t=="string"||Array.isArray(t)}const FA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],NA=["initial",...FA];function Wx(t){return $x(t.animate)||NA.some(e=>im(t[e]))}function a4(t){return!!(Wx(t)||t.variants)}function XW(t,e){if(Wx(t)){const{initial:n,animate:r}=t;return{initial:n===!1||im(n)?n:void 0,animate:im(r)?r:void 0}}return t.inherit!==!1?e:{}}function KW(t){const{initial:e,animate:n}=XW(t,C.useContext(Gx));return C.useMemo(()=>({initial:e,animate:n}),[Z2(e),Z2(n)])}function Z2(t){return Array.isArray(t)?t.join(" "):t}const JW=Symbol.for("motionComponentSymbol");function $d(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YW(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):$d(n)&&(n.current=r))},[e])}const UA=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qW="framerAppearId",l4="data-"+UA(qW),c4=C.createContext({}),{schedule:kA,cancel:ASe}=i4(queueMicrotask,!1);function QW(t,e,n,r,i){var x,y;const{visualElement:o}=C.useContext(Gx),s=C.useContext(o4),a=C.useContext(Vx),l=C.useContext(DA).reducedMotion,c=C.useRef(null);r=r||s.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=C.useContext(c4);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&ZW(c.current,n,i,d);const f=C.useRef(!1);C.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const m=n[l4],v=C.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,m)));return n4(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),kA.render(u.render),v.current&&u.animationState&&u.animationState.animateChanges())}),C.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),v.current=!1))}),u}function ZW(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:u4(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&$d(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function u4(t){if(t)return t.options.allowProjection!==!1?t.projection:u4(t.parent)}let zA=()=>{};function ej({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&VW(t);function o(a,l){let c;const u={...C.useContext(DA),...a,layoutId:tj(a)},{isStatic:d}=u,f=KW(a),m=r(a,d);if(!d&&LA){nj();const v=rj(u);c=v.MeasureLayout,f.visualElement=QW(i,m,u,e,v.ProjectionNode)}return Ve.jsxs(Gx.Provider,{value:f,children:[c&&f.visualElement?Ve.jsx(c,{visualElement:f.visualElement,...u}):null,n(i,a,YW(m,f.visualElement,l),m,d,f.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=C.forwardRef(o);return s[JW]=i,s}function tj({layoutId:t}){const e=C.useContext(BA).id;return e&&t!==void 0?e+"-"+t:t}function nj(t,e){C.useContext(o4).strict}function rj(t){const{drag:e,layout:n}=Cf;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const d4=t=>e=>typeof e=="string"&&e.startsWith(t),HA=d4("--"),ij=d4("var(--"),VA=t=>ij(t)?oj.test(t.split("/*")[0].trim()):!1,oj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,om={};function sj(t){for(const e in t)om[e]=t[e],HA(e)&&(om[e].isCSSVariable=!0)}const Xf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kf=(()=>new Set(Xf))();function f4(t,{layout:e,layoutId:n}){return Kf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!om[t]||t==="opacity")}const bi=t=>!!(t&&t.getVelocity),h4=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ha=(t,e,n)=>n>e?e:n<t?t:n,Jf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sm={...Jf,transform:t=>Ha(0,1,t)},Fv={...Jf,default:1},eB={...Jf,transform:Math.round},Qm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pl=Qm("deg"),Ys=Qm("%"),en=Qm("px"),aj=Qm("vh"),lj=Qm("vw"),tB=(()=>({...Ys,parse:t=>Ys.parse(t)/100,transform:t=>Ys.transform(t*100)}))(),cj={rotate:pl,rotateX:pl,rotateY:pl,rotateZ:pl,scale:Fv,scaleX:Fv,scaleY:Fv,scaleZ:Fv,skew:pl,skewX:pl,skewY:pl,distance:en,translateX:en,translateY:en,translateZ:en,x:en,y:en,z:en,perspective:en,transformPerspective:en,opacity:sm,originX:tB,originY:tB,originZ:en},GA={borderWidth:en,borderTopWidth:en,borderRightWidth:en,borderBottomWidth:en,borderLeftWidth:en,borderRadius:en,radius:en,borderTopLeftRadius:en,borderTopRightRadius:en,borderBottomRightRadius:en,borderBottomLeftRadius:en,width:en,maxWidth:en,height:en,maxHeight:en,top:en,right:en,bottom:en,left:en,padding:en,paddingTop:en,paddingRight:en,paddingBottom:en,paddingLeft:en,margin:en,marginTop:en,marginRight:en,marginBottom:en,marginLeft:en,backgroundPositionX:en,backgroundPositionY:en,...cj,zIndex:eB,fillOpacity:sm,strokeOpacity:sm,numOctaves:eB},uj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dj=Xf.length;function fj(t,e,n){let r="",i=!0;for(let o=0;o<dj;o++){const s=Xf[o],a=t[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=h4(a,GA[s]);if(!l){i=!1;const u=uj[s]||s;r+=`${u}(${c}) `}n&&(e[s]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function $A(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const l in e){const c=e[l];if(Kf.has(l)){s=!0;continue}else if(HA(l)){i[l]=c;continue}else{const u=h4(c,GA[l]);l.startsWith("origin")?(a=!0,o[l]=u):r[l]=u}}if(e.transform||(s||n?r.transform=fj(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=o;r.transformOrigin=`${l} ${c} ${u}`}}const WA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function p4(t,e,n){for(const r in e)!bi(e[r])&&!f4(r,n)&&(t[r]=e[r])}function hj({transformTemplate:t},e){return C.useMemo(()=>{const n=WA();return $A(n,e,t),Object.assign({},n.vars,n.style)},[e])}function pj(t,e){const n=t.style||{},r={};return p4(r,n,t),Object.assign(r,hj(t,e)),r}function mj(t,e){const n={},r=pj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const gj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jA(t){return typeof t!="string"||t.includes("-")?!1:!!(gj.indexOf(t)>-1||/[A-Z]/u.test(t))}const vj={offset:"stroke-dashoffset",array:"stroke-dasharray"},yj={offset:"strokeDashoffset",array:"strokeDasharray"};function xj(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?vj:yj;t[o.offset]=en.transform(-r);const s=en.transform(e),a=en.transform(n);t[o.array]=`${s} ${a}`}function m4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},l,c,u){if($A(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&xj(d,i,o,s,!1)}const g4=()=>({...WA(),attrs:{}}),v4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Sj(t,e,n,r){const i=C.useMemo(()=>{const o=g4();return m4(o,e,v4(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};p4(o,t.style,t),i.style={...o,...i.style}}return i}function _j(t=!1){return(n,r,i,{latestValues:o},s)=>{const l=(jA(n)?Sj:mj)(r,o,s,n),c=WW(r,typeof n=="string",t),u=n!==C.Fragment?{...c,...l,ref:i}:{},{children:d}=r,f=C.useMemo(()=>bi(d)?d.get():d,[d]);return C.createElement(n,{...u,children:f})}}function nB(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function XA(t,e,n,r){if(typeof e=="function"){const[i,o]=nB(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=nB(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function ly(t){return bi(t)?t.get():t}function Cj({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:bj(n,r,i,t),renderState:e()}}const y4=t=>(e,n)=>{const r=C.useContext(Gx),i=C.useContext(Vx),o=()=>Cj(t,e,r,i);return n?o():OA(o)};function bj(t,e,n,r){const i={},o=r(t,{});for(const f in o)i[f]=ly(o[f]);let{initial:s,animate:a}=t;const l=Wx(t),c=a4(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;if(d&&typeof d!="boolean"&&!$x(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const v=XA(t,f[m]);if(v){const{transitionEnd:x,transition:y,...g}=v;for(const S in g){let _=g[S];if(Array.isArray(_)){const w=u?_.length-1:0;_=_[w]}_!==null&&(i[S]=_)}for(const S in x)i[S]=x[S]}}}return i}function KA(t,e,n){var o;const{style:r}=t,i={};for(const s in r)(bi(r[s])||e.style&&bi(e.style[s])||f4(s,t)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const wj={useVisualState:y4({scrapeMotionValuesFromProps:KA,createRenderState:WA})};function x4(t,e,n){const r=KA(t,e,n);for(const i in t)if(bi(t[i])||bi(e[i])){const o=Xf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const Ej={useVisualState:y4({scrapeMotionValuesFromProps:x4,createRenderState:g4})};function Mj(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...jA(r)?Ej:wj,preloadedFeatures:t,useRender:_j(i),createVisualElement:e,Component:r};return ej(s)}}function am(t,e,n){const r=t.getProps();return XA(r,e,n!==void 0?n:r.custom,t)}const xw=t=>Array.isArray(t);let cy;function Aj(){cy=void 0}const Ki={now:()=>(cy===void 0&&Ki.set(ri.isProcessing||za.useManualTiming?ri.timestamp:performance.now()),cy),set:t=>{cy=t,queueMicrotask(Aj)}};function JA(t,e){t.indexOf(e)===-1&&t.push(e)}function YA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class qA{constructor(){this.subscriptions=[]}add(e){return JA(this.subscriptions,e),()=>YA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function S4(t,e){return e?t*(1e3/e):0}const rB=30,Tj=t=>!isNaN(parseFloat(t));class Rj{constructor(e,n={}){this.version="__VERSION__",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var s,a;const o=Ki.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ki.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Tj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qA);const r=this.events[e].add(n);return e==="change"?()=>{r(),pr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ki.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rB)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rB);return S4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bf(t,e){return new Rj(t,e)}function Pj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bf(n))}function Ij(t){return xw(t)?t[t.length-1]||0:t}function Bj(t,e){const n=am(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=Ij(o[s]);Pj(t,s,a)}}function Oj(t){return!!(bi(t)&&t.add)}function Sw(t,e){const n=t.getValue("willChange");if(Oj(n))return n.add(e);if(!n&&za.WillChange){const r=new za.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function _4(t){return t.props[l4]}const Lj=t=>t!==null;function Dj(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Lj),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const Fj={type:"spring",stiffness:500,damping:25,restSpeed:10},Nj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Uj={type:"keyframes",duration:.8},kj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zj=(t,{keyframes:e})=>e.length>2?Uj:Kf.has(t)?t.startsWith("scale")?Nj(e[1]):Fj:kj;function Hj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function QA(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const qs=t=>t*1e3,Qs=t=>t/1e3,Ep=t=>Math.round(t*1e5)/1e5,ZA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vj(t){return t==null}const Gj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,eT=(t,e)=>n=>!!(typeof n=="string"&&Gj.test(n)&&n.startsWith(t)||e&&!Vj(n)&&Object.prototype.hasOwnProperty.call(n,e)),C4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(ZA);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},$j=t=>Ha(0,255,t),R_={...Jf,transform:t=>Math.round($j(t))},Kc={test:eT("rgb","red"),parse:C4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+R_.transform(t)+", "+R_.transform(e)+", "+R_.transform(n)+", "+Ep(sm.transform(r))+")"};function Wj(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const _w={test:eT("#"),parse:Wj,transform:Kc.transform},Wd={test:eT("hsl","hue"),parse:C4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ys.transform(Ep(e))+", "+Ys.transform(Ep(n))+", "+Ep(sm.transform(r))+")"},_i={test:t=>Kc.test(t)||_w.test(t)||Wd.test(t),parse:t=>Kc.test(t)?Kc.parse(t):Wd.test(t)?Wd.parse(t):_w.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kc.transform(t):Wd.transform(t)},jj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ZA))==null?void 0:e.length)||0)+(((n=t.match(jj))==null?void 0:n.length)||0)>0}const b4="number",w4="color",Kj="var",Jj="var(",iB="${}",Yj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(Yj,l=>(_i.test(l)?(r.color.push(o),i.push(w4),n.push(_i.parse(l))):l.startsWith(Jj)?(r.var.push(o),i.push(Kj),n.push(l)):(r.number.push(o),i.push(b4),n.push(parseFloat(l))),++o,iB)).split(iB);return{values:n,split:a,indexes:r,types:i}}function E4(t){return lm(t).values}function M4(t){const{split:e,types:n}=lm(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===b4?o+=Ep(i[s]):a===w4?o+=_i.transform(i[s]):o+=i[s]}return o}}const qj=t=>typeof t=="number"?0:t;function Qj(t){const e=E4(t);return M4(t)(e.map(qj))}const Vl={test:Xj,parse:E4,createTransformer:M4,getAnimatableNone:Qj};function P_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zj({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=P_(l,a,t+1/3),o=P_(l,a,t),s=P_(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function nx(t,e){return n=>n>0?e:t}const ur=(t,e,n)=>t+(e-t)*n,I_=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},e7=[_w,Kc,Wd],t7=t=>e7.find(e=>e.test(t));function oB(t){const e=t7(t);if(!e)return!1;let n=e.parse(t);return e===Wd&&(n=Zj(n)),n}const sB=(t,e)=>{const n=oB(t),r=oB(e);if(!n||!r)return nx(t,e);const i={...n};return o=>(i.red=I_(n.red,r.red,o),i.green=I_(n.green,r.green,o),i.blue=I_(n.blue,r.blue,o),i.alpha=ur(n.alpha,r.alpha,o),Kc.transform(i))},Cw=new Set(["none","hidden"]);function n7(t,e){return Cw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}const r7=(t,e)=>n=>e(t(n)),Zm=(...t)=>t.reduce(r7);function i7(t,e){return n=>ur(t,e,n)}function tT(t){return typeof t=="number"?i7:typeof t=="string"?VA(t)?nx:_i.test(t)?sB:a7:Array.isArray(t)?A4:typeof t=="object"?_i.test(t)?sB:o7:nx}function A4(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>tT(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function o7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=tT(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function s7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],s=t.indexes[o][r[o]],a=t.values[s]??0;n[i]=a,r[o]++}return n}const a7=(t,e)=>{const n=Vl.createTransformer(e),r=lm(t),i=lm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Cw.has(t)&&!i.values.length||Cw.has(e)&&!r.values.length?n7(t,e):Zm(A4(s7(r,i),i.values),n):nx(t,e)};function T4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ur(t,e,n):tT(t)(t,e)}const l7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>pr.update(e,n),stop:()=>Hl(e),now:()=>ri.isProcessing?ri.timestamp:Ki.now()}},R4=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(o/(i-1))+", ";return`linear(${r.substring(0,r.length-2)})`},rx=2e4;function nT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rx;)e+=n,r=t.next(e);return e>=rx?1/0:e}function c7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(nT(r),rx);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:Qs(i)}}const u7=5;function P4(t,e,n){const r=Math.max(e-u7,0);return S4(n-t(r),e-r)}const yr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},B_=.001;function d7({duration:t=yr.duration,bounce:e=yr.bounce,velocity:n=yr.velocity,mass:r=yr.mass}){let i,o,s=1-e;s=Ha(yr.minDamping,yr.maxDamping,s),t=Ha(yr.minDuration,yr.maxDuration,Qs(t)),s<1?(i=c=>{const u=c*s,d=u*t,f=u-n,m=bw(c,s),v=Math.exp(-d);return B_-f/m*v},o=c=>{const d=c*s*t,f=d*n+n,m=Math.pow(s,2)*Math.pow(c,2)*t,v=Math.exp(-d),x=bw(Math.pow(c,2),s);return(-i(c)+B_>0?-1:1)*((f-m)*v)/x}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-B_+u*d},o=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=h7(i,o,a);if(t=qs(t),isNaN(l))return{stiffness:yr.stiffness,damping:yr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const f7=12;function h7(t,e,n){let r=n;for(let i=1;i<f7;i++)r=r-t(r)/e(r);return r}function bw(t,e){return t*Math.sqrt(1-e*e)}const p7=["duration","bounce"],m7=["stiffness","damping","mass"];function aB(t,e){return e.some(n=>t[n]!==void 0)}function g7(t){let e={velocity:yr.velocity,stiffness:yr.stiffness,damping:yr.damping,mass:yr.mass,isResolvedFromDuration:!1,...t};if(!aB(t,m7)&&aB(t,p7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Ha(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yr.mass,stiffness:i,damping:o}}else{const n=d7(t);e={...e,...n,mass:yr.mass},e.isResolvedFromDuration=!0}return e}function ix(t=yr.visualDuration,e=yr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:m}=g7({...n,velocity:-Qs(n.velocity||0)}),v=f||0,x=c/(2*Math.sqrt(l*u)),y=s-o,g=Qs(Math.sqrt(l/u)),S=Math.abs(y)<5;r||(r=S?yr.restSpeed.granular:yr.restSpeed.default),i||(i=S?yr.restDelta.granular:yr.restDelta.default);let _;if(x<1){const A=bw(g,x);_=M=>{const P=Math.exp(-x*g*M);return s-P*((v+x*g*y)/A*Math.sin(A*M)+y*Math.cos(A*M))}}else if(x===1)_=A=>s-Math.exp(-g*A)*(y+(v+g*y)*A);else{const A=g*Math.sqrt(x*x-1);_=M=>{const P=Math.exp(-x*g*M),I=Math.min(A*M,300);return s-P*((v+x*g*y)*Math.sinh(I)+A*y*Math.cosh(I))/A}}const w={calculatedDuration:m&&d||null,next:A=>{const M=_(A);if(m)a.done=A>=d;else{let P=A===0?v:0;x<1&&(P=A===0?qs(v):P4(_,A,M));const I=Math.abs(P)<=r,T=Math.abs(s-M)<=i;a.done=I&&T}return a.value=a.done?s:M,a},toString:()=>{const A=Math.min(nT(w),rx),M=R4(P=>w.next(A*P).value,A,30);return A+"ms "+M},toTransition:()=>{}};return w}ix.applyToOptions=t=>{const e=c7(t,100,ix);return t.ease=e.ease,t.duration=qs(e.duration),t.type="keyframes",t};function ww({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},m=I=>a!==void 0&&I<a||l!==void 0&&I>l,v=I=>a===void 0?l:l===void 0||Math.abs(a-I)<Math.abs(l-I)?a:l;let x=n*e;const y=d+x,g=s===void 0?y:s(y);g!==y&&(x=g-d);const S=I=>-x*Math.exp(-I/r),_=I=>g+S(I),w=I=>{const T=S(I),E=_(I);f.done=Math.abs(T)<=c,f.value=f.done?g:E};let A,M;const P=I=>{m(f.value)&&(A=I,M=ix({keyframes:[f.value,v(f.value)],velocity:P4(_,I,f.value),damping:i,stiffness:o,restDelta:c,restSpeed:u}))};return P(0),{calculatedDuration:null,next:I=>{let T=!1;return!M&&A===void 0&&(T=!0,w(I),P(I)),A!==void 0&&I>=A?M.next(I-A):(!T&&w(I),f)}}}const cm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};function v7(t,e,n){const r=[],i=n||za.mix||T4,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||es:e;a=Zm(l,a)}r.push(a)}return r}function y7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(zA(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=v7(e,r,i),l=a.length,c=u=>{if(s&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=cm(t[d],t[d+1],u);return a[d](f)};return n?u=>c(Ha(t[0],t[o-1],u)):c}function x7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=cm(0,e,r);t.push(ur(n,1,i))}}function S7(t){const e=[0];return x7(e,t.length-1),e}function _7(t,e){return t.map(n=>n*e)}const I4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,C7=1e-7,b7=12;function w7(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=I4(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>C7&&++a<b7);return s}function eg(t,e,n,r){if(t===e&&n===r)return es;const i=o=>w7(o,0,1,t,n);return o=>o===0||o===1?o:I4(i(o),e,r)}const E7=eg(.42,0,1,1),M7=eg(0,0,.58,1),B4=eg(.42,0,.58,1),A7=t=>Array.isArray(t)&&typeof t[0]!="number",O4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,L4=t=>e=>1-t(1-e),D4=eg(.33,1.53,.69,.99),rT=L4(D4),F4=O4(rT),N4=t=>(t*=2)<1?.5*rT(t):.5*(2-Math.pow(2,-10*(t-1))),iT=t=>1-Math.sin(Math.acos(t)),U4=L4(iT),k4=O4(iT),z4=t=>Array.isArray(t)&&typeof t[0]=="number",T7={linear:es,easeIn:E7,easeInOut:B4,easeOut:M7,circIn:iT,circInOut:k4,circOut:U4,backIn:rT,backInOut:F4,backOut:D4,anticipate:N4},R7=t=>typeof t=="string",lB=t=>{if(z4(t)){zA(t.length===4);const[e,n,r,i]=t;return eg(e,n,r,i)}else if(R7(t))return T7[t];return t};function P7(t,e){return t.map(()=>e||B4).splice(0,t.length-1)}function Mp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=A7(r)?r.map(lB):lB(r),o={done:!1,value:e[0]},s=_7(n&&n.length===e.length?n:S7(e),t),a=y7(s,e,{ease:Array.isArray(i)?i:P7(e,i)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const I7=t=>t!==null;function oT(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(I7),a=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const B7={decay:ww,inertia:ww,tween:Mp,keyframes:Mp,spring:ix};function H4(t){typeof t.type=="string"&&(t.type=B7[t.type])}class sT{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const O7=t=>t/100;class aT extends sT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==Ki.now()&&this.tick(Ki.now())}if(this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:r}=this.options;r&&r()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;H4(e);const{type:n=Mp,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=e;let{keyframes:a}=e;const l=n||Mp;l!==Mp&&typeof a[0]!="number"&&(this.mixKeyframes=Zm(O7,T4(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=nT(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:m,type:v,onUpdate:x,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,w=r;if(d){const I=Math.min(this.currentTime,i)/a;let T=Math.floor(I),E=I%1;!E&&I>=1&&(E=1),E===1&&T--,T=Math.min(T,d+1),!!(T%2)&&(f==="reverse"?(E=1-E,m&&(E-=m/a)):f==="mirror"&&(w=s)),_=Ha(0,1,E)*a}const A=S?{done:!1,value:u[0]}:w.next(_);o&&(A.value=o(A.value));let{done:M}=A;!S&&l!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return P&&v!==ww&&(A.value=oT(u,this.options,y,this.speed)),x&&x(A.value),P&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return Qs(this.calculatedDuration)}get time(){return Qs(this.currentTime)}set time(e){var n;e=qs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ki.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Qs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=l7,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ki.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function L7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jc=t=>t*180/Math.PI,Ew=t=>{const e=Jc(Math.atan2(t[1],t[0]));return Mw(e)},D7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ew,rotateZ:Ew,skewX:t=>Jc(Math.atan(t[1])),skewY:t=>Jc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Mw=t=>(t=t%360,t<0&&(t+=360),t),cB=Ew,uB=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dB=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),F7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uB,scaleY:dB,scale:t=>(uB(t)+dB(t))/2,rotateX:t=>Mw(Jc(Math.atan2(t[6],t[5]))),rotateY:t=>Mw(Jc(Math.atan2(-t[2],t[0]))),rotateZ:cB,rotate:cB,skewX:t=>Jc(Math.atan(t[4])),skewY:t=>Jc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function fB(t){return t.includes("scale")?1:0}function Aw(t,e){if(!t||t==="none")return fB(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=F7,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=D7,i=a}if(!i)return fB(e);const o=r[e],s=i[1].split(",").map(U7);return typeof o=="function"?o(s):s[o]}const N7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Aw(n,e)};function U7(t){return parseFloat(t.trim())}const hB=t=>t===Jf||t===en,k7=new Set(["x","y","z"]),z7=Xf.filter(t=>!k7.has(t));function H7(t){const e=[];return z7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const au={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Aw(e,"x"),y:(t,{transform:e})=>Aw(e,"y")};au.translateX=au.x;au.translateY=au.y;const lu=new Set;let Tw=!1,Rw=!1,Pw=!1;function V4(){if(Rw){const t=Array.from(lu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=H7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rw=!1,Tw=!1,lu.forEach(t=>t.complete(Pw)),lu.clear()}function G4(){lu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rw=!0)})}function V7(){Pw=!0,G4(),V4(),Pw=!1}class lT{constructor(e,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(lu.add(this),Tw||(Tw=!0,pr.read(G4),pr.resolveKeyframes(V4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),s=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=s),i&&o===void 0&&i.set(e[0])}L7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lu.delete(this)}cancel(){this.state==="scheduled"&&(lu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const G7=t=>t.startsWith("--");function $7(t,e,n){G7(e)?t.style.setProperty(e,n):t.style[e]=n}function cT(t){let e;return()=>(e===void 0&&(e=t()),e)}const W7=cT(()=>window.ScrollTimeline!==void 0),j7={};function X7(t,e){const n=cT(t);return()=>j7[e]??n()}const $4=X7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),up=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pB={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:up([0,.65,.55,1]),circOut:up([.55,0,1,.45]),backIn:up([.31,.01,.66,-.59]),backOut:up([.33,1.53,.69,.99])};function W4(t,e){if(t)return typeof t=="function"?$4()?R4(t,e):"ease-out":z4(t)?up(t):Array.isArray(t)?t.map(n=>W4(n,e)||pB.easeOut):pB[t]}function K7(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=W4(a,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function j4(t){return typeof t=="function"&&"applyToOptions"in t}function J7({type:t,...e}){return j4(t)&&$4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Y7 extends sT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=e,zA(typeof e.type!="string");const c=J7(e);this.animation=K7(n,r,i,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=oT(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):$7(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qs(Number(e))}get time(){return Qs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&W7()?(this.animation.timeline=e,es):n(this)}}const X4={anticipate:N4,backInOut:F4,circInOut:k4};function q7(t){return t in X4}function Q7(t){typeof t.ease=="string"&&q7(t.ease)&&(t.ease=X4[t.ease])}const mB=10;class Z7 extends Y7{constructor(e){Q7(e),H4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new aT({...s,autoplay:!1}),l=qs(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-mB).value,a.sample(l).value,mB),a.stop()}}const gB=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vl.test(t)||t==="0")&&!t.startsWith("url("));function eX(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tX(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=gB(i,e),a=gB(o,e);return!s||!a?!1:eX(t)||(n==="spring"||j4(n))&&r}const nX=new Set(["opacity","clipPath","filter","transform"]),rX=cT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function iX(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:a,transformTemplate:l}=e.owner.getProps();return rX()&&n&&nX.has(n)&&(n!=="transform"||!l)&&!a&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const oX=40;class sX extends sT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var v;super(),this.stop=()=>{var x,y;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=Ki.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:l,motionValue:c,element:u,...d},m=(u==null?void 0:u.KeyframeResolver)||lT;this.keyframeResolver=new m(a,(x,y,g)=>this.onKeyframesResolved(x,y,f,!g),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Ki.now(),tX(e,o,s,a)||((za.instantAnimations||!l)&&(u==null||u(oT(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>oX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&iX(f)?new Z7({...f,element:f.motionValue.owner.current}):new aT(f);m.finished.then(()=>this.notifyFinished()).catch(es),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),V7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const uT=(t,e,n,r={},i,o)=>s=>{const a=QA(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-qs(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};Hj(a)||Object.assign(u,zj(t,u)),u.duration&&(u.duration=qs(u.duration)),u.repeatDelay&&(u.repeatDelay=qs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),(za.instantAnimations||za.skipAnimations)&&(d=!0,u.duration=0,u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!o&&e.get()!==void 0){const f=Dj(u.keyframes,a);if(f!==void 0){pr.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new aT(u):new sX(u)},K4=new Set(["width","height","top","left","right","bottom",...Xf]);function aX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function J4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...a}=e;r&&(o=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),f=a[u];if(f===void 0||c&&aX(c,u))continue;const m={delay:n,...QA(o||{},u)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===v&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=_4(t);if(g){const S=window.MotionHandoffAnimation(g,u,pr);S!==null&&(m.startTime=S,x=!0)}}Sw(t,u),d.start(uT(u,d,f,t.shouldReduceMotion&&K4.has(u)?{type:!1}:m,t,x));const y=d.animation;y&&l.push(y)}return s&&Promise.all(l).then(()=>{pr.update(()=>{s&&Bj(t,s)})}),l}function Iw(t,e,n={}){var l;const r=am(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(J4(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return lX(t,e,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[o,s]:[s,o];return c().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function lX(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(cX).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(Iw(c,e,{...o,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function cX(t,e){return t.sortNodePosition(e)}function uX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Iw(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Iw(t,e,n);else{const i=typeof e=="function"?am(t,e,n.custom):e;r=Promise.all(J4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Y4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const dX=NA.length;function q4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?q4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<dX;n++){const r=NA[n],i=t.props[r];(im(i)||i===!1)&&(e[r]=i)}return e}const fX=[...FA].reverse(),hX=FA.length;function pX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>uX(t,n,r)))}function mX(t){let e=pX(t),n=vB(),r=!0;const i=l=>(c,u)=>{var f;const d=am(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:v,...x}=d;c={...c,...x,...v}}return c};function o(l){e=l(t)}function s(l){const{props:c}=t,u=q4(t.parent)||{},d=[],f=new Set;let m={},v=1/0;for(let y=0;y<hX;y++){const g=fX[y],S=n[g],_=c[g]!==void 0?c[g]:u[g],w=im(_),A=g===l?S.isActive:null;A===!1&&(v=y);let M=_===u[g]&&_!==c[g]&&w;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),S.protectedKeys={...m},!S.isActive&&A===null||!_&&!S.prevProp||$x(_)||typeof _=="boolean")continue;const P=gX(S.prevProp,_);let I=P||g===l&&S.isActive&&!M&&w||y>v&&w,T=!1;const E=Array.isArray(_)?_:[_];let B=E.reduce(i(g),{});A===!1&&(B={});const{prevResolvedValues:F={}}=S,L={...F,...B},z=X=>{I=!0,f.has(X)&&(T=!0,f.delete(X)),S.needsAnimating[X]=!0;const N=t.getValue(X);N&&(N.liveStyle=!1)};for(const X in L){const N=B[X],W=F[X];if(m.hasOwnProperty(X))continue;let V=!1;xw(N)&&xw(W)?V=!Y4(N,W):V=N!==W,V?N!=null?z(X):f.add(X):N!==void 0&&f.has(X)?z(X):S.protectedKeys[X]=!0}S.prevProp=_,S.prevResolvedValues=B,S.isActive&&(m={...m,...B}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&P)||T)&&d.push(...E.map(X=>({animation:X,options:{type:g}})))}if(f.size){const y={};if(typeof c.initial!="boolean"){const g=am(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(y.transition=g.transition)}f.forEach(g=>{const S=t.getBaseTarget(g),_=t.getValue(g);_&&(_.liveStyle=!0),y[g]=S??null}),d.push({animation:y})}let x=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=s(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=vB(),r=!0}}}function gX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Y4(e,t):!1}function Sc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vB(){return{animate:Sc(!0),whileInView:Sc(),whileHover:Sc(),whileTap:Sc(),whileDrag:Sc(),whileFocus:Sc(),exit:Sc()}}class Ql{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vX extends Ql{constructor(e){super(e),e.animationState||(e.animationState=mX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();$x(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let yX=0;class xX extends Ql{constructor(){super(...arguments),this.id=yX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const SX={animation:{Feature:vX},exit:{Feature:xX}};function um(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const dT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function tg(t){return{point:{x:t.pageX,y:t.pageY}}}const _X=t=>e=>dT(e)&&t(e,tg(e));function Ap(t,e,n,r){return um(t,e,_X(n),r)}function Q4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CX({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bX(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const Z4=1e-4,wX=1-Z4,EX=1+Z4,ek=.01,MX=0-ek,AX=0+ek;function Di(t){return t.max-t.min}function TX(t,e,n){return Math.abs(t-e)<=n}function yB(t,e,n,r=.5){t.origin=r,t.originPoint=ur(e.min,e.max,t.origin),t.scale=Di(n)/Di(e),t.translate=ur(n.min,n.max,t.origin)-t.originPoint,(t.scale>=wX&&t.scale<=EX||isNaN(t.scale))&&(t.scale=1),(t.translate>=MX&&t.translate<=AX||isNaN(t.translate))&&(t.translate=0)}function Tp(t,e,n,r){yB(t.x,e.x,n.x,r?r.originX:void 0),yB(t.y,e.y,n.y,r?r.originY:void 0)}function xB(t,e,n){t.min=n.min+e.min,t.max=t.min+Di(e)}function RX(t,e,n){xB(t.x,e.x,n.x),xB(t.y,e.y,n.y)}function SB(t,e,n){t.min=e.min-n.min,t.max=t.min+Di(e)}function Rp(t,e,n){SB(t.x,e.x,n.x),SB(t.y,e.y,n.y)}const _B=()=>({translate:0,scale:1,origin:0,originPoint:0}),jd=()=>({x:_B(),y:_B()}),CB=()=>({min:0,max:0}),br=()=>({x:CB(),y:CB()});function Vo(t){return[t("x"),t("y")]}function O_(t){return t===void 0||t===1}function Bw({scale:t,scaleX:e,scaleY:n}){return!O_(t)||!O_(e)||!O_(n)}function Nc(t){return Bw(t)||tk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function tk(t){return bB(t.x)||bB(t.y)}function bB(t){return t&&t!=="0%"}function ox(t,e,n){const r=t-n,i=e*r;return n+i}function wB(t,e,n,r,i){return i!==void 0&&(t=ox(t,i,r)),ox(t,n,r)+e}function Ow(t,e=0,n=1,r,i){t.min=wB(t.min,e,n,r,i),t.max=wB(t.max,e,n,r,i)}function nk(t,{x:e,y:n}){Ow(t.x,e.translate,e.scale,e.originPoint),Ow(t.y,n.translate,n.scale,n.originPoint)}const EB=.999999999999,MB=1.0000000000001;function PX(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Kd(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,nk(t,s)),r&&Nc(o.latestValues)&&Kd(t,o.latestValues))}e.x<MB&&e.x>EB&&(e.x=1),e.y<MB&&e.y>EB&&(e.y=1)}function Xd(t,e){t.min=t.min+e,t.max=t.max+e}function AB(t,e,n,r,i=.5){const o=ur(t.min,t.max,i);Ow(t,e,n,o,r)}function Kd(t,e){AB(t.x,e.x,e.scaleX,e.scale,e.originX),AB(t.y,e.y,e.scaleY,e.scale,e.originY)}function rk(t,e){return Q4(bX(t.getBoundingClientRect(),e))}function IX(t,e,n){const r=rk(t,n),{scroll:i}=e;return i&&(Xd(r.x,i.offset.x),Xd(r.y,i.offset.y)),r}const ik=({current:t})=>t?t.ownerDocument.defaultView:null,TB=(t,e)=>Math.abs(t-e);function BX(t,e){const n=TB(t.x,e.x),r=TB(t.y,e.y);return Math.sqrt(n**2+r**2)}class ok{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=D_(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=BX(d.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=d,{timestamp:x}=ri;this.history.push({...v,timestamp:x});const{onStart:y,onMove:g}=this.handlers;f||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=L_(f,this.transformPagePoint),pr.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=D_(d.type==="pointercancel"?this.lastMoveEventInfo:L_(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,y),v&&v(d,y)},!dT(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=tg(e),a=L_(s,this.transformPagePoint),{point:l}=a,{timestamp:c}=ri;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,D_(a,this.history)),this.removeListeners=Zm(Ap(this.contextWindow,"pointermove",this.handlePointerMove),Ap(this.contextWindow,"pointerup",this.handlePointerUp),Ap(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hl(this.updatePoint)}}function L_(t,e){return e?{point:e(t.point)}:t}function RB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function D_({point:t},e){return{point:t,delta:RB(t,sk(e)),offset:RB(t,OX(e)),velocity:LX(e,.1)}}function OX(t){return t[0]}function sk(t){return t[t.length-1]}function LX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=sk(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>qs(e)));)n--;if(!r)return{x:0,y:0};const o=Qs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function DX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ur(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ur(n,t,r.max):Math.min(t,n)),t}function PB(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FX(t,{top:e,left:n,bottom:r,right:i}){return{x:PB(t.x,n,i),y:PB(t.y,e,r)}}function IB(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NX(t,e){return{x:IB(t.x,e.x),y:IB(t.y,e.y)}}function UX(t,e){let n=.5;const r=Di(t),i=Di(e);return i>r?n=cm(e.min,e.max-r,t.min):r>i&&(n=cm(t.min,t.max-i,e.min)),Ha(0,1,n)}function kX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lw=.35;function zX(t=Lw){return t===!1?t=0:t===!0&&(t=Lw),{x:BB(t,"left","right"),y:BB(t,"top","bottom")}}function BB(t,e,n){return{min:OB(t,e),max:OB(t,n)}}function OB(t,e){return typeof t=="number"?t:t[e]||0}const vs={x:!1,y:!1};function ak(){return vs.x||vs.y}function HX(t){return t==="x"||t==="y"?vs[t]?null:(vs[t]=!0,()=>{vs[t]=!1}):vs.x||vs.y?null:(vs.x=vs.y=!0,()=>{vs.x=vs.y=!1})}const VX=new WeakMap;class GX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=br(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tg(u).point)},o=(u,d)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HX(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vo(y=>{let g=this.getAxisMotionValue(y).get()||0;if(Ys.test(g)){const{projection:S}=this.visualElement;if(S&&S.layout){const _=S.layout.layoutBox[y];_&&(g=Di(_)*(parseFloat(g)/100))}}this.originPoint[y]=g}),v&&pr.postRender(()=>v(u,d)),Sw(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:y}=d;if(m&&this.currentDirection===null){this.currentDirection=$X(y),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),x&&x(u,d)},a=(u,d)=>this.stop(u,d),l=()=>Vo(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)==null?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ok(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:ik(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&pr.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Nv(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=DX(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&$d(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=FX(r.layoutBox,e):this.constraints=!1,this.elastic=zX(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Vo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=kX(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!$d(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=IX(r,i.root,this.visualElement.getTransformPagePoint());let s=NX(i.layout.layoutBox,o);if(n){const a=n(CX(s));this.hasMutatedConstraints=!!a,a&&(s=Q4(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Vo(u=>{if(!Nv(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Sw(this.visualElement,e),r.start(uT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Vo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vo(n=>{const{drag:r}=this.getProps();if(!Nv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-ur(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!$d(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vo(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=UX({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vo(s=>{if(!Nv(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ur(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;VX.set(this.visualElement,this);const e=this.visualElement.current,n=Ap(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();$d(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pr.read(r);const s=um(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Vo(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Lw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Nv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $X(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class WX extends Ql{constructor(e){super(e),this.removeGroupControls=es,this.removeListeners=es,this.controls=new GX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||es}unmount(){this.removeGroupControls(),this.removeListeners()}}const LB=t=>(e,n)=>{t&&pr.postRender(()=>t(e,n))};class jX extends Ql{constructor(){super(...arguments),this.removePointerDownListener=es}onPointerDown(e){this.session=new ok(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ik(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:LB(e),onStart:LB(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&pr.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Ap(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function DB(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(en.test(t))t=parseFloat(t);else return t;const n=DB(t,e.target.x),r=DB(t,e.target.y);return`${n}% ${r}%`}},XX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Vl.parse(t);if(i.length>5)return r;const o=Vl.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=l;const c=ur(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),o(i)}};class KX extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;sj(JX),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),uy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||pr.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lk(t){const[e,n]=r4(),r=C.useContext(BA);return Ve.jsx(KX,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(c4),isPresent:e,safeToRemove:n})}const JX={borderRadius:{...Fh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fh,borderTopRightRadius:Fh,borderBottomLeftRadius:Fh,borderBottomRightRadius:Fh,boxShadow:XX};function YX(t,e,n){const r=bi(t)?t:bf(t);return r.start(uT("",r,e,n)),r.animation}function qX(t){return t instanceof SVGElement&&t.tagName!=="svg"}const QX=(t,e)=>t.depth-e.depth;class ZX{constructor(){this.children=[],this.isDirty=!1}add(e){JA(this.children,e),this.isDirty=!0}remove(e){YA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(QX),this.isDirty=!1,this.children.forEach(e)}}function eK(t,e){const n=Ki.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Hl(r),t(o-e))};return pr.setup(r,!0),()=>Hl(r)}const ck=["TopLeft","TopRight","BottomLeft","BottomRight"],tK=ck.length,FB=t=>typeof t=="string"?parseFloat(t):t,NB=t=>typeof t=="number"||en.test(t);function nK(t,e,n,r,i,o){i?(t.opacity=ur(0,n.opacity??1,rK(r)),t.opacityExit=ur(e.opacity??1,0,iK(r))):o&&(t.opacity=ur(e.opacity??1,n.opacity??1,r));for(let s=0;s<tK;s++){const a=`border${ck[s]}Radius`;let l=UB(e,a),c=UB(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||NB(l)===NB(c)?(t[a]=Math.max(ur(FB(l),FB(c),r),0),(Ys.test(c)||Ys.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ur(e.rotate||0,n.rotate||0,r))}function UB(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rK=uk(0,.5,U4),iK=uk(.5,.95,es);function uk(t,e,n){return r=>r<t?0:r>e?1:n(cm(t,e,r))}function kB(t,e){t.min=e.min,t.max=e.max}function No(t,e){kB(t.x,e.x),kB(t.y,e.y)}function zB(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HB(t,e,n,r,i){return t-=e,t=ox(t,1/n,r),i!==void 0&&(t=ox(t,1/i,r)),t}function oK(t,e=0,n=1,r=.5,i,o=t,s=t){if(Ys.test(e)&&(e=parseFloat(e),e=ur(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ur(o.min,o.max,r);t===o&&(a-=e),t.min=HB(t.min,e,n,a,i),t.max=HB(t.max,e,n,a,i)}function VB(t,e,[n,r,i],o,s){oK(t,e[n],e[r],e[i],e.scale,o,s)}const sK=["x","scaleX","originX"],aK=["y","scaleY","originY"];function GB(t,e,n,r){VB(t.x,e,sK,n?n.x:void 0,r?r.x:void 0),VB(t.y,e,aK,n?n.y:void 0,r?r.y:void 0)}function $B(t){return t.translate===0&&t.scale===1}function dk(t){return $B(t.x)&&$B(t.y)}function WB(t,e){return t.min===e.min&&t.max===e.max}function lK(t,e){return WB(t.x,e.x)&&WB(t.y,e.y)}function jB(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fk(t,e){return jB(t.x,e.x)&&jB(t.y,e.y)}function XB(t){return Di(t.x)/Di(t.y)}function KB(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class cK{constructor(){this.members=[]}add(e){JA(this.members,e),e.scheduleRender()}remove(e){if(YA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uK(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const F_=["","X","Y","Z"],dK={visibility:"hidden"},fK=1e3;let hK=0;function N_(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function hk(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",pr,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&hk(r)}function pk({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=hK++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gK),this.nodes.forEach(_K),this.nodes.forEach(CK),this.nodes.forEach(vK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZX)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new qA),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=qX(s),this.instance=s;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=eK(d,250),uy.hasAnimatedSinceResize&&(uy.hasAnimatedSinceResize=!1,this.nodes.forEach(YB))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||AK,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=c.getProps(),g=!this.targetLayout||!fk(this.targetLayout,m),S=!d&&f;if(this.options.layoutRoot||this.resumeFrom||S||d&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,S);const _={...QA(v,"layout"),onPlay:x,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else d||YB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bK),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JB);return}this.isUpdating||this.nodes.forEach(xK),this.isUpdating=!1,this.nodes.forEach(SK),this.nodes.forEach(pK),this.nodes.forEach(mK),this.clearAllSnapshots();const a=Ki.now();ri.delta=Ha(0,1e3/60,a-ri.timestamp),ri.timestamp=a,ri.isProcessing=!0,T_.update.process(ri),T_.preRender.process(ri),T_.render.process(ri),ri.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yK),this.sharedNodes.forEach(wK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Di(this.snapshot.measuredBox.x)&&!Di(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=br(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dk(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(a||Nc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),TK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return br();const a=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(RK))){const{scroll:u}=this.root;u&&(Xd(a.x,u.offset.x),Xd(a.y,u.offset.y))}return a}removeElementScroll(s){var l;const a=br();if(No(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&No(a,s),Xd(a.x,d.offset.x),Xd(a.y,d.offset.y))}return a}applyTransform(s,a=!1){const l=br();No(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Kd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Nc(u.latestValues)&&Kd(l,u.latestValues)}return Nc(this.latestValues)&&Kd(l,this.latestValues),l}removeTransform(s){const a=br();No(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Nc(c.latestValues))continue;Bw(c.latestValues)&&c.updateSnapshot();const u=br(),d=c.measurePageBox();No(u,d),GB(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Nc(this.latestValues)&&GB(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ri.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=ri.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=br(),this.relativeTargetOrigin=br(),Rp(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),No(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=br(),this.targetWithTransforms=br()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):No(this.target,this.layout.layoutBox),nk(this.target,this.targetDelta)):No(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=br(),this.relativeTargetOrigin=br(),Rp(this.relativeTargetOrigin,this.target,m.target),No(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bw(this.parent.latestValues)||tk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ri.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;No(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;PX(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=br());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zB(this.prevProjectionDelta.x,this.projectionDelta.x),zB(this.prevProjectionDelta.y,this.projectionDelta.y)),Tp(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!KB(this.projectionDelta.x,this.prevProjectionDelta.x)||!KB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jd(),this.projectionDelta=jd(),this.projectionDeltaWithTransform=jd()}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=jd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=br(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,y=this.getStack(),g=!y||y.members.length<=1,S=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(MK));this.animationProgress=0;let _;this.mixTargetDelta=w=>{const A=w/1e3;qB(d.x,s.x,A),qB(d.y,s.y,A),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EK(this.relativeTarget,this.relativeTargetOrigin,f,A),_&&lK(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=br()),No(_,this.relativeTarget)),x&&(this.animationValues=u,nK(u,c,this.latestValues,A,S,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pr.update(()=>{uy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=bf(0)),this.currentAnimation=YX(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fK),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&mk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||br();const d=Di(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=Di(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}No(a,l),Kd(a,u),Tp(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new cK),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&N_("z",s,c,this.animationValues);for(let u=0;u<F_.length;u++)N_(`rotate${F_[u]}`,s,c,this.animationValues),N_(`skew${F_[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return dK;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=ly(s==null?void 0:s.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=ly(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Nc(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=uK(this.projectionDeltaWithTransform,this.treeScale,u),l&&(a.transform=l(u,a.transform));const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in om){if(u[m]===void 0)continue;const{correct:v,applyTo:x,isCSSVariable:y}=om[m],g=a.transform==="none"?u[m]:v(u[m],c);if(x){const S=x.length;for(let _=0;_<S;_++)a[x[_]]=g}else y?this.options.visualElement.renderState.vars[m]=g:a[m]=g}return this.options.layoutId&&(a.pointerEvents=c===this?ly(s==null?void 0:s.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(JB),this.root.sharedNodes.clear()}}}function pK(t){t.updateLayout()}function mK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?Vo(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],m=Di(f);f.min=r[d].min,f.max=f.min+m}):mk(o,e.layoutBox,r)&&Vo(d=>{const f=s?e.measuredBox[d]:e.layoutBox[d],m=Di(r[d]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=jd();Tp(a,r,e.layoutBox);const l=jd();s?Tp(l,t.applyTransform(i,!0),e.measuredBox):Tp(l,r,e.layoutBox);const c=!dk(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const v=br();Rp(v,e.layoutBox,f.layoutBox);const x=br();Rp(x,r,m.layoutBox),fk(v,x)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function vK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yK(t){t.clearSnapshot()}function JB(t){t.clearMeasurements()}function xK(t){t.isLayoutDirty=!1}function SK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function YB(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _K(t){t.resolveTargetDelta()}function CK(t){t.calcProjection()}function bK(t){t.resetSkewAndRotation()}function wK(t){t.removeLeadSnapshot()}function qB(t,e,n){t.translate=ur(e.translate,0,n),t.scale=ur(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function QB(t,e,n,r){t.min=ur(e.min,n.min,r),t.max=ur(e.max,n.max,r)}function EK(t,e,n,r){QB(t.x,e.x,n.x,r),QB(t.y,e.y,n.y,r)}function MK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const AK={duration:.45,ease:[.4,0,.1,1]},ZB=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eO=ZB("applewebkit/")&&!ZB("chrome/")?Math.round:es;function tO(t){t.min=eO(t.min),t.max=eO(t.max)}function TK(t){tO(t.x),tO(t.y)}function mk(t,e,n){return t==="position"||t==="preserve-aspect"&&!TX(XB(e),XB(n),.2)}function RK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const PK=pk({attachResizeListener:(t,e)=>um(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),U_={current:void 0},gk=pk({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!U_.current){const t=new PK({});t.mount(window),t.setOptions({layoutScroll:!0}),U_.current=t}return U_.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IK={pan:{Feature:jX},drag:{Feature:WX,ProjectionNode:gk,MeasureLayout:lk}};function BK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function vk(t,e){const n=BK(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function nO(t){return!(t.pointerType==="touch"||ak())}function OK(t,e,n={}){const[r,i,o]=vk(t,n),s=a=>{if(!nO(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{nO(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}function rO(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&pr.postRender(()=>o(e,tg(e)))}class LK extends Ql{mount(){const{current:e}=this.node;e&&(this.unmount=OK(e,(n,r)=>(rO(this.node,r,"Start"),i=>rO(this.node,i,"End"))))}unmount(){}}class DK extends Ql{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zm(um(this.node.current,"focus",()=>this.onFocus()),um(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yk=(t,e)=>e?t===e?!0:yk(t,e.parentElement):!1,FK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NK(t){return FK.has(t.tagName)||t.tabIndex!==-1}const dy=new WeakSet;function iO(t){return e=>{e.key==="Enter"&&t(e)}}function k_(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const UK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=iO(()=>{if(dy.has(n))return;k_(n,"down");const i=iO(()=>{k_(n,"up")}),o=()=>k_(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function oO(t){return dT(t)&&!ak()}function kK(t,e,n={}){const[r,i,o]=vk(t,n),s=a=>{const l=a.currentTarget;if(!oO(a))return;dy.add(l);const c=e(l,a),u=(m,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),dy.has(l)&&dy.delete(l),oO(m)&&typeof c=="function"&&c(m,{success:v})},d=m=>{u(m,l===window||l===document||n.useGlobalTarget||yk(l,m.target))},f=m=>{u(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a instanceof HTMLElement&&(a.addEventListener("focus",c=>UK(c,i)),!NK(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function sO(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&pr.postRender(()=>o(e,tg(e)))}class zK extends Ql{mount(){const{current:e}=this.node;e&&(this.unmount=kK(e,(n,r)=>(sO(this.node,r,"Start"),(i,{success:o})=>sO(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dw=new WeakMap,z_=new WeakMap,HK=t=>{const e=Dw.get(t.target);e&&e(t)},VK=t=>{t.forEach(HK)};function GK({root:t,...e}){const n=t||document;z_.has(n)||z_.set(n,{});const r=z_.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(VK,{root:t,...e})),r[i]}function $K(t,e,n){const r=GK(e);return Dw.set(t,n),r.observe(t),()=>{Dw.delete(t),r.unobserve(t)}}const WK={some:0,all:1};class jK extends Ql{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:WK[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return $K(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XK(e,n))&&this.startObserver()}unmount(){}}function XK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KK={inView:{Feature:jK},tap:{Feature:zK},focus:{Feature:DK},hover:{Feature:LK}},JK={layout:{ProjectionNode:gk,MeasureLayout:lk}},Fw={current:null},xk={current:!1};function YK(){if(xk.current=!0,!!LA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fw.current=t.matches;t.addListener(e),e()}else Fw.current=!1}const qK=new WeakMap;function QK(t,e,n){for(const r in e){const i=e[r],o=n[r];if(bi(i))t.addValue(r,i);else if(bi(o))t.addValue(r,bf(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,bf(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Sk=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),_k=t=>/^0[^.\s]+$/u.test(t),ZK={test:t=>t==="auto",parse:t=>t},Ck=t=>e=>e.test(t),bk=[Jf,en,Ys,pl,lj,aj,ZK],aO=t=>bk.find(Ck(t)),eJ=[...bk,_i,Vl],tJ=t=>eJ.find(Ck(t)),nJ=new Set(["brightness","contrast","saturate","opacity"]);function rJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ZA)||[];if(!r)return t;const i=n.replace(r,"");let o=nJ.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const iJ=/\b([a-z-]*)\(.*?\)/gu,Nw={...Vl,getAnimatableNone:t=>{const e=t.match(iJ);return e?e.map(rJ).join(" "):t}},oJ={...GA,color:_i,backgroundColor:_i,outlineColor:_i,fill:_i,stroke:_i,borderColor:_i,borderTopColor:_i,borderRightColor:_i,borderBottomColor:_i,borderLeftColor:_i,filter:Nw,WebkitFilter:Nw},wk=t=>oJ[t];function Ek(t,e){let n=wk(t);return n!==Nw&&(n=Vl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const lO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sJ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ki.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,pr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=Wx(n),this.isVariantNode=a4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&bi(m)&&m.set(l[f],!1)}}mount(e){this.current=e,qK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),xk.current||YK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hl(this.notifyUpdate),Hl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Kf.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&pr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cf){const n=Cf[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):br()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<lO.length;r++){const i=lO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=QK(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Sk(r)||_k(r))?r=parseFloat(r):!tJ(r)&&Vl.test(n)&&(r=Ek(e,n)),this.setBaseTarget(e,bi(r)?r.get():r)),bi(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=XA(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!bi(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}const aJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lJ(t){const e=aJ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Mk(t,e,n=1){const[r,i]=lJ(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return Sk(s)?parseFloat(s):s}return VA(i)?Mk(i,e,n+1):i}function cJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||_k(t):!0}const uJ=new Set(["auto","none","0"]);function dJ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!uJ.has(o)&&lm(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=Ek(n,i)}class fJ extends lT{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),VA(c))){const u=Mk(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!K4.has(r)||e.length!==2)return;const[i,o]=e,s=aO(i),a=aO(o);if(s!==a)if(hB(s)&&hB(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else au[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||cJ(e[i]))&&r.push(i);r.length&&dJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=au[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=au[n](e.measureViewportBox(),window.getComputedStyle(e.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}class Ak extends sJ{constructor(){super(...arguments),this.KeyframeResolver=fJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bi(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}function hJ(t){return window.getComputedStyle(t)}class pJ extends Ak{constructor(){super(...arguments),this.type="html",this.renderInstance=Tk}readValueFromInstance(e,n){if(Kf.has(n))return N7(e,n);{const r=hJ(e),i=(HA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rk(e,n)}build(e,n,r){$A(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return KA(e,n,r)}}const Rk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mJ(t,e,n,r){Tk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Rk.has(i)?i:UA(i),e.attrs[i])}class gJ extends Ak{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=br}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Kf.has(n)){const r=wk(n);return r&&r.default||0}return n=Rk.has(n)?n:UA(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return x4(e,n,r)}build(e,n,r){m4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){mJ(e,n,r,i)}mount(e){this.isSVGTag=v4(e.tagName),super.mount(e)}}const vJ=(t,e)=>jA(t)?new gJ(e):new pJ(e,{allowProjection:t!==C.Fragment}),Pk=Mj({...SX,...KK,...IK,...JK},vJ),dm=jW(Pk);function fT({name:t,isLoading:e,isDisabled:n,className:r,onClick:i}){const o=t4(A_.button,{[A_.isLoading]:e,[A_.isDisabled]:n},r),s=C.useRef(null);return Ve.jsx(dm.button,{whileHover:{scale:1.06},whileTap:{scale:.95},className:o,onClick:i,disabled:e,ref:s,children:t})}const yJ="_root_o9fuw_3",xJ="_closeButton_o9fuw_17",SJ="_overlay_o9fuw_34",_J="_headerCaption_o9fuw_47",CJ="_questionCaption_o9fuw_52",bJ="_formItem_slider_o9fuw_56",wJ="_submitButton_o9fuw_66",Pi={root:yJ,closeButton:xJ,overlay:SJ,headerCaption:_J,questionCaption:CJ,formItem_slider:bJ,submitButton:wJ};var Ik={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Ik);var EJ=Ik.exports;const nt=Wm(EJ);function Xt(){return Xt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xt.apply(null,arguments)}function $t(t){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$t(t)}var MJ=Symbol.for("react.element"),AJ=Symbol.for("react.transitional.element"),TJ=Symbol.for("react.fragment");function Bk(t){return t&&$t(t)==="object"&&(t.$$typeof===MJ||t.$$typeof===AJ)&&t.type===TJ}function wf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return tt.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(wf(r)):Bk(r)&&r.props?n=n.concat(wf(r.props.children,e)):n.push(r))}),n}var Uw={},RJ=function(e){};function PJ(t,e){}function IJ(t,e){}function BJ(){Uw={}}function Ok(t,e,n){!e&&!Uw[n]&&(t(!1,n),Uw[n]=!0)}function wi(t,e){Ok(PJ,t,e)}function OJ(t,e){Ok(IJ,t,e)}wi.preMessage=RJ;wi.resetWarned=BJ;wi.noteOnce=OJ;function LJ(t,e){if($t(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($t(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lk(t){var e=LJ(t,"string");return $t(e)=="symbol"?e:e+""}function xe(t,e,n){return(e=Lk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fm(t){return t instanceof HTMLElement||t instanceof SVGElement}function Dk(t){return t&&$t(t)==="object"&&fm(t.nativeElement)?t.nativeElement:fm(t)?t:null}function fy(t){var e=Dk(t);if(e)return e;if(t instanceof tt.Component){var n;return(n=mw.findDOMNode)===null||n===void 0?void 0:n.call(mw,t)}return null}var Fk={exports:{}},zn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hT=Symbol.for("react.element"),pT=Symbol.for("react.portal"),jx=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),Jx=Symbol.for("react.provider"),Yx=Symbol.for("react.context"),DJ=Symbol.for("react.server_context"),qx=Symbol.for("react.forward_ref"),Qx=Symbol.for("react.suspense"),Zx=Symbol.for("react.suspense_list"),eS=Symbol.for("react.memo"),tS=Symbol.for("react.lazy"),FJ=Symbol.for("react.offscreen"),Nk;Nk=Symbol.for("react.module.reference");function os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case hT:switch(t=t.type,t){case jx:case Kx:case Xx:case Qx:case Zx:return t;default:switch(t=t&&t.$$typeof,t){case DJ:case Yx:case qx:case tS:case eS:case Jx:return t;default:return e}}case pT:return e}}}zn.ContextConsumer=Yx;zn.ContextProvider=Jx;zn.Element=hT;zn.ForwardRef=qx;zn.Fragment=jx;zn.Lazy=tS;zn.Memo=eS;zn.Portal=pT;zn.Profiler=Kx;zn.StrictMode=Xx;zn.Suspense=Qx;zn.SuspenseList=Zx;zn.isAsyncMode=function(){return!1};zn.isConcurrentMode=function(){return!1};zn.isContextConsumer=function(t){return os(t)===Yx};zn.isContextProvider=function(t){return os(t)===Jx};zn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===hT};zn.isForwardRef=function(t){return os(t)===qx};zn.isFragment=function(t){return os(t)===jx};zn.isLazy=function(t){return os(t)===tS};zn.isMemo=function(t){return os(t)===eS};zn.isPortal=function(t){return os(t)===pT};zn.isProfiler=function(t){return os(t)===Kx};zn.isStrictMode=function(t){return os(t)===Xx};zn.isSuspense=function(t){return os(t)===Qx};zn.isSuspenseList=function(t){return os(t)===Zx};zn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===jx||t===Kx||t===Xx||t===Qx||t===Zx||t===FJ||typeof t=="object"&&t!==null&&(t.$$typeof===tS||t.$$typeof===eS||t.$$typeof===Jx||t.$$typeof===Yx||t.$$typeof===qx||t.$$typeof===Nk||t.getModuleId!==void 0)};zn.typeOf=os;Fk.exports=zn;var H_=Fk.exports;function nS(t,e,n){var r=C.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}var NJ=Number(C.version.split(".")[0]),mT=function(e,n){typeof e=="function"?e(n):$t(e)==="object"&&e&&"current"in e&&(e.current=n)},sa=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);return i.length<=1?i[0]:function(o){n.forEach(function(s){mT(s,o)})}},ng=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return nS(function(){return sa.apply(void 0,n)},n,function(i,o){return i.length!==o.length||i.every(function(s,a){return s!==o[a]})})},Yf=function(e){var n,r;if(!e)return!1;if(Uk(e)&&NJ>=19)return!0;var i=H_.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)&&i.$$typeof!==H_.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==H_.ForwardRef)};function Uk(t){return C.isValidElement(t)&&!Bk(t)}var rg=function(e){if(e&&Uk(e)){var n=e;return n.props.propertyIsEnumerable("ref")?n.props.ref:n.ref}return null},kw=C.createContext(null);function UJ(t){var e=t.children,n=t.onBatchResize,r=C.useRef(0),i=C.useRef([]),o=C.useContext(kw),s=C.useCallback(function(a,l,c){r.current+=1;var u=r.current;i.current.push({size:a,element:l,data:c}),Promise.resolve().then(function(){u===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(a,l,c)},[n,o]);return C.createElement(kw.Provider,{value:s},e)}var kk=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),zw=typeof window<"u"&&typeof document<"u"&&window.document===document,sx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),kJ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(sx):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),zJ=2;function HJ(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){kJ(o)}function a(){var l=Date.now();if(n){if(l-i<zJ)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var VJ=20,GJ=["top","right","bottom","left","width","height","size","weight"],$J=typeof MutationObserver<"u",WJ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=HJ(this.refresh.bind(this),VJ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!zw||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),$J?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!zw||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=GJ.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),zk=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ef=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||sx},Hk=rS(0,0,0,0);function ax(t){return parseFloat(t)||0}function uO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+ax(o)},0)}function jJ(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=ax(s)}return n}function XJ(t){var e=t.getBBox();return rS(0,0,e.width,e.height)}function KJ(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Hk;var r=Ef(t).getComputedStyle(t),i=jJ(r),o=i.left+i.right,s=i.top+i.bottom,a=ax(r.width),l=ax(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=uO(r,"left","right")+o),Math.round(l+s)!==n&&(l-=uO(r,"top","bottom")+s)),!YJ(t)){var c=Math.round(a+o)-e,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return rS(i.left,i.top,a,l)}var JJ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ef(t).SVGGraphicsElement}:function(t){return t instanceof Ef(t).SVGElement&&typeof t.getBBox=="function"}}();function YJ(t){return t===Ef(t).document.documentElement}function qJ(t){return zw?JJ(t)?XJ(t):KJ(t):Hk}function QJ(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return zk(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function rS(t,e,n,r){return{x:t,y:e,width:n,height:r}}var ZJ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=rS(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=qJ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),eY=function(){function t(e,n){var r=QJ(n);zk(this,{target:e,contentRect:r})}return t}(),tY=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new kk,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ef(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new ZJ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ef(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new eY(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Vk=typeof WeakMap<"u"?new WeakMap:new kk,Gk=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=WJ.getInstance(),r=new tY(e,n,this);Vk.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Gk.prototype[t]=function(){var e;return(e=Vk.get(this))[t].apply(e,arguments)}});var nY=function(){return typeof sx.ResizeObserver<"u"?sx.ResizeObserver:Gk}(),Al=new Map;function rY(t){t.forEach(function(e){var n,r=e.target;(n=Al.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var $k=new nY(rY);function iY(t,e){Al.has(t)||(Al.set(t,new Set),$k.observe(t)),Al.get(t).add(e)}function oY(t,e){Al.has(t)&&(Al.get(t).delete(e),Al.get(t).size||($k.unobserve(t),Al.delete(t)))}function Gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lk(r.key),r)}}function $r(t,e,n){return e&&dO(t.prototype,e),n&&dO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hm(t,e){return hm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hm(t,e)}function Zl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hm(t,e)}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pm(t)}function gT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gT=function(){return!!t})()}function vn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sY(t,e){if(e&&($t(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vn(t)}function ec(t){var e=gT();return function(){var n,r=pm(t);if(e){var i=pm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sY(this,n)}}var aY=function(t){Zl(n,t);var e=ec(n);function n(){return Gr(this,n),e.apply(this,arguments)}return $r(n,[{key:"render",value:function(){return this.props.children}}]),n}(C.Component);function lY(t,e){var n=t.children,r=t.disabled,i=C.useRef(null),o=C.useRef(null),s=C.useContext(kw),a=typeof n=="function",l=a?n(i):n,c=C.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!a&&C.isValidElement(l)&&Yf(l),d=u?rg(l):null,f=ng(d,i),m=function(){var g;return fy(i.current)||(i.current&&$t(i.current)==="object"?fy((g=i.current)===null||g===void 0?void 0:g.nativeElement):null)||fy(o.current)};C.useImperativeHandle(e,function(){return m()});var v=C.useRef(t);v.current=t;var x=C.useCallback(function(y){var g=v.current,S=g.onResize,_=g.data,w=y.getBoundingClientRect(),A=w.width,M=w.height,P=y.offsetWidth,I=y.offsetHeight,T=Math.floor(A),E=Math.floor(M);if(c.current.width!==T||c.current.height!==E||c.current.offsetWidth!==P||c.current.offsetHeight!==I){var B={width:T,height:E,offsetWidth:P,offsetHeight:I};c.current=B;var F=P===Math.round(A)?A:P,L=I===Math.round(M)?M:I,z=Ce(Ce({},B),{},{offsetWidth:F,offsetHeight:L});s==null||s(z,y,_),S&&Promise.resolve().then(function(){S(z,y)})}},[]);return C.useEffect(function(){var y=m();return y&&!r&&iY(y,x),function(){return oY(y,x)}},[i.current,r]),C.createElement(aY,{ref:o},u?C.cloneElement(l,{ref:f}):l)}var cY=C.forwardRef(lY),uY="rc-observer-key";function dY(t,e){var n=t.children,r=typeof n=="function"?[n]:wf(n);return r.map(function(i,o){var s=(i==null?void 0:i.key)||"".concat(uY,"-").concat(o);return C.createElement(cY,Xt({},t,{key:s,ref:o===0?e:void 0}),i)})}var tc=C.forwardRef(dY);tc.Collection=UJ;function Hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function fY(t){if(Array.isArray(t))return Hw(t)}function Wk(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vT(t,e){if(t){if(typeof t=="string")return Hw(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hw(t,e):void 0}}function hY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(t){return fY(t)||Wk(t)||vT(t)||hY()}var jk=function(e){return+setTimeout(e,16)},Xk=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(jk=function(e){return window.requestAnimationFrame(e)},Xk=function(e){return window.cancelAnimationFrame(e)});var fO=0,yT=new Map;function Kk(t){yT.delete(t)}var Gn=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;fO+=1;var r=fO;function i(o){if(o===0)Kk(r),e();else{var s=jk(function(){i(o-1)});yT.set(r,s)}}return i(n),r};Gn.cancel=function(t){var e=yT.get(t);return Kk(t),Xk(e)};function Jk(t){if(Array.isArray(t))return t}function pY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Yk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ke(t,e){return Jk(t)||pY(t,e)||vT(t,e)||Yk()}function mm(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function eo(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function mY(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var hO="data-rc-order",pO="data-rc-priority",gY="rc-util-key",Vw=new Map;function qk(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):gY}function iS(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function vY(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function xT(t){return Array.from((Vw.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function Qk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!eo())return null;var n=e.csp,r=e.prepend,i=e.priority,o=i===void 0?0:i,s=vY(r),a=s==="prependQueue",l=document.createElement("style");l.setAttribute(hO,s),a&&o&&l.setAttribute(pO,"".concat(o)),n!=null&&n.nonce&&(l.nonce=n==null?void 0:n.nonce),l.innerHTML=t;var c=iS(e),u=c.firstChild;if(r){if(a){var d=(e.styles||xT(c)).filter(function(f){if(!["prepend","prependQueue"].includes(f.getAttribute(hO)))return!1;var m=Number(f.getAttribute(pO)||0);return o>=m});if(d.length)return c.insertBefore(l,d[d.length-1].nextSibling),l}c.insertBefore(l,u)}else c.appendChild(l);return l}function Zk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=iS(e);return(e.styles||xT(n)).find(function(r){return r.getAttribute(qk(e))===t})}function gm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Zk(t,e);if(n){var r=iS(e);r.removeChild(n)}}function yY(t,e){var n=Vw.get(t);if(!n||!mY(document,n)){var r=Qk("",e),i=r.parentNode;Vw.set(t,i),t.removeChild(r)}}function Oa(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=iS(n),i=xT(r),o=Ce(Ce({},n),{},{styles:i});yY(r,o);var s=Zk(e,o);if(s){var a,l;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&s.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;s.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return s.innerHTML!==t&&(s.innerHTML=t),s}var u=Qk(t,o);return u.setAttribute(qk(o),e),u}function xY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function On(t,e){if(t==null)return{};var n,r,i=xY(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lx(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(wi(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var c=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var u=0;u<o.length;u++)if(!i(o[u],s[u],c))return!1;return!0}if(o&&s&&$t(o)==="object"&&$t(s)==="object"){var d=Object.keys(o);return d.length!==Object.keys(s).length?!1:d.every(function(f){return i(o[f],s[f],c)})}return!1}return i(t,e)}var SY="%";function Gw(t){return t.join(SY)}var _Y=function(){function t(e){Gr(this,t),xe(this,"instanceId",void 0),xe(this,"cache",new Map),this.instanceId=e}return $r(t,[{key:"get",value:function(n){return this.opGet(Gw(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,r){return this.opUpdate(Gw(n),r)}},{key:"opUpdate",value:function(n,r){var i=this.cache.get(n),o=r(i);o===null?this.cache.delete(n):this.cache.set(n,o)}}]),t}(),Mf="data-token-hash",Ts="data-css-hash",Tl="__cssinjs_instance__";function CY(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(Ts,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[Tl]=i[Tl]||t,i[Tl]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(Ts,"]"))).forEach(function(i){var o=i.getAttribute(Ts);if(r[o]){if(i[Tl]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new _Y(t)}var ig=C.createContext({hashPriority:"low",cache:CY(),defaultCache:!0});function bY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var ST=function(){function t(){Gr(this,t),xe(this,"cache",void 0),xe(this,"keys",void 0),xe(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return $r(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l;s=(l=s)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(c,u){var d=ke(c,2),f=d[1];return i.internalGet(u)[1]<f?[u,i.internalGet(u)[1]]:c},[this.keys[0],this.cacheCallTimes]),s=ke(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(c,u){if(u===n.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var d=l.get(c);d?d.map||(d.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!bY(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();xe(ST,"MAX_CACHE_SIZE",20);xe(ST,"MAX_CACHE_OFFSET",5);var mO=0,ez=function(){function t(e){Gr(this,t),xe(this,"derivatives",void 0),xe(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=mO,e.length===0&&(e.length>0,void 0),mO+=1}return $r(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),V_=new ST;function $w(t){var e=Array.isArray(t)?t:[t];return V_.has(e)||V_.set(e,new ez(e)),V_.get(e)}var wY=new WeakMap,G_={};function EY(t,e){for(var n=wY,r=0;r<e.length;r+=1){var i=e[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(G_)||n.set(G_,t()),n.get(G_)}var gO=new WeakMap;function Pp(t){var e=gO.get(t)||"";return e||(Object.keys(t).forEach(function(n){var r=t[n];e+=n,r instanceof ez?e+=r.id:r&&$t(r)==="object"?e+=Pp(r):e+=r}),e=mm(e),gO.set(t,e)),e}function vO(t,e){return mm("".concat(e,"_").concat(Pp(t)))}var Ww=eo();function Ct(t){return typeof t=="number"?"".concat(t,"px"):t}function cx(t,e,n){var r,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(o)return t;var s=Ce(Ce({},i),{},(r={},xe(r,Mf,e),xe(r,Ts,n),r)),a=Object.keys(s).map(function(l){var c=s[l];return c?"".concat(l,'="').concat(c,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(a,">").concat(t,"</style>")}var hy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},MY=function(e,n,r){return Object.keys(e).length?".".concat(n).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var o=ke(i,2),s=o[0],a=o[1];return"".concat(s,":").concat(a,";")}).join(""),"}"):""},tz=function(e,n,r){var i={},o={};return Object.entries(e).forEach(function(s){var a,l,c=ke(s,2),u=c[0],d=c[1];if(r!=null&&(a=r.preserve)!==null&&a!==void 0&&a[u])o[u]=d;else if((typeof d=="string"||typeof d=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[u])){var f,m=hy(u,r==null?void 0:r.prefix);i[m]=typeof d=="number"&&!(r!=null&&(f=r.unitless)!==null&&f!==void 0&&f[u])?"".concat(d,"px"):String(d),o[u]="var(".concat(m,")")}}),[o,MY(i,n,{scope:r==null?void 0:r.scope})]},yO=eo()?C.useLayoutEffect:C.useEffect,Vn=function(e,n){var r=C.useRef(!0);yO(function(){return e(r.current)},n),yO(function(){return r.current=!1,function(){r.current=!0}},[])},xO=function(e,n){Vn(function(r){if(!r)return e()},n)},AY=Ce({},Xm),SO=AY.useInsertionEffect,TY=function(e,n,r){C.useMemo(e,r),Vn(function(){return n(!0)},r)},RY=SO?function(t,e,n){return SO(function(){return t(),e()},n)}:TY,PY=Ce({},Xm),IY=PY.useInsertionEffect,BY=function(e){var n=[],r=!1;function i(o){r||n.push(o)}return C.useEffect(function(){return r=!1,function(){r=!0,n.length&&n.forEach(function(o){return o()})}},e),i},OY=function(){return function(e){e()}},LY=typeof IY<"u"?BY:OY;function _T(t,e,n,r,i){var o=C.useContext(ig),s=o.cache,a=[t].concat(pt(e)),l=Gw(a),c=LY([l]),u=function(v){s.opUpdate(l,function(x){var y=x||[void 0,void 0],g=ke(y,2),S=g[0],_=S===void 0?0:S,w=g[1],A=w,M=A||n(),P=[_,M];return v?v(P):P})};C.useMemo(function(){u()},[l]);var d=s.opGet(l),f=d[1];return RY(function(){i==null||i(f)},function(m){return u(function(v){var x=ke(v,2),y=x[0],g=x[1];return m&&y===0&&(i==null||i(f)),[y+1,g]}),function(){s.opUpdate(l,function(v){var x=v||[],y=ke(x,2),g=y[0],S=g===void 0?0:g,_=y[1],w=S-1;return w===0?(c(function(){(m||!s.opGet(l))&&(r==null||r(_,!1))}),null):[S-1,_]})}},[l]),f}var DY={},FY="css",Vc=new Map;function NY(t){Vc.set(t,(Vc.get(t)||0)+1)}function UY(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Mf,'="').concat(t,'"]'));n.forEach(function(r){if(r[Tl]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var kY=0;function zY(t,e){Vc.set(t,(Vc.get(t)||0)-1);var n=Array.from(Vc.keys()),r=n.filter(function(i){var o=Vc.get(i)||0;return o<=0});n.length-r.length>kY&&r.forEach(function(i){UY(i,e),Vc.delete(i)})}var HY=function(e,n,r,i){var o=r.getDerivativeToken(e),s=Ce(Ce({},o),n);return i&&(s=i(s)),s},nz="token";function VY(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=C.useContext(ig),i=r.cache.instanceId,o=r.container,s=n.salt,a=s===void 0?"":s,l=n.override,c=l===void 0?DY:l,u=n.formatToken,d=n.getComputedToken,f=n.cssVar,m=EY(function(){return Object.assign.apply(Object,[{}].concat(pt(e)))},e),v=Pp(m),x=Pp(c),y=f?Pp(f):"",g=_T(nz,[a,t.id,v,x,y],function(){var S,_=d?d(m,c,t):HY(m,c,t,u),w=Ce({},_),A="";if(f){var M=tz(_,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),P=ke(M,2);_=P[0],A=P[1]}var I=vO(_,a);_._tokenKey=I,w._tokenKey=vO(w,a);var T=(S=f==null?void 0:f.key)!==null&&S!==void 0?S:I;_._themeKey=T,NY(T);var E="".concat(FY,"-").concat(mm(I));return _._hashId=E,[_,E,w,A,(f==null?void 0:f.key)||""]},function(S){zY(S[0]._themeKey,i)},function(S){var _=ke(S,4),w=_[0],A=_[3];if(f&&A){var M=Oa(A,mm("css-variables-".concat(w._themeKey)),{mark:Ts,prepend:"queue",attachTo:o,priority:-999});M[Tl]=i,M.setAttribute(Mf,w._themeKey)}});return g}var GY=function(e,n,r){var i=ke(e,5),o=i[2],s=i[3],a=i[4],l=r||{},c=l.plain;if(!s)return null;var u=o._tokenKey,d=-999,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},m=cx(s,a,u,f,c);return[d,u,m]},$Y={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rz="comm",iz="rule",oz="decl",WY="@import",jY="@namespace",XY="@keyframes",KY="@layer",sz=Math.abs,CT=String.fromCharCode;function az(t){return t.trim()}function py(t,e,n){return t.replace(e,n)}function JY(t,e,n){return t.indexOf(e,n)}function uf(t,e){return t.charCodeAt(e)|0}function Af(t,e,n){return t.slice(e,n)}function Ws(t){return t.length}function YY(t){return t.length}function Uv(t,e){return e.push(t),t}var oS=1,Tf=1,lz=0,rs=0,Ir=0,qf="";function bT(t,e,n,r,i,o,s,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:oS,column:Tf,length:s,return:"",siblings:a}}function qY(){return Ir}function QY(){return Ir=rs>0?uf(qf,--rs):0,Tf--,Ir===10&&(Tf=1,oS--),Ir}function Rs(){return Ir=rs<lz?uf(qf,rs++):0,Tf++,Ir===10&&(Tf=1,oS++),Ir}function Rl(){return uf(qf,rs)}function my(){return rs}function sS(t,e){return Af(qf,t,e)}function vm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZY(t){return oS=Tf=1,lz=Ws(qf=t),rs=0,[]}function eq(t){return qf="",t}function $_(t){return az(sS(rs-1,jw(t===91?t+2:t===40?t+1:t)))}function tq(t){for(;(Ir=Rl())&&Ir<33;)Rs();return vm(t)>2||vm(Ir)>3?"":" "}function nq(t,e){for(;--e&&Rs()&&!(Ir<48||Ir>102||Ir>57&&Ir<65||Ir>70&&Ir<97););return sS(t,my()+(e<6&&Rl()==32&&Rs()==32))}function jw(t){for(;Rs();)switch(Ir){case t:return rs;case 34:case 39:t!==34&&t!==39&&jw(Ir);break;case 40:t===41&&jw(t);break;case 92:Rs();break}return rs}function rq(t,e){for(;Rs()&&t+Ir!==47+10;)if(t+Ir===42+42&&Rl()===47)break;return"/*"+sS(e,rs-1)+"*"+CT(t===47?t:Rs())}function iq(t){for(;!vm(Rl());)Rs();return sS(t,rs)}function oq(t){return eq(gy("",null,null,null,[""],t=ZY(t),0,[0],t))}function gy(t,e,n,r,i,o,s,a,l){for(var c=0,u=0,d=s,f=0,m=0,v=0,x=1,y=1,g=1,S=0,_="",w=i,A=o,M=r,P=_;y;)switch(v=S,S=Rs()){case 40:if(v!=108&&uf(P,d-1)==58){JY(P+=py($_(S),"&","&\f"),"&\f",sz(c?a[c-1]:0))!=-1&&(g=-1);break}case 34:case 39:case 91:P+=$_(S);break;case 9:case 10:case 13:case 32:P+=tq(v);break;case 92:P+=nq(my()-1,7);continue;case 47:switch(Rl()){case 42:case 47:Uv(sq(rq(Rs(),my()),e,n,l),l),(vm(v||1)==5||vm(Rl()||1)==5)&&Ws(P)&&Af(P,-1,void 0)!==" "&&(P+=" ");break;default:P+="/"}break;case 123*x:a[c++]=Ws(P)*g;case 125*x:case 59:case 0:switch(S){case 0:case 125:y=0;case 59+u:g==-1&&(P=py(P,/\f/g,"")),m>0&&(Ws(P)-d||x===0&&v===47)&&Uv(m>32?CO(P+";",r,n,d-1,l):CO(py(P," ","")+";",r,n,d-2,l),l);break;case 59:P+=";";default:if(Uv(M=_O(P,e,n,c,u,i,a,_,w=[],A=[],d,o),o),S===123)if(u===0)gy(P,e,M,M,w,o,d,a,A);else{switch(f){case 99:if(uf(P,3)===110)break;case 108:if(uf(P,2)===97)break;default:u=0;case 100:case 109:case 115:}u?gy(t,M,M,r&&Uv(_O(t,M,M,0,0,i,a,_,i,w=[],d,A),A),i,A,d,a,r?w:A):gy(P,M,M,M,[""],A,0,a,A)}}c=u=m=0,x=g=1,_=P="",d=s;break;case 58:d=1+Ws(P),m=v;default:if(x<1){if(S==123)--x;else if(S==125&&x++==0&&QY()==125)continue}switch(P+=CT(S),S*x){case 38:g=u>0?1:(P+="\f",-1);break;case 44:a[c++]=(Ws(P)-1)*g,g=1;break;case 64:Rl()===45&&(P+=$_(Rs())),f=Rl(),u=d=Ws(_=P+=iq(my())),S++;break;case 45:v===45&&Ws(P)==2&&(x=0)}}return o}function _O(t,e,n,r,i,o,s,a,l,c,u,d){for(var f=i-1,m=i===0?o:[""],v=YY(m),x=0,y=0,g=0;x<r;++x)for(var S=0,_=Af(t,f+1,f=sz(y=s[x])),w=t;S<v;++S)(w=az(y>0?m[S]+" "+_:py(_,/&\f/g,m[S])))&&(l[g++]=w);return bT(t,e,n,i===0?iz:a,l,c,u,d)}function sq(t,e,n,r){return bT(t,e,n,rz,CT(qY()),Af(t,2,-2),0,r)}function CO(t,e,n,r,i){return bT(t,e,n,oz,Af(t,0,r),Af(t,r+1,-1),r,i)}function Xw(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function aq(t,e,n,r){switch(t.type){case KY:if(t.children.length)break;case WY:case jY:case oz:return t.return=t.return||t.value;case rz:return"";case XY:return t.return=t.value+"{"+Xw(t.children,r)+"}";case iz:if(!Ws(t.value=t.props.join(",")))return""}return Ws(n=Xw(t.children,r))?t.return=t.value+"{"+n+"}":""}var bO="data-ant-cssinjs-cache-path",cz="_FILE_STYLE__",cu,uz=!0;function lq(){if(!cu&&(cu={},eo())){var t=document.createElement("div");t.className=bO,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var e=getComputedStyle(t).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var o=i.split(":"),s=ke(o,2),a=s[0],l=s[1];cu[a]=l});var n=document.querySelector("style[".concat(bO,"]"));if(n){var r;uz=!1,(r=n.parentNode)===null||r===void 0||r.removeChild(n)}document.body.removeChild(t)}}function cq(t){return lq(),!!cu[t]}function uq(t){var e=cu[t],n=null;if(e&&eo())if(uz)n=cz;else{var r=document.querySelector("style[".concat(Ts,'="').concat(cu[t],'"]'));r?n=r.innerHTML:delete cu[t]}return[n,e]}var dq="_skip_check_",dz="_multi_value_";function vy(t){var e=Xw(oq(t),aq);return e.replace(/\{%%%\:[^;];}/g,";")}function fq(t){return $t(t)==="object"&&t&&(dq in t||dz in t)}function wO(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),c=l[0]||"",u=((a=c.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return c="".concat(u).concat(i).concat(c.slice(u.length)),[c].concat(pt(l.slice(1))).join(" ")});return o.join(",")}var hq=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var c=n.hashPriority,u=n.transformers,d=u===void 0?[]:u;n.linters;var f="",m={};function v(g){var S=g.getName(a);if(!m[S]){var _=t(g.style,n,{root:!1,parentSelectors:s}),w=ke(_,1),A=w[0];m[S]="@keyframes ".concat(g.getName(a)).concat(A)}}function x(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return g.forEach(function(_){Array.isArray(_)?x(_,S):_&&S.push(_)}),S}var y=x(Array.isArray(e)?e:[e]);return y.forEach(function(g){var S=typeof g=="string"&&!i?{}:g;if(typeof S=="string")f+="".concat(S,`
`);else if(S._keyframe)v(S);else{var _=d.reduce(function(w,A){var M;return(A==null||(M=A.visit)===null||M===void 0?void 0:M.call(A,w))||w},S);Object.keys(_).forEach(function(w){var A=_[w];if($t(A)==="object"&&A&&(w!=="animationName"||!A._keyframe)&&!fq(A)){var M=!1,P=w.trim(),I=!1;(i||o)&&a?P.startsWith("@")?M=!0:P==="&"?P=wO("",a,c):P=wO(w,a,c):i&&!a&&(P==="&"||P==="")&&(P="",I=!0);var T=t(A,n,{root:I,injectHash:M,parentSelectors:[].concat(pt(s),[P])}),E=ke(T,2),B=E[0],F=E[1];m=Ce(Ce({},m),F),f+="".concat(P).concat(B)}else{let j=function(X,N){var W=X.replace(/[A-Z]/g,function(ee){return"-".concat(ee.toLowerCase())}),V=N;!$Y[X]&&typeof V=="number"&&V!==0&&(V="".concat(V,"px")),X==="animationName"&&N!==null&&N!==void 0&&N._keyframe&&(v(N),V=N.getName(a)),f+="".concat(W,":").concat(V,";")};var G=j,L,z=(L=A==null?void 0:A.value)!==null&&L!==void 0?L:A;$t(A)==="object"&&A!==null&&A!==void 0&&A[dz]&&Array.isArray(z)?z.forEach(function(X){j(w,X)}):j(w,z)}})}}),i?l&&(f&&(f="@layer ".concat(l.name," {").concat(f,"}")),l.dependencies&&(m["@layer ".concat(l.name)]=l.dependencies.map(function(g){return"@layer ".concat(g,", ").concat(l.name,";")}).join(`
`))):f="{".concat(f,"}"),[f,m]};function fz(t,e){return mm("".concat(t.join("%")).concat(e))}function pq(){return null}var hz="style";function Kw(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=t.clientOnly,l=t.order,c=l===void 0?0:l,u=C.useContext(ig),d=u.autoClear;u.mock;var f=u.defaultCache,m=u.hashPriority,v=u.container,x=u.ssrInline,y=u.transformers,g=u.linters,S=u.cache,_=u.layer,w=n._tokenKey,A=[w];_&&A.push("layer"),A.push.apply(A,pt(r));var M=Ww,P=_T(hz,A,function(){var F=A.join("|");if(cq(F)){var L=uq(F),z=ke(L,2),G=z[0],j=z[1];if(G)return[G,w,j,{},a,c]}var X=e(),N=hq(X,{hashId:i,hashPriority:m,layer:_?o:void 0,path:r.join("-"),transformers:y,linters:g}),W=ke(N,2),V=W[0],ee=W[1],se=vy(V),me=fz(A,se);return[se,w,me,ee,a,c]},function(F,L){var z=ke(F,3),G=z[2];(L||d)&&Ww&&gm(G,{mark:Ts})},function(F){var L=ke(F,4),z=L[0];L[1];var G=L[2],j=L[3];if(M&&z!==cz){var X={mark:Ts,prepend:_?!1:"queue",attachTo:v,priority:c},N=typeof s=="function"?s():s;N&&(X.csp={nonce:N});var W=[],V=[];Object.keys(j).forEach(function(se){se.startsWith("@layer")?W.push(se):V.push(se)}),W.forEach(function(se){Oa(vy(j[se]),"_layer-".concat(se),Ce(Ce({},X),{},{prepend:!0}))});var ee=Oa(z,G,X);ee[Tl]=S.instanceId,ee.setAttribute(Mf,w),V.forEach(function(se){Oa(vy(j[se]),"_effect-".concat(se),X)})}}),I=ke(P,3),T=I[0],E=I[1],B=I[2];return function(F){var L;if(!x||M||!f)L=C.createElement(pq,null);else{var z;L=C.createElement("style",Xt({},(z={},xe(z,Mf,E),xe(z,Ts,B),z),{dangerouslySetInnerHTML:{__html:T}}))}return C.createElement(C.Fragment,null,L,F)}}var mq=function(e,n,r){var i=ke(e,6),o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=r||{},f=d.plain;if(c)return null;var m=o,v={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return m=cx(o,s,a,v,f),l&&Object.keys(l).forEach(function(x){if(!n[x]){n[x]=!0;var y=vy(l[x]),g=cx(y,s,"_effect-".concat(x),v,f);x.startsWith("@layer")?m=g+m:m+=g}}),[u,a,m]},pz="cssVar",gq=function(e,n){var r=e.key,i=e.prefix,o=e.unitless,s=e.ignore,a=e.token,l=e.scope,c=l===void 0?"":l,u=C.useContext(ig),d=u.cache.instanceId,f=u.container,m=a._tokenKey,v=[].concat(pt(e.path),[r,c,m]),x=_T(pz,v,function(){var y=n(),g=tz(y,r,{prefix:i,unitless:o,ignore:s,scope:c}),S=ke(g,2),_=S[0],w=S[1],A=fz(v,w);return[_,w,A,r]},function(y){var g=ke(y,3),S=g[2];Ww&&gm(S,{mark:Ts})},function(y){var g=ke(y,3),S=g[1],_=g[2];if(S){var w=Oa(S,_,{mark:Ts,prepend:"queue",attachTo:f,priority:-999});w[Tl]=d,w.setAttribute(Mf,r)}});return x},vq=function(e,n,r){var i=ke(e,4),o=i[1],s=i[2],a=i[3],l=r||{},c=l.plain;if(!o)return null;var u=-999,d={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)},f=cx(o,a,s,d,c);return[u,s,f]},Nh;Nh={},xe(Nh,hz,mq),xe(Nh,nz,GY),xe(Nh,pz,vq);var Ln=function(){function t(e,n){Gr(this,t),xe(this,"name",void 0),xe(this,"style",void 0),xe(this,"_keyframe",!0),this.name=e,this.style=n}return $r(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function Zu(t){return t.notSplit=!0,t}Zu(["borderTop","borderBottom"]),Zu(["borderTop"]),Zu(["borderBottom"]),Zu(["borderLeft","borderRight"]),Zu(["borderLeft"]),Zu(["borderRight"]);var yq=C.createContext({});const wT=yq;function mz(t){return Jk(t)||Wk(t)||vT(t)||Yk()}function qo(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function gz(t,e,n,r){if(!e.length)return n;var i=mz(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=pt(t):a=Ce({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=gz(a[o],s,n,r),a}function Wo(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!qo(t,e.slice(0,-1))?t:gz(t,e,n,r)}function xq(t){return $t(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function EO(t){return Array.isArray(t)?[]:{}}var Sq=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Jd(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=EO(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),c=qo(i,s),u=Array.isArray(c);if(u||xq(c)){if(!l.has(c)){l.add(c);var d=qo(r,s);u?r=Wo(r,s,[]):(!d||$t(d)!=="object")&&(r=Wo(r,s,EO(c))),Sq(c).forEach(function(f){o([].concat(pt(s),[f]),l)})}}else r=Wo(r,s,c)}o([])}),r}function _q(){}const Cq=C.createContext({}),aS=()=>{const t=()=>{};return t.deprecated=_q,t},vz=C.createContext(void 0);var bq={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},wq={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0},Eq=Ce(Ce({},wq),{},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",week:"Week",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",dateFormat:"M/D/YYYY",dateTimeFormat:"M/D/YYYY HH:mm:ss",previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"});const Mq={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},yz=Mq,Aq={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Eq),timePickerLocale:Object.assign({},yz)},MO=Aq,so="${label} is not a valid ${type}",Tq={locale:"en",Pagination:bq,DatePicker:MO,TimePicker:yz,Calendar:MO,global:{placeholder:"Please select",close:"Close"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckAll:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:so,method:so,array:so,object:so,number:so,date:so,boolean:so,integer:so,float:so,regexp:so,email:so,url:so,hex:so},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty",transparent:"Transparent",singleColor:"Single",gradientColor:"Gradient"}},Su=Tq;Object.assign({},Su.Modal);let yy=[];const AO=()=>yy.reduce((t,e)=>Object.assign(Object.assign({},t),e),Su.Modal);function Rq(t){if(t){const e=Object.assign({},t);return yy.push(e),AO(),()=>{yy=yy.filter(n=>n!==e),AO()}}Object.assign({},Su.Modal)}const Pq=C.createContext(void 0),ET=Pq,Iq=(t,e)=>{const n=C.useContext(ET),r=C.useMemo(()=>{var o;const s=e||Su[t],a=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),i=C.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?Su.locale:o},[n]);return[r,i]},lS=Iq,Bq="internalMark",Oq=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;C.useEffect(()=>Rq(e==null?void 0:e.Modal),[e]);const i=C.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return C.createElement(ET.Provider,{value:i},n)},Lq=Oq,xz={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},Dq=Object.assign(Object.assign({},xz),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),ym=Dq,Xr=Math.round;function W_(t,e){const n=t.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const TO=(t,e,n)=>n===0?t:t/100;function Uh(t,e){const n=e||255;return t>n?n:t<0?0:t}class Un{constructor(e){xe(this,"isValid",!0),xe(this,"r",0),xe(this,"g",0),xe(this,"b",0),xe(this,"a",1),xe(this,"_h",void 0),xe(this,"_s",void 0),xe(this,"_l",void 0),xe(this,"_v",void 0),xe(this,"_max",void 0),xe(this,"_min",void 0),xe(this,"_brightness",void 0);function n(i){return i[0]in e&&i[1]in e&&i[2]in e}if(e)if(typeof e=="string"){let o=function(s){return i.startsWith(s)};var r=o;const i=e.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):o("rgb")?this.fromRgbString(i):o("hsl")?this.fromHslString(i):(o("hsv")||o("hsb"))&&this.fromHsvString(i)}else if(e instanceof Un)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(n("rgb"))this.r=Uh(e.r),this.g=Uh(e.g),this.b=Uh(e.b),this.a=typeof e.a=="number"?Uh(e.a,1):1;else if(n("hsl"))this.fromHsl(e);else if(n("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const n=this.toHsv();return n.h=e,this._c(n)}getLuminance(){function e(o){const s=o/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const n=e(this.r),r=e(this.g),i=e(this.b);return .2126*n+.7152*r+.0722*i}getHue(){if(typeof this._h>"u"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Xr(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s>"u"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l>"u"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v>"u"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness>"u"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:n,s:r,l:i,a:this.a})}lighten(e=10){const n=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:n,s:r,l:i,a:this.a})}mix(e,n=50){const r=this._c(e),i=n/100,o=a=>(r[a]-this[a])*i+this[a],s={r:Xr(o("r")),g:Xr(o("g")),b:Xr(o("b")),a:Xr(o("a")*100)/100};return this._c(s)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const n=this._c(e),r=this.a+n.a*(1-this.a),i=o=>Xr((this[o]*this.a+n[o]*n.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const n=(this.r||0).toString(16);e+=n.length===2?n:"0"+n;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const o=Xr(this.a*255).toString(16);e+=o.length===2?o:"0"+o}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),n=Xr(this.getSaturation()*100),r=Xr(this.getLightness()*100);return this.a!==1?`hsla(${e},${n}%,${r}%,${this.a})`:`hsl(${e},${n}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,n,r){const i=this.clone();return i[e]=Uh(n,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max>"u"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min>"u"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const n=e.replace("#","");function r(i,o){return parseInt(n[i]+n[o||i],16)}n.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=n[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=n[6]?r(6,7)/255:1)}fromHsl({h:e,s:n,l:r,a:i}){if(this._h=e%360,this._s=n,this._l=r,this.a=typeof i=="number"?i:1,n<=0){const f=Xr(r*255);this.r=f,this.g=f,this.b=f}let o=0,s=0,a=0;const l=e/60,c=(1-Math.abs(2*r-1))*n,u=c*(1-Math.abs(l%2-1));l>=0&&l<1?(o=c,s=u):l>=1&&l<2?(o=u,s=c):l>=2&&l<3?(s=c,a=u):l>=3&&l<4?(s=u,a=c):l>=4&&l<5?(o=u,a=c):l>=5&&l<6&&(o=c,a=u);const d=r-c/2;this.r=Xr((o+d)*255),this.g=Xr((s+d)*255),this.b=Xr((a+d)*255)}fromHsv({h:e,s:n,v:r,a:i}){this._h=e%360,this._s=n,this._v=r,this.a=typeof i=="number"?i:1;const o=Xr(r*255);if(this.r=o,this.g=o,this.b=o,n<=0)return;const s=e/60,a=Math.floor(s),l=s-a,c=Xr(r*(1-n)*255),u=Xr(r*(1-n*l)*255),d=Xr(r*(1-n*(1-l))*255);switch(a){case 0:this.g=d,this.b=c;break;case 1:this.r=u,this.b=c;break;case 2:this.r=c,this.b=d;break;case 3:this.r=c,this.g=u;break;case 4:this.r=d,this.g=c;break;case 5:default:this.g=c,this.b=u;break}}fromHsvString(e){const n=W_(e,TO);this.fromHsv({h:n[0],s:n[1],v:n[2],a:n[3]})}fromHslString(e){const n=W_(e,TO);this.fromHsl({h:n[0],s:n[1],l:n[2],a:n[3]})}fromRgbString(e){const n=W_(e,(r,i)=>i.includes("%")?Xr(r/100*255):r);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}}var kv=2,RO=.16,Fq=.05,Nq=.05,Uq=.15,Sz=5,_z=4,kq=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function PO(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-kv*e:Math.round(t.h)+kv*e:r=n?Math.round(t.h)+kv*e:Math.round(t.h)-kv*e,r<0?r+=360:r>=360&&(r-=360),r}function IO(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-RO*e:e===_z?r=t.s+RO:r=t.s+Fq*e,r>1&&(r=1),n&&e===Sz&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function BO(t,e,n){var r;return n?r=t.v+Nq*e:r=t.v-Uq*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function xm(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=new Un(t),i=r.toHsv(),o=Sz;o>0;o-=1){var s=new Un({h:PO(i,o,!0),s:IO(i,o,!0),v:BO(i,o,!0)});n.push(s)}n.push(r);for(var a=1;a<=_z;a+=1){var l=new Un({h:PO(i,a),s:IO(i,a),v:BO(i,a)});n.push(l)}return e.theme==="dark"?kq.map(function(c){var u=c.index,d=c.amount;return new Un(e.backgroundColor||"#141414").mix(n[u],d).toHexString()}):n.map(function(c){return c.toHexString()})}var j_={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Jw=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];Jw.primary=Jw[5];var Yw=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];Yw.primary=Yw[5];var qw=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];qw.primary=qw[5];var Qw=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];Qw.primary=Qw[5];var Zw=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];Zw.primary=Zw[5];var eE=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];eE.primary=eE[5];var tE=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];tE.primary=tE[5];var nE=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];nE.primary=nE[5];var ux=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];ux.primary=ux[5];var rE=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];rE.primary=rE[5];var iE=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];iE.primary=iE[5];var oE=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];oE.primary=oE[5];var sE=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];sE.primary=sE[5];var X_={red:Jw,volcano:Yw,orange:qw,gold:Qw,yellow:Zw,lime:eE,green:tE,cyan:nE,blue:ux,geekblue:rE,purple:iE,magenta:oE,grey:sE};function zq(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:c,colorTextBase:u}=t,d=n(l),f=n(i),m=n(o),v=n(s),x=n(a),y=r(c,u),g=t.colorLink||t.colorInfo,S=n(g),_=new Un(v[1]).mix(new Un(v[3]),50).toHexString();return Object.assign(Object.assign({},y),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBgFilledHover:_,colorErrorBgActive:v[3],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:m[1],colorWarningBgHover:m[2],colorWarningBorder:m[3],colorWarningBorderHover:m[4],colorWarningHover:m[4],colorWarning:m[6],colorWarningActive:m[7],colorWarningTextHover:m[8],colorWarningText:m[9],colorWarningTextActive:m[10],colorInfoBg:x[1],colorInfoBgHover:x[2],colorInfoBorder:x[3],colorInfoBorderHover:x[4],colorInfoHover:x[4],colorInfo:x[6],colorInfoActive:x[7],colorInfoTextHover:x[8],colorInfoText:x[9],colorInfoTextActive:x[10],colorLinkHover:S[4],colorLink:S[6],colorLinkActive:S[7],colorBgMask:new Un("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}const Hq=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},Vq=Hq;function Gq(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},Vq(r))}const $q=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},Wq=$q;function xy(t){return(t+8)/t}function jq(t){const e=Array.from({length:10}).map((n,r)=>{const i=r-1,o=t*Math.pow(Math.E,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>({size:n,lineHeight:xy(n)}))}const Xq=t=>{const e=jq(t),n=e.map(u=>u.size),r=e.map(u=>u.lineHeight),i=n[1],o=n[0],s=n[2],a=r[1],l=r[0],c=r[2];return{fontSizeSM:o,fontSize:i,fontSizeLG:s,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:a,lineHeightLG:c,lineHeightSM:l,fontHeight:Math.round(a*i),fontHeightLG:Math.round(c*s),fontHeightSM:Math.round(l*o),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},Kq=Xq;function Jq(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Uo=(t,e)=>new Un(t).setA(e).toRgbString(),kh=(t,e)=>new Un(t).darken(e).toHexString(),Yq=t=>{const e=xm(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},qq=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Uo(r,.88),colorTextSecondary:Uo(r,.65),colorTextTertiary:Uo(r,.45),colorTextQuaternary:Uo(r,.25),colorFill:Uo(r,.15),colorFillSecondary:Uo(r,.06),colorFillTertiary:Uo(r,.04),colorFillQuaternary:Uo(r,.02),colorBgSolid:Uo(r,1),colorBgSolidHover:Uo(r,.75),colorBgSolidActive:Uo(r,.95),colorBgLayout:kh(n,4),colorBgContainer:kh(n,0),colorBgElevated:kh(n,0),colorBgSpotlight:Uo(r,.85),colorBgBlur:"transparent",colorBorder:kh(n,15),colorBorderSecondary:kh(n,6)}};function Qq(t){j_.pink=j_.magenta,X_.pink=X_.magenta;const e=Object.keys(xz).map(n=>{const r=t[n]===j_[n]?X_[n]:xm(t[n]);return Array.from({length:10},()=>1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),zq(t,{generateColorPalettes:Yq,generateNeutralColorPalettes:qq})),Kq(t.fontSize)),Jq(t)),Wq(t)),Gq(t))}const Zq=$w(Qq),Cz=Zq,aE={token:ym,override:{override:ym},hashed:!0},bz=tt.createContext(aE),Sm="ant",cS="anticon",eQ=["outlined","borderless","filled","underlined"],tQ=(t,e)=>e||(t?`${Sm}-${t}`:Sm),Wn=C.createContext({getPrefixCls:tQ,iconPrefixCls:cS}),OO={};function nc(t){const e=C.useContext(Wn),{getPrefixCls:n,direction:r,getPopupContainer:i}=e,o=e[t];return Object.assign(Object.assign({classNames:OO,styles:OO},o),{getPrefixCls:n,direction:r,getPopupContainer:i})}const nQ=`-ant-${Date.now()}-${Math.random()}`;function rQ(t,e){const n={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new Un(s),c=xm(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=c[1],n[`${a}-color-hover`]=c[4],n[`${a}-color-active`]=c[6],n[`${a}-color-outline`]=l.clone().setA(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=c[0],n[`${a}-color-deprecated-border`]=c[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new Un(e.primaryColor),a=xm(s.toRgbString());a.forEach((c,u)=>{n[`primary-${u+1}`]=c}),n["primary-color-deprecated-l-35"]=r(s,c=>c.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,c=>c.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,c=>c.tint(20)),n["primary-color-deprecated-t-50"]=r(s,c=>c.tint(50)),n["primary-color-deprecated-f-12"]=r(s,c=>c.setA(c.a*.12));const l=new Un(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,c=>c.setA(c.a*.3)),n["primary-color-active-deprecated-d-02"]=r(l,c=>c.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function iQ(t,e){const n=rQ(t,e);eo()&&Oa(n,`${nQ}-dynamic-theme`)}const lE=C.createContext(!1),wz=t=>{let{children:e,disabled:n}=t;const r=C.useContext(lE);return C.createElement(lE.Provider,{value:n??r},e)},rc=lE,cE=C.createContext(void 0),oQ=t=>{let{children:e,size:n}=t;const r=C.useContext(cE);return C.createElement(cE.Provider,{value:n||r},e)},og=cE;function sQ(){const t=C.useContext(rc),e=C.useContext(og);return{componentDisabled:t,componentSize:e}}var Ez=$r(function t(){Gr(this,t)}),Mz="CALC_UNIT",aQ=new RegExp(Mz,"g");function K_(t){return typeof t=="number"?"".concat(t).concat(Mz):t}var lQ=function(t){Zl(n,t);var e=ec(n);function n(r,i){var o;Gr(this,n),o=e.call(this),xe(vn(o),"result",""),xe(vn(o),"unitlessCssVar",void 0),xe(vn(o),"lowPriority",void 0);var s=$t(r);return o.unitlessCssVar=i,r instanceof n?o.result="(".concat(r.result,")"):s==="number"?o.result=K_(r):s==="string"&&(o.result=r),o}return $r(n,[{key:"add",value:function(i){return i instanceof n?this.result="".concat(this.result," + ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," + ").concat(K_(i))),this.lowPriority=!0,this}},{key:"sub",value:function(i){return i instanceof n?this.result="".concat(this.result," - ").concat(i.getResult()):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," - ").concat(K_(i))),this.lowPriority=!0,this}},{key:"mul",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," * ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," * ").concat(i)),this.lowPriority=!1,this}},{key:"div",value:function(i){return this.lowPriority&&(this.result="(".concat(this.result,")")),i instanceof n?this.result="".concat(this.result," / ").concat(i.getResult(!0)):(typeof i=="number"||typeof i=="string")&&(this.result="".concat(this.result," / ").concat(i)),this.lowPriority=!1,this}},{key:"getResult",value:function(i){return this.lowPriority||i?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(i){var o=this,s=i||{},a=s.unit,l=!0;return typeof a=="boolean"?l=a:Array.from(this.unitlessCssVar).some(function(c){return o.result.includes(c)})&&(l=!1),this.result=this.result.replace(aQ,l?"px":""),typeof this.lowPriority<"u"?"calc(".concat(this.result,")"):this.result}}]),n}(Ez),cQ=function(t){Zl(n,t);var e=ec(n);function n(r){var i;return Gr(this,n),i=e.call(this),xe(vn(i),"result",0),r instanceof n?i.result=r.result:typeof r=="number"&&(i.result=r),i}return $r(n,[{key:"add",value:function(i){return i instanceof n?this.result+=i.result:typeof i=="number"&&(this.result+=i),this}},{key:"sub",value:function(i){return i instanceof n?this.result-=i.result:typeof i=="number"&&(this.result-=i),this}},{key:"mul",value:function(i){return i instanceof n?this.result*=i.result:typeof i=="number"&&(this.result*=i),this}},{key:"div",value:function(i){return i instanceof n?this.result/=i.result:typeof i=="number"&&(this.result/=i),this}},{key:"equal",value:function(){return this.result}}]),n}(Ez),uQ=function(e,n){var r=e==="css"?lQ:cQ;return function(i){return new r(i,n)}},LO=function(e,n){return"".concat([n,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};function lr(t){var e=C.useRef();e.current=t;var n=C.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}function Rf(t){var e=C.useRef(!1),n=C.useState(t),r=ke(n,2),i=r[0],o=r[1];C.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function J_(t){return t!==void 0}function Va(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=Rf(function(){return J_(i)?i:J_(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=ke(a,2),c=l[0],u=l[1],d=i!==void 0?i:c,f=s?s(d):d,m=lr(o),v=Rf([d]),x=ke(v,2),y=x[0],g=x[1];xO(function(){var _=y[0];c!==_&&m(c,_)},[y]),xO(function(){J_(i)||u(i)},[i]);var S=lr(function(_,w){u(_,w),g([d],w)});return[f,S]}function DO(t,e,n,r){var i=Ce({},e[t]);if(r!=null&&r.deprecatedTokens){var o=r.deprecatedTokens;o.forEach(function(a){var l=ke(a,2),c=l[0],u=l[1];if(i!=null&&i[c]||i!=null&&i[u]){var d;(d=i[u])!==null&&d!==void 0||(i[u]=i==null?void 0:i[c])}})}var s=Ce(Ce({},n),i);return Object.keys(s).forEach(function(a){s[a]===e[a]&&delete s[a]}),s}var Az=typeof CSSINJS_STATISTIC<"u",uE=!0;function or(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!Az)return Object.assign.apply(Object,[{}].concat(e));uE=!1;var r={};return e.forEach(function(i){if($t(i)==="object"){var o=Object.keys(i);o.forEach(function(s){Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:function(){return i[s]}})})}}),uE=!0,r}var FO={};function dQ(){}var fQ=function(e){var n,r=e,i=dQ;return Az&&typeof Proxy<"u"&&(n=new Set,r=new Proxy(e,{get:function(s,a){if(uE){var l;(l=n)===null||l===void 0||l.add(a)}return s[a]}}),i=function(s,a){var l;FO[s]={global:Array.from(n),component:Ce(Ce({},(l=FO[s])===null||l===void 0?void 0:l.component),a)}}),{token:r,keys:n,flush:i}};function NO(t,e,n){if(typeof n=="function"){var r;return n(or(e,(r=e[t])!==null&&r!==void 0?r:{}))}return n??{}}function hQ(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"max(".concat(r.map(function(o){return Ct(o)}).join(","),")")},min:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return"min(".concat(r.map(function(o){return Ct(o)}).join(","),")")}}}var pQ=1e3*60*10,mQ=function(){function t(){Gr(this,t),xe(this,"map",new Map),xe(this,"objectIDMap",new WeakMap),xe(this,"nextID",0),xe(this,"lastAccessBeat",new Map),xe(this,"accessBeat",0)}return $r(t,[{key:"set",value:function(n,r){this.clear();var i=this.getCompositeKey(n);this.map.set(i,r),this.lastAccessBeat.set(i,Date.now())}},{key:"get",value:function(n){var r=this.getCompositeKey(n),i=this.map.get(r);return this.lastAccessBeat.set(r,Date.now()),this.accessBeat+=1,i}},{key:"getCompositeKey",value:function(n){var r=this,i=n.map(function(o){return o&&$t(o)==="object"?"obj_".concat(r.getObjectID(o)):"".concat($t(o),"_").concat(o)});return i.join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);var r=this.nextID;return this.objectIDMap.set(n,r),this.nextID+=1,r}},{key:"clear",value:function(){var n=this;if(this.accessBeat>1e4){var r=Date.now();this.lastAccessBeat.forEach(function(i,o){r-i>pQ&&(n.map.delete(o),n.lastAccessBeat.delete(o))}),this.accessBeat=0}}}]),t}(),UO=new mQ;function gQ(t,e){return tt.useMemo(function(){var n=UO.get(e);if(n)return n;var r=t();return UO.set(e,r),r},e)}var vQ=function(){return{}};function yQ(t){var e=t.useCSP,n=e===void 0?vQ:e,r=t.useToken,i=t.usePrefix,o=t.getResetStyles,s=t.getCommonStyle,a=t.getCompUnitless;function l(f,m,v,x){var y=Array.isArray(f)?f[0]:f;function g(I){return"".concat(String(y)).concat(I.slice(0,1).toUpperCase()).concat(I.slice(1))}var S=(x==null?void 0:x.unitless)||{},_=typeof a=="function"?a(f):{},w=Ce(Ce({},_),{},xe({},g("zIndexPopup"),!0));Object.keys(S).forEach(function(I){w[g(I)]=S[I]});var A=Ce(Ce({},x),{},{unitless:w,prefixToken:g}),M=u(f,m,v,A),P=c(y,v,A);return function(I){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I,E=M(I,T),B=ke(E,2),F=B[1],L=P(T),z=ke(L,2),G=z[0],j=z[1];return[G,F,j]}}function c(f,m,v){var x=v.unitless,y=v.injectStyle,g=y===void 0?!0:y,S=v.prefixToken,_=v.ignore,w=function(P){var I=P.rootCls,T=P.cssVar,E=T===void 0?{}:T,B=r(),F=B.realToken;return gq({path:[f],prefix:E.prefix,key:E.key,unitless:x,ignore:_,token:F,scope:I},function(){var L=NO(f,F,m),z=DO(f,F,L,{deprecatedTokens:v==null?void 0:v.deprecatedTokens});return Object.keys(L).forEach(function(G){z[S(G)]=z[G],delete z[G]}),z}),null},A=function(P){var I=r(),T=I.cssVar;return[function(E){return g&&T?tt.createElement(tt.Fragment,null,tt.createElement(w,{rootCls:P,cssVar:T,component:f}),E):E},T==null?void 0:T.key]};return A}function u(f,m,v){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=Array.isArray(f)?f:[f,f],g=ke(y,1),S=g[0],_=y.join("-"),w=t.layer||{name:"antd"};return function(A){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A,P=r(),I=P.theme,T=P.realToken,E=P.hashId,B=P.token,F=P.cssVar,L=i(),z=L.rootPrefixCls,G=L.iconPrefixCls,j=n(),X=F?"css":"js",N=gQ(function(){var K=new Set;return F&&Object.keys(x.unitless||{}).forEach(function(te){K.add(hy(te,F.prefix)),K.add(hy(te,LO(S,F.prefix)))}),uQ(X,K)},[X,S,F==null?void 0:F.prefix]),W=hQ(X),V=W.max,ee=W.min,se={theme:I,token:B,hashId:E,nonce:function(){return j.nonce},clientOnly:x.clientOnly,layer:w,order:x.order||-999};typeof o=="function"&&Kw(Ce(Ce({},se),{},{clientOnly:!1,path:["Shared",z]}),function(){return o(B,{prefix:{rootPrefixCls:z,iconPrefixCls:G},csp:j})});var me=Kw(Ce(Ce({},se),{},{path:[_,A,G]}),function(){if(x.injectStyle===!1)return[];var K=fQ(B),te=K.token,ae=K.flush,de=NO(S,T,v),_e=".".concat(A),Re=DO(S,T,de,{deprecatedTokens:x.deprecatedTokens});F&&de&&$t(de)==="object"&&Object.keys(de).forEach(function(ie){de[ie]="var(".concat(hy(ie,LO(S,F.prefix)),")")});var Te=or(te,{componentCls:_e,prefixCls:A,iconCls:".".concat(G),antCls:".".concat(z),calc:N,max:V,min:ee},F?de:Re),Y=m(Te,{hashId:E,prefixCls:A,rootPrefixCls:z,iconPrefixCls:G});ae(S,Re);var Q=typeof s=="function"?s(Te,A,M,x.resetFont):null;return[x.resetStyle===!1?null:Q,Y]});return[me,E]}}function d(f,m,v){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},y=u(f,m,v,Ce({resetStyle:!1,order:-998},x)),g=function(_){var w=_.prefixCls,A=_.rootCls,M=A===void 0?w:A;return y(w,M),null};return g}return{genStyleHooks:l,genSubStyleComponent:d,genComponentStyleHook:u}}const _u=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],xQ="5.25.1";function Y_(t){return t>=0&&t<=255}function dp(t,e){const{r:n,g:r,b:i,a:o}=new Un(t).toRgb();if(o<1)return t;const{r:s,g:a,b:l}=new Un(e).toRgb();for(let c=.01;c<=1;c+=.01){const u=Math.round((n-s*(1-c))/c),d=Math.round((r-a*(1-c))/c),f=Math.round((i-l*(1-c))/c);if(Y_(u)&&Y_(d)&&Y_(f))return new Un({r:u,g:d,b:f,a:Math.round(c*100)/100}).toRgbString()}return new Un({r:n,g:r,b:i,a:1}).toRgbString()}var SQ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Tz(t){const{override:e}=t,n=SQ(t,["override"]),r=Object.assign({},e);Object.keys(ym).forEach(f=>{delete r[f]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,l=992,c=1200,u=1600;if(i.motion===!1){const f="0s";i.motionDurationFast=f,i.motionDurationMid=f,i.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:dp(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:dp(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:dp(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*3,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:dp(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:c-1,screenXL:c,screenXLMin:c,screenXLMax:u-1,screenXXL:u,screenXXLMin:u,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new Un("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new Un("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new Un("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var kO=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Rz={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},_Q={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},CQ={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},Pz=(t,e,n)=>{const r=n.getDerivativeToken(t),{override:i}=e,o=kO(e,["override"]);let s=Object.assign(Object.assign({},r),{override:i});return s=Tz(s),o&&Object.entries(o).forEach(a=>{let[l,c]=a;const{theme:u}=c,d=kO(c,["theme"]);let f=d;u&&(f=Pz(Object.assign(Object.assign({},s),d),{override:d},u)),s[l]=f}),s};function ss(){const{token:t,hashed:e,theme:n,override:r,cssVar:i}=tt.useContext(bz),o=`${xQ}-${e||""}`,s=n||Cz,[a,l,c]=VY(s,[ym,t],{salt:o,override:r,getComputedToken:Pz,formatToken:Tz,cssVar:i&&{prefix:i.prefix,key:i.key,unitless:Rz,ignore:_Q,preserve:CQ}});return[s,c,e?l:"",a,i]}const dE={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},aa=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:e?"inherit":t.fontFamily}},uS=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),bQ=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),wQ=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active, &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),EQ=(t,e,n,r)=>{const i=`[class^="${e}"], [class*=" ${e}"]`,o=n?`.${n}`:i,s={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let a={};return r!==!1&&(a={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[o]:Object.assign(Object.assign(Object.assign({},a),s),{[i]:s})}},MQ=(t,e)=>({outline:`${Ct(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:e??1,transition:"outline-offset 0s, outline 0s"}),AQ=(t,e)=>({"&:focus-visible":Object.assign({},MQ(t,e))}),Iz=t=>({[`.${t}`]:Object.assign(Object.assign({},uS()),{[`.${t} .${t}-icon`]:{display:"block"}})}),{genStyleHooks:Ao,genComponentStyleHook:TQ,genSubStyleComponent:Bz}=yQ({usePrefix:()=>{const{getPrefixCls:t,iconPrefixCls:e}=C.useContext(Wn);return{rootPrefixCls:t(),iconPrefixCls:e}},useToken:()=>{const[t,e,n,r,i]=ss();return{theme:t,realToken:e,hashId:n,token:r,cssVar:i}},useCSP:()=>{const{csp:t}=C.useContext(Wn);return t??{}},getResetStyles:(t,e)=>{var n;const r=wQ(t);return[r,{"&":r},Iz((n=e==null?void 0:e.prefix.iconPrefixCls)!==null&&n!==void 0?n:cS)]},getCommonStyle:EQ,getCompUnitless:()=>Rz});function RQ(t,e){return _u.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],s=t[`${r}6`],a=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const PQ=(t,e)=>{const[n,r]=ss();return Kw({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce,layer:{name:"antd"}},()=>[Iz(t)])},IQ=PQ,BQ=Object.assign({},Xm),{useId:zO}=BQ,OQ=()=>"",LQ=typeof zO>"u"?OQ:zO,DQ=LQ;function FQ(t,e,n){var r;aS();const i=t||{},o=i.inherit===!1||!e?Object.assign(Object.assign({},aE),{hashed:(r=e==null?void 0:e.hashed)!==null&&r!==void 0?r:aE.hashed,cssVar:e==null?void 0:e.cssVar}):e,s=DQ();return nS(()=>{var a,l;if(!t)return e;const c=Object.assign({},o.components);Object.keys(t.components||{}).forEach(f=>{c[f]=Object.assign(Object.assign({},c[f]),t.components[f])});const u=`css-var-${s.replace(/:/g,"")}`,d=((a=i.cssVar)!==null&&a!==void 0?a:o.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof o.cssVar=="object"?o.cssVar:{}),typeof i.cssVar=="object"?i.cssVar:{}),{key:typeof i.cssVar=="object"&&((l=i.cssVar)===null||l===void 0?void 0:l.key)||u});return Object.assign(Object.assign(Object.assign({},o),i),{token:Object.assign(Object.assign({},o.token),i.token),components:c,cssVar:d})},[i,o],(a,l)=>a.some((c,u)=>{const d=l[u];return!lx(c,d,!0)}))}var NQ=["children"],Oz=C.createContext({});function UQ(t){var e=t.children,n=On(t,NQ);return C.createElement(Oz.Provider,{value:n},e)}var kQ=function(t){Zl(n,t);var e=ec(n);function n(){return Gr(this,n),e.apply(this,arguments)}return $r(n,[{key:"render",value:function(){return this.props.children}}]),n}(C.Component);function zQ(t){var e=C.useReducer(function(a){return a+1},0),n=ke(e,2),r=n[1],i=C.useRef(t),o=lr(function(){return i.current}),s=lr(function(a){i.current=typeof a=="function"?a(i.current):a,r()});return[o,s]}var ml="none",zv="appear",Hv="enter",Vv="leave",HO="none",_s="prepare",Yd="start",qd="active",MT="end",Lz="prepared";function VO(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function HQ(t,e){var n={animationend:VO("Animation","AnimationEnd"),transitionend:VO("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var VQ=HQ(eo(),typeof window<"u"?window:{}),Dz={};if(eo()){var GQ=document.createElement("div");Dz=GQ.style}var Gv={};function Fz(t){if(Gv[t])return Gv[t];var e=VQ[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in Dz)return Gv[t]=e[o],Gv[t]}return""}var Nz=Fz("animationend"),Uz=Fz("transitionend"),kz=!!(Nz&&Uz),GO=Nz||"animationend",$O=Uz||"transitionend";function WO(t,e){if(!t)return null;if($t(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const $Q=function(t){var e=C.useRef();function n(i){i&&(i.removeEventListener($O,t),i.removeEventListener(GO,t))}function r(i){e.current&&e.current!==i&&n(e.current),i&&i!==e.current&&(i.addEventListener($O,t),i.addEventListener(GO,t),e.current=i)}return C.useEffect(function(){return function(){n(e.current)}},[]),[r,n]};var zz=eo()?C.useLayoutEffect:C.useEffect;const WQ=function(){var t=C.useRef(null);function e(){Gn.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=Gn(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return C.useEffect(function(){return function(){e()}},[]),[n,e]};var jQ=[_s,Yd,qd,MT],XQ=[_s,Lz],Hz=!1,KQ=!0;function Vz(t){return t===qd||t===MT}const JQ=function(t,e,n){var r=Rf(HO),i=ke(r,2),o=i[0],s=i[1],a=WQ(),l=ke(a,2),c=l[0],u=l[1];function d(){s(_s,!0)}var f=e?XQ:jQ;return zz(function(){if(o!==HO&&o!==MT){var m=f.indexOf(o),v=f[m+1],x=n(o);x===Hz?s(v,!0):v&&c(function(y){function g(){y.isCanceled()||s(v,!0)}x===!0?g():Promise.resolve(x).then(g)})}},[t,o]),C.useEffect(function(){return function(){u()}},[]),[d,o]};function YQ(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,c=l===void 0?!0:l,u=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,m=r.onEnterPrepare,v=r.onLeavePrepare,x=r.onAppearStart,y=r.onEnterStart,g=r.onLeaveStart,S=r.onAppearActive,_=r.onEnterActive,w=r.onLeaveActive,A=r.onAppearEnd,M=r.onEnterEnd,P=r.onLeaveEnd,I=r.onVisibleChanged,T=Rf(),E=ke(T,2),B=E[0],F=E[1],L=zQ(ml),z=ke(L,2),G=z[0],j=z[1],X=Rf(null),N=ke(X,2),W=N[0],V=N[1],ee=G(),se=C.useRef(!1),me=C.useRef(null);function K(){return n()}var te=C.useRef(!1);function ae(){j(ml),V(null,!0)}var de=lr(function(we){var Oe=G();if(Oe!==ml){var De=K();if(!(we&&!we.deadline&&we.target!==De)){var ge=te.current,Fe;Oe===zv&&ge?Fe=A==null?void 0:A(De,we):Oe===Hv&&ge?Fe=M==null?void 0:M(De,we):Oe===Vv&&ge&&(Fe=P==null?void 0:P(De,we)),ge&&Fe!==!1&&ae()}}}),_e=$Q(de),Re=ke(_e,1),Te=Re[0],Y=function(Oe){switch(Oe){case zv:return xe(xe(xe({},_s,f),Yd,x),qd,S);case Hv:return xe(xe(xe({},_s,m),Yd,y),qd,_);case Vv:return xe(xe(xe({},_s,v),Yd,g),qd,w);default:return{}}},Q=C.useMemo(function(){return Y(ee)},[ee]),ie=JQ(ee,!t,function(we){if(we===_s){var Oe=Q[_s];return Oe?Oe(K()):Hz}if(pe in Q){var De;V(((De=Q[pe])===null||De===void 0?void 0:De.call(Q,K(),null))||null)}return pe===qd&&ee!==ml&&(Te(K()),u>0&&(clearTimeout(me.current),me.current=setTimeout(function(){de({deadline:!0})},u))),pe===Lz&&ae(),KQ}),ye=ke(ie,2),fe=ye[0],pe=ye[1],$=Vz(pe);te.current=$;var U=C.useRef(null);zz(function(){if(!(se.current&&U.current===e)){F(e);var we=se.current;se.current=!0;var Oe;!we&&e&&a&&(Oe=zv),we&&e&&o&&(Oe=Hv),(we&&!e&&c||!we&&d&&!e&&c)&&(Oe=Vv);var De=Y(Oe);Oe&&(t||De[_s])?(j(Oe),fe()):j(ml),U.current=e}},[e]),C.useEffect(function(){(ee===zv&&!a||ee===Hv&&!o||ee===Vv&&!c)&&j(ml)},[a,o,c]),C.useEffect(function(){return function(){se.current=!1,clearTimeout(me.current)}},[]);var le=C.useRef(!1);C.useEffect(function(){B&&(le.current=!0),B!==void 0&&ee===ml&&((le.current||B)&&(I==null||I(B)),le.current=!0)},[B,ee]);var be=W;return Q[_s]&&pe===Yd&&(be=Ce({transition:"none"},be)),[ee,pe,be,B??e]}function qQ(t){var e=t;$t(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=C.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,c=l===void 0?!0:l,u=i.forceRender,d=i.children,f=i.motionName,m=i.leavedClassName,v=i.eventProps,x=C.useContext(Oz),y=x.motion,g=n(i,y),S=C.useRef(),_=C.useRef();function w(){try{return S.current instanceof HTMLElement?S.current:fy(_.current)}catch{return null}}var A=YQ(g,a,w,i),M=ke(A,4),P=M[0],I=M[1],T=M[2],E=M[3],B=C.useRef(E);E&&(B.current=!0);var F=C.useCallback(function(N){S.current=N,mT(o,N)},[o]),L,z=Ce(Ce({},v),{},{visible:a});if(!d)L=null;else if(P===ml)E?L=d(Ce({},z),F):!c&&B.current&&m?L=d(Ce(Ce({},z),{},{className:m}),F):u||!c&&!m?L=d(Ce(Ce({},z),{},{style:{display:"none"}}),F):L=null;else{var G;I===_s?G="prepare":Vz(I)?G="active":I===Yd&&(G="start");var j=WO(f,"".concat(P,"-").concat(G));L=d(Ce(Ce({},z),{},{className:nt(WO(f,P),xe(xe({},j,j&&G),f,typeof f=="string")),style:T}),F)}if(C.isValidElement(L)&&Yf(L)){var X=rg(L);X||(L=C.cloneElement(L,{ref:F}))}return C.createElement(kQ,{ref:_},L)});return r.displayName="CSSMotion",r}const Qf=qQ(kz);var fE="add",hE="keep",pE="remove",q_="removed";function QQ(t){var e;return t&&$t(t)==="object"&&"key"in t?e=t:e={key:t},Ce(Ce({},e),{},{key:String(e.key)})}function mE(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(QQ)}function ZQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=mE(t),s=mE(e);o.forEach(function(c){for(var u=!1,d=r;d<i;d+=1){var f=s[d];if(f.key===c.key){r<d&&(n=n.concat(s.slice(r,d).map(function(m){return Ce(Ce({},m),{},{status:fE})})),r=d),n.push(Ce(Ce({},f),{},{status:hE})),r+=1,u=!0;break}}u||n.push(Ce(Ce({},c),{},{status:pE}))}),r<i&&(n=n.concat(s.slice(r).map(function(c){return Ce(Ce({},c),{},{status:fE})})));var a={};n.forEach(function(c){var u=c.key;a[u]=(a[u]||0)+1});var l=Object.keys(a).filter(function(c){return a[c]>1});return l.forEach(function(c){n=n.filter(function(u){var d=u.key,f=u.status;return d!==c||f!==pE}),n.forEach(function(u){u.key===c&&(u.status=hE)})}),n}var eZ=["component","children","onVisibleChanged","onAllRemoved"],tZ=["status"],nZ=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function rZ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qf,n=function(r){Zl(o,r);var i=ec(o);function o(){var s;Gr(this,o);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return s=i.call.apply(i,[this].concat(l)),xe(vn(s),"state",{keyEntities:[]}),xe(vn(s),"removeKey",function(u){s.setState(function(d){var f=d.keyEntities.map(function(m){return m.key!==u?m:Ce(Ce({},m),{},{status:q_})});return{keyEntities:f}},function(){var d=s.state.keyEntities,f=d.filter(function(m){var v=m.status;return v!==q_}).length;f===0&&s.props.onAllRemoved&&s.props.onAllRemoved()})}),s}return $r(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,c=this.props,u=c.component,d=c.children,f=c.onVisibleChanged;c.onAllRemoved;var m=On(c,eZ),v=u||C.Fragment,x={};return nZ.forEach(function(y){x[y]=m[y],delete m[y]}),delete m.keys,C.createElement(v,m,l.map(function(y,g){var S=y.status,_=On(y,tZ),w=S===fE||S===hE;return C.createElement(e,Xt({},x,{key:_.key,visible:w,eventProps:_,onVisibleChanged:function(M){f==null||f(M,{key:_.key}),M||a.removeKey(_.key)}}),function(A,M){return d(Ce(Ce({},A),{},{index:g}),M)})}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var c=a.keys,u=l.keyEntities,d=mE(c),f=ZQ(u,d);return{keyEntities:f.filter(function(m){var v=u.find(function(x){var y=x.key;return m.key===y});return!(v&&v.status===q_&&m.status===pE)})}}}]),o}(C.Component);return xe(n,"defaultProps",{component:"div"}),n}const Gz=rZ(kz);function iZ(t){const{children:e}=t,[,n]=ss(),{motion:r}=n,i=C.useRef(!1);return i.current=i.current||r===!1,i.current?C.createElement(UQ,{motion:r},e):e}const oZ=()=>null;var sZ=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const aZ=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"];let dx,$z,Wz,jz;function Sy(){return dx||Sm}function lZ(){return $z||cS}function cZ(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const uZ=t=>{const{prefixCls:e,iconPrefixCls:n,theme:r,holderRender:i}=t;e!==void 0&&(dx=e),n!==void 0&&($z=n),"holderRender"in t&&(jz=i),r&&(cZ(r)?iQ(Sy(),r):Wz=r)},dZ=()=>({getPrefixCls:(t,e)=>e||(t?`${Sy()}-${t}`:Sy()),getIconPrefixCls:lZ,getRootPrefixCls:()=>dx||Sy(),getTheme:()=>Wz,holderRender:jz}),fZ=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,alert:i,anchor:o,form:s,locale:a,componentSize:l,direction:c,space:u,splitter:d,virtual:f,dropdownMatchSelectWidth:m,popupMatchSelectWidth:v,popupOverflow:x,legacyLocale:y,parentContext:g,iconPrefixCls:S,theme:_,componentDisabled:w,segmented:A,statistic:M,spin:P,calendar:I,carousel:T,cascader:E,collapse:B,typography:F,checkbox:L,descriptions:z,divider:G,drawer:j,skeleton:X,steps:N,image:W,layout:V,list:ee,mentions:se,modal:me,progress:K,result:te,slider:ae,breadcrumb:de,menu:_e,pagination:Re,input:Te,textArea:Y,empty:Q,badge:ie,radio:ye,rate:fe,switch:pe,transfer:$,avatar:U,message:le,tag:be,table:we,card:Oe,tabs:De,timeline:ge,timePicker:Fe,upload:Xe,notification:Ne,tree:He,colorPicker:Ye,datePicker:Ke,rangePicker:We,flex:ot,wave:je,dropdown:Ze,warning:ft,tour:he,tooltip:Ee,popover:Z,popconfirm:ze,floatButtonGroup:Pe,variant:ct,inputNumber:at,treeSelect:Ft}=t,Dt=C.useCallback((vt,dt)=>{const{prefixCls:pn}=t;if(dt)return dt;const fn=pn||g.getPrefixCls("");return vt?`${fn}-${vt}`:fn},[g.getPrefixCls,t.prefixCls]),Lt=S||g.iconPrefixCls||cS,Pt=n||g.csp;IQ(Lt,Pt);const st=FQ(_,g.theme,{prefixCls:Dt("")}),ut={csp:Pt,autoInsertSpaceInButton:r,alert:i,anchor:o,locale:a||y,direction:c,space:u,splitter:d,virtual:f,popupMatchSelectWidth:v??m,popupOverflow:x,getPrefixCls:Dt,iconPrefixCls:Lt,theme:st,segmented:A,statistic:M,spin:P,calendar:I,carousel:T,cascader:E,collapse:B,typography:F,checkbox:L,descriptions:z,divider:G,drawer:j,skeleton:X,steps:N,image:W,input:Te,textArea:Y,layout:V,list:ee,mentions:se,modal:me,progress:K,result:te,slider:ae,breadcrumb:de,menu:_e,pagination:Re,empty:Q,badge:ie,radio:ye,rate:fe,switch:pe,transfer:$,avatar:U,message:le,tag:be,table:we,card:Oe,tabs:De,timeline:ge,timePicker:Fe,upload:Xe,notification:Ne,tree:He,colorPicker:Ye,datePicker:Ke,rangePicker:We,flex:ot,wave:je,dropdown:Ze,warning:ft,tour:he,tooltip:Ee,popover:Z,popconfirm:ze,floatButtonGroup:Pe,variant:ct,inputNumber:at,treeSelect:Ft},lt=Object.assign({},g);Object.keys(ut).forEach(vt=>{ut[vt]!==void 0&&(lt[vt]=ut[vt])}),aZ.forEach(vt=>{const dt=t[vt];dt&&(lt[vt]=dt)}),typeof r<"u"&&(lt.button=Object.assign({autoInsertSpace:r},lt.button));const Gt=nS(()=>lt,lt,(vt,dt)=>{const pn=Object.keys(vt),fn=Object.keys(dt);return pn.length!==fn.length||pn.some(H=>vt[H]!==dt[H])}),{layer:yn}=C.useContext(ig),bt=C.useMemo(()=>({prefixCls:Lt,csp:Pt,layer:yn?"antd":void 0}),[Lt,Pt,yn]);let ht=C.createElement(C.Fragment,null,C.createElement(oZ,{dropdownMatchSelectWidth:m}),e);const Mt=C.useMemo(()=>{var vt,dt,pn,fn;return Jd(((vt=Su.Form)===null||vt===void 0?void 0:vt.defaultValidateMessages)||{},((pn=(dt=Gt.locale)===null||dt===void 0?void 0:dt.Form)===null||pn===void 0?void 0:pn.defaultValidateMessages)||{},((fn=Gt.form)===null||fn===void 0?void 0:fn.validateMessages)||{},(s==null?void 0:s.validateMessages)||{})},[Gt,s==null?void 0:s.validateMessages]);Object.keys(Mt).length>0&&(ht=C.createElement(vz.Provider,{value:Mt},ht)),a&&(ht=C.createElement(Lq,{locale:a,_ANT_MARK__:Bq},ht)),(Lt||Pt)&&(ht=C.createElement(wT.Provider,{value:bt},ht)),l&&(ht=C.createElement(oQ,{size:l},ht)),ht=C.createElement(iZ,null,ht);const wt=C.useMemo(()=>{const vt=st||{},{algorithm:dt,token:pn,components:fn,cssVar:H}=vt,J=sZ(vt,["algorithm","token","components","cssVar"]),D=dt&&(!Array.isArray(dt)||dt.length>0)?$w(dt):Cz,q={};Object.entries(fn||{}).forEach(oe=>{let[ue,Ie]=oe;const ve=Object.assign({},Ie);"algorithm"in ve&&(ve.algorithm===!0?ve.theme=D:(Array.isArray(ve.algorithm)||typeof ve.algorithm=="function")&&(ve.theme=$w(ve.algorithm)),delete ve.algorithm),q[ue]=ve});const ne=Object.assign(Object.assign({},ym),pn);return Object.assign(Object.assign({},J),{theme:D,token:ne,components:q,override:Object.assign({override:ne},q),cssVar:H})},[st]);return _&&(ht=C.createElement(bz.Provider,{value:wt},ht)),Gt.warning&&(ht=C.createElement(Cq.Provider,{value:Gt.warning},ht)),w!==void 0&&(ht=C.createElement(wz,{disabled:w},ht)),C.createElement(Wn.Provider,{value:Gt},ht)},Zf=t=>{const e=C.useContext(Wn),n=C.useContext(ET);return C.createElement(fZ,Object.assign({parentContext:e,legacyLocale:n},t))};Zf.ConfigContext=Wn;Zf.SizeContext=og;Zf.config=uZ;Zf.useConfig=sQ;Object.defineProperty(Zf,"SizeContext",{get:()=>og});const AT=Zf;var hZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const pZ=hZ;function Xz(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function mZ(t){return Xz(t)instanceof ShadowRoot}function fx(t){return mZ(t)?Xz(t):null}function gZ(t){return t.replace(/-(.)/g,function(e,n){return n.toUpperCase()})}function vZ(t,e){wi(t,"[@ant-design/icons] ".concat(e))}function jO(t){return $t(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&($t(t.icon)==="object"||typeof t.icon=="function")}function XO(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:delete e[n],e[gZ(n)]=r}return e},{})}function gE(t,e,n){return n?tt.createElement(t.tag,Ce(Ce({key:e},XO(t.attrs)),n),(t.children||[]).map(function(r,i){return gE(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):tt.createElement(t.tag,Ce({key:e},XO(t.attrs)),(t.children||[]).map(function(r,i){return gE(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function Kz(t){return xm(t)[0]}function Jz(t){return t?Array.isArray(t)?t:[t]:[]}var yZ=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,xZ=function(e){var n=C.useContext(wT),r=n.csp,i=n.prefixCls,o=n.layer,s=yZ;i&&(s=s.replace(/anticon/g,i)),o&&(s="@layer ".concat(o,` {
`).concat(s,`
}`)),C.useEffect(function(){var a=e.current,l=fx(a);Oa(s,"@ant-design-icons",{prepend:!o,csp:r,attachTo:l})},[])},SZ=["icon","className","onClick","style","primaryColor","secondaryColor"],Ip={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function _Z(t){var e=t.primaryColor,n=t.secondaryColor;Ip.primaryColor=e,Ip.secondaryColor=n||Kz(e),Ip.calculated=!!n}function CZ(){return Ce({},Ip)}var dS=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=On(e,SZ),c=C.useRef(),u=Ip;if(s&&(u={primaryColor:s,secondaryColor:a||Kz(s)}),xZ(c),vZ(jO(n),"icon should be icon definiton, but got ".concat(n)),!jO(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=Ce(Ce({},d),{},{icon:d.icon(u.primaryColor,u.secondaryColor)})),gE(d.icon,"svg-".concat(d.name),Ce(Ce({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};dS.displayName="IconReact";dS.getTwoToneColors=CZ;dS.setTwoToneColors=_Z;const TT=dS;function Yz(t){var e=Jz(t),n=ke(e,2),r=n[0],i=n[1];return TT.setTwoToneColors({primaryColor:r,secondaryColor:i})}function bZ(){var t=TT.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var wZ=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Yz(ux.primary);var fS=C.forwardRef(function(t,e){var n=t.className,r=t.icon,i=t.spin,o=t.rotate,s=t.tabIndex,a=t.onClick,l=t.twoToneColor,c=On(t,wZ),u=C.useContext(wT),d=u.prefixCls,f=d===void 0?"anticon":d,m=u.rootClassName,v=nt(m,f,xe(xe({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!i||r.name==="loading"),n),x=s;x===void 0&&a&&(x=-1);var y=o?{msTransform:"rotate(".concat(o,"deg)"),transform:"rotate(".concat(o,"deg)")}:void 0,g=Jz(l),S=ke(g,2),_=S[0],w=S[1];return C.createElement("span",Xt({role:"img","aria-label":r.name},c,{ref:e,tabIndex:x,onClick:a,className:v}),C.createElement(TT,{icon:r,primaryColor:_,secondaryColor:w,style:y}))});fS.displayName="AntdIcon";fS.getTwoToneColor=bZ;fS.setTwoToneColor=Yz;const as=fS;var EZ=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:pZ}))},MZ=C.forwardRef(EZ);const qz=MZ;var AZ={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const TZ=AZ;var RZ=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:TZ}))},PZ=C.forwardRef(RZ);const hS=PZ;var IZ={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const BZ=IZ;var OZ=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:BZ}))},LZ=C.forwardRef(OZ);const Qz=LZ;var DZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const FZ=DZ;var NZ=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:FZ}))},UZ=C.forwardRef(NZ);const Zz=UZ;var kZ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const zZ=kZ;var HZ=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:zZ}))},VZ=C.forwardRef(HZ);const GZ=VZ;var $Z=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,WZ=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,jZ="".concat($Z," ").concat(WZ).split(/[\s\n]+/),XZ="aria-",KZ="data-";function KO(t,e){return t.indexOf(e)===0}function Pf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=Ce({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||KO(i,XZ))||n.data&&KO(i,KZ)||n.attr&&jZ.includes(i))&&(r[i]=t[i])}),r}function eH(t){return t&&tt.isValidElement(t)&&t.type===tt.Fragment}const JZ=(t,e,n)=>tt.isValidElement(t)?tt.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e;function If(t,e){return JZ(t,t,e)}const JO=t=>typeof t=="object"&&t!=null&&t.nodeType===1,YO=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",$v=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const n=getComputedStyle(t,null);return YO(n.overflowY,e)||YO(n.overflowX,e)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(t)}return!1},Wv=(t,e,n,r,i,o,s,a)=>o<t&&s>e||o>t&&s<e?0:o<=t&&a<=n||s>=e&&a>=n?o-t-r:s>e&&a<n||o<t&&a>n?s-e+i:0,YZ=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},qO=(t,e)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:c,skipOverflowHiddenElements:u}=e,d=typeof c=="function"?c:j=>j!==c;if(!JO(t))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,m=[];let v=t;for(;JO(v)&&d(v);){if(v=YZ(v),v===f){m.push(v);break}v!=null&&v===document.body&&$v(v)&&!$v(document.documentElement)||v!=null&&$v(v,u)&&m.push(v)}const x=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,y=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:g,scrollY:S}=window,{height:_,width:w,top:A,right:M,bottom:P,left:I}=t.getBoundingClientRect(),{top:T,right:E,bottom:B,left:F}=(j=>{const X=window.getComputedStyle(j);return{top:parseFloat(X.scrollMarginTop)||0,right:parseFloat(X.scrollMarginRight)||0,bottom:parseFloat(X.scrollMarginBottom)||0,left:parseFloat(X.scrollMarginLeft)||0}})(t);let L=a==="start"||a==="nearest"?A-T:a==="end"?P+B:A+_/2-T+B,z=l==="center"?I+w/2-F+E:l==="end"?M+E:I-F;const G=[];for(let j=0;j<m.length;j++){const X=m[j],{height:N,width:W,top:V,right:ee,bottom:se,left:me}=X.getBoundingClientRect();if(s==="if-needed"&&A>=0&&I>=0&&P<=y&&M<=x&&(X===f&&!$v(X)||A>=V&&P<=se&&I>=me&&M<=ee))return G;const K=getComputedStyle(X),te=parseInt(K.borderLeftWidth,10),ae=parseInt(K.borderTopWidth,10),de=parseInt(K.borderRightWidth,10),_e=parseInt(K.borderBottomWidth,10);let Re=0,Te=0;const Y="offsetWidth"in X?X.offsetWidth-X.clientWidth-te-de:0,Q="offsetHeight"in X?X.offsetHeight-X.clientHeight-ae-_e:0,ie="offsetWidth"in X?X.offsetWidth===0?0:W/X.offsetWidth:0,ye="offsetHeight"in X?X.offsetHeight===0?0:N/X.offsetHeight:0;if(f===X)Re=a==="start"?L:a==="end"?L-y:a==="nearest"?Wv(S,S+y,y,ae,_e,S+L,S+L+_,_):L-y/2,Te=l==="start"?z:l==="center"?z-x/2:l==="end"?z-x:Wv(g,g+x,x,te,de,g+z,g+z+w,w),Re=Math.max(0,Re+S),Te=Math.max(0,Te+g);else{Re=a==="start"?L-V-ae:a==="end"?L-se+_e+Q:a==="nearest"?Wv(V,se,N,ae,_e+Q,L,L+_,_):L-(V+N/2)+Q/2,Te=l==="start"?z-me-te:l==="center"?z-(me+W/2)+Y/2:l==="end"?z-ee+de+Y:Wv(me,ee,W,te,de+Y,z,z+w,w);const{scrollLeft:fe,scrollTop:pe}=X;Re=ye===0?0:Math.max(0,Math.min(pe+Re/ye,X.scrollHeight-N/ye+Q)),Te=ie===0?0:Math.max(0,Math.min(fe+Te/ie,X.scrollWidth-W/ie+Y)),L+=pe-Re,z+=fe-Te}G.push({el:X,top:Re,left:Te})}return G},qZ=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function QZ(t,e){if(!t.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(t))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(t);if((i=>typeof i=="object"&&typeof i.behavior=="function")(e))return e.behavior(qO(t,e));const r=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:i,top:o,left:s}of qO(t,qZ(e))){const a=o-n.top+n.bottom,l=s-n.left+n.right;i.scroll({top:a,left:l,behavior:r})}}const ZZ=t=>{const[,,,,e]=ss();return e?`${t}-css-var`:""},ic=ZZ;var rt={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=rt.F1&&n<=rt.F12)return!1;switch(n){case rt.ALT:case rt.CAPS_LOCK:case rt.CONTEXT_MENU:case rt.CTRL:case rt.DOWN:case rt.END:case rt.ESC:case rt.HOME:case rt.INSERT:case rt.LEFT:case rt.MAC_FF_META:case rt.META:case rt.NUMLOCK:case rt.NUM_CENTER:case rt.PAGE_DOWN:case rt.PAGE_UP:case rt.PAUSE:case rt.PRINT_SCREEN:case rt.RIGHT:case rt.SHIFT:case rt.UP:case rt.WIN_KEY:case rt.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=rt.ZERO&&e<=rt.NINE||e>=rt.NUM_ZERO&&e<=rt.NUM_MULTIPLY||e>=rt.A&&e<=rt.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case rt.SPACE:case rt.QUESTION_MARK:case rt.NUM_PLUS:case rt.NUM_MINUS:case rt.NUM_PERIOD:case rt.NUM_DIVISION:case rt.SEMICOLON:case rt.DASH:case rt.EQUALS:case rt.COMMA:case rt.PERIOD:case rt.SLASH:case rt.APOSTROPHE:case rt.SINGLE_QUOTE:case rt.OPEN_SQUARE_BRACKET:case rt.BACKSLASH:case rt.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},tH=C.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.className,o=t.duration,s=o===void 0?4.5:o,a=t.showProgress,l=t.pauseOnHover,c=l===void 0?!0:l,u=t.eventKey,d=t.content,f=t.closable,m=t.closeIcon,v=m===void 0?"x":m,x=t.props,y=t.onClick,g=t.onNoticeClose,S=t.times,_=t.hovering,w=C.useState(!1),A=ke(w,2),M=A[0],P=A[1],I=C.useState(0),T=ke(I,2),E=T[0],B=T[1],F=C.useState(0),L=ke(F,2),z=L[0],G=L[1],j=_||M,X=s>0&&a,N=function(){g(u)},W=function(te){(te.key==="Enter"||te.code==="Enter"||te.keyCode===rt.ENTER)&&N()};C.useEffect(function(){if(!j&&s>0){var K=Date.now()-z,te=setTimeout(function(){N()},s*1e3-z);return function(){c&&clearTimeout(te),G(Date.now()-K)}}},[s,j,S]),C.useEffect(function(){if(!j&&X&&(c||z===0)){var K=performance.now(),te,ae=function de(){cancelAnimationFrame(te),te=requestAnimationFrame(function(_e){var Re=_e+z-K,Te=Math.min(Re/(s*1e3),1);B(Te*100),Te<1&&de()})};return ae(),function(){c&&cancelAnimationFrame(te)}}},[s,z,j,X,S]);var V=C.useMemo(function(){return $t(f)==="object"&&f!==null?f:f?{closeIcon:v}:{}},[f,v]),ee=Pf(V,!0),se=100-(!E||E<0?0:E>100?100:E),me="".concat(n,"-notice");return C.createElement("div",Xt({},x,{ref:e,className:nt(me,i,xe({},"".concat(me,"-closable"),f)),style:r,onMouseEnter:function(te){var ae;P(!0),x==null||(ae=x.onMouseEnter)===null||ae===void 0||ae.call(x,te)},onMouseLeave:function(te){var ae;P(!1),x==null||(ae=x.onMouseLeave)===null||ae===void 0||ae.call(x,te)},onClick:y}),C.createElement("div",{className:"".concat(me,"-content")},d),f&&C.createElement("a",Xt({tabIndex:0,className:"".concat(me,"-close"),onKeyDown:W,"aria-label":"Close"},ee,{onClick:function(te){te.preventDefault(),te.stopPropagation(),N()}}),V.closeIcon),X&&C.createElement("progress",{className:"".concat(me,"-progress"),max:"100",value:se},se+"%"))}),nH=tt.createContext({}),eee=function(e){var n=e.children,r=e.classNames;return tt.createElement(nH.Provider,{value:{classNames:r}},n)},QO=8,ZO=3,eL=16,tee=function(e){var n={offset:QO,threshold:ZO,gap:eL};if(e&&$t(e)==="object"){var r,i,o;n.offset=(r=e.offset)!==null&&r!==void 0?r:QO,n.threshold=(i=e.threshold)!==null&&i!==void 0?i:ZO,n.gap=(o=e.gap)!==null&&o!==void 0?o:eL}return[!!e,n]},nee=["className","style","classNames","styles"],ree=function(e){var n=e.configList,r=e.placement,i=e.prefixCls,o=e.className,s=e.style,a=e.motion,l=e.onAllNoticeRemoved,c=e.onNoticeClose,u=e.stack,d=C.useContext(nH),f=d.classNames,m=C.useRef({}),v=C.useState(null),x=ke(v,2),y=x[0],g=x[1],S=C.useState([]),_=ke(S,2),w=_[0],A=_[1],M=n.map(function(j){return{config:j,key:String(j.key)}}),P=tee(u),I=ke(P,2),T=I[0],E=I[1],B=E.offset,F=E.threshold,L=E.gap,z=T&&(w.length>0||M.length<=F),G=typeof a=="function"?a(r):a;return C.useEffect(function(){T&&w.length>1&&A(function(j){return j.filter(function(X){return M.some(function(N){var W=N.key;return X===W})})})},[w,M,T]),C.useEffect(function(){var j;if(T&&m.current[(j=M[M.length-1])===null||j===void 0?void 0:j.key]){var X;g(m.current[(X=M[M.length-1])===null||X===void 0?void 0:X.key])}},[M,T]),tt.createElement(Gz,Xt({key:r,className:nt(i,"".concat(i,"-").concat(r),f==null?void 0:f.list,o,xe(xe({},"".concat(i,"-stack"),!!T),"".concat(i,"-stack-expanded"),z)),style:s,keys:M,motionAppear:!0},G,{onAllRemoved:function(){l(r)}}),function(j,X){var N=j.config,W=j.className,V=j.style,ee=j.index,se=N,me=se.key,K=se.times,te=String(me),ae=N,de=ae.className,_e=ae.style,Re=ae.classNames,Te=ae.styles,Y=On(ae,nee),Q=M.findIndex(function(ge){return ge.key===te}),ie={};if(T){var ye=M.length-1-(Q>-1?Q:ee-1),fe=r==="top"||r==="bottom"?"-50%":"0";if(ye>0){var pe,$,U;ie.height=z?(pe=m.current[te])===null||pe===void 0?void 0:pe.offsetHeight:y==null?void 0:y.offsetHeight;for(var le=0,be=0;be<ye;be++){var we;le+=((we=m.current[M[M.length-1-be].key])===null||we===void 0?void 0:we.offsetHeight)+L}var Oe=(z?le:ye*B)*(r.startsWith("top")?1:-1),De=!z&&y!==null&&y!==void 0&&y.offsetWidth&&($=m.current[te])!==null&&$!==void 0&&$.offsetWidth?((y==null?void 0:y.offsetWidth)-B*2*(ye<3?ye:3))/((U=m.current[te])===null||U===void 0?void 0:U.offsetWidth):1;ie.transform="translate3d(".concat(fe,", ").concat(Oe,"px, 0) scaleX(").concat(De,")")}else ie.transform="translate3d(".concat(fe,", 0, 0)")}return tt.createElement("div",{ref:X,className:nt("".concat(i,"-notice-wrapper"),W,Re==null?void 0:Re.wrapper),style:Ce(Ce(Ce({},V),ie),Te==null?void 0:Te.wrapper),onMouseEnter:function(){return A(function(Fe){return Fe.includes(te)?Fe:[].concat(pt(Fe),[te])})},onMouseLeave:function(){return A(function(Fe){return Fe.filter(function(Xe){return Xe!==te})})}},tt.createElement(tH,Xt({},Y,{ref:function(Fe){Q>-1?m.current[te]=Fe:delete m.current[te]},prefixCls:i,classNames:Re,styles:Te,className:nt(de,f==null?void 0:f.notice),style:_e,times:K,key:me,eventKey:me,onNoticeClose:c,hovering:T&&w.length>0})))})},iee=C.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-notification":n,i=t.container,o=t.motion,s=t.maxCount,a=t.className,l=t.style,c=t.onAllRemoved,u=t.stack,d=t.renderNotifications,f=C.useState([]),m=ke(f,2),v=m[0],x=m[1],y=function(T){var E,B=v.find(function(F){return F.key===T});B==null||(E=B.onClose)===null||E===void 0||E.call(B),x(function(F){return F.filter(function(L){return L.key!==T})})};C.useImperativeHandle(e,function(){return{open:function(T){x(function(E){var B=pt(E),F=B.findIndex(function(G){return G.key===T.key}),L=Ce({},T);if(F>=0){var z;L.times=(((z=E[F])===null||z===void 0?void 0:z.times)||0)+1,B[F]=L}else L.times=0,B.push(L);return s>0&&B.length>s&&(B=B.slice(-s)),B})},close:function(T){y(T)},destroy:function(){x([])}}});var g=C.useState({}),S=ke(g,2),_=S[0],w=S[1];C.useEffect(function(){var I={};v.forEach(function(T){var E=T.placement,B=E===void 0?"topRight":E;B&&(I[B]=I[B]||[],I[B].push(T))}),Object.keys(_).forEach(function(T){I[T]=I[T]||[]}),w(I)},[v]);var A=function(T){w(function(E){var B=Ce({},E),F=B[T]||[];return F.length||delete B[T],B})},M=C.useRef(!1);if(C.useEffect(function(){Object.keys(_).length>0?M.current=!0:M.current&&(c==null||c(),M.current=!1)},[_]),!i)return null;var P=Object.keys(_);return ka.createPortal(C.createElement(C.Fragment,null,P.map(function(I){var T=_[I],E=C.createElement(ree,{key:I,configList:T,placement:I,prefixCls:r,className:a==null?void 0:a(I),style:l==null?void 0:l(I),motion:o,onNoticeClose:y,onAllNoticeRemoved:A,stack:u});return d?d(E,{prefixCls:r,key:I}):E})),i)}),oee=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],see=function(){return document.body},tL=0;function aee(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(o){var s=i[o];s!==void 0&&(t[o]=s)})}),t}function lee(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.getContainer,n=e===void 0?see:e,r=t.motion,i=t.prefixCls,o=t.maxCount,s=t.className,a=t.style,l=t.onAllRemoved,c=t.stack,u=t.renderNotifications,d=On(t,oee),f=C.useState(),m=ke(f,2),v=m[0],x=m[1],y=C.useRef(),g=C.createElement(iee,{container:v,ref:y,prefixCls:i,motion:r,maxCount:o,className:s,style:a,onAllRemoved:l,stack:c,renderNotifications:u}),S=C.useState([]),_=ke(S,2),w=_[0],A=_[1],M=lr(function(I){var T=aee(d,I);(T.key===null||T.key===void 0)&&(T.key="rc-notification-".concat(tL),tL+=1),A(function(E){return[].concat(pt(E),[{type:"open",config:T}])})}),P=C.useMemo(function(){return{open:M,close:function(T){A(function(E){return[].concat(pt(E),[{type:"close",key:T}])})},destroy:function(){A(function(T){return[].concat(pt(T),[{type:"destroy"}])})}}},[]);return C.useEffect(function(){x(n())}),C.useEffect(function(){if(y.current&&w.length){w.forEach(function(E){switch(E.type){case"open":y.current.open(E.config);break;case"close":y.current.close(E.key);break;case"destroy":y.current.destroy();break}});var I,T;A(function(E){return(I!==E||!T)&&(I=E,T=E.filter(function(B){return!w.includes(B)})),T})}},[w]),[P,g]}var cee={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const uee=cee;var dee=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:uee}))},fee=C.forwardRef(dee);const pS=fee,hee=tt.createContext(void 0),rH=hee,gl=100,pee=10,mee=gl*pee,iH={Modal:gl,Drawer:gl,Popover:gl,Popconfirm:gl,Tooltip:gl,Tour:gl,FloatButton:gl},gee={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};function vee(t){return t in iH}const oH=(t,e)=>{const[,n]=ss(),r=tt.useContext(rH),i=vee(t);let o;if(e!==void 0)o=[e,e];else{let s=r??0;i?s+=(r?0:n.zIndexPopupBase)+iH[t]:s+=gee[t],o=[r===void 0?e:s,s]}return o},yee=t=>{const{componentCls:e,iconCls:n,boxShadow:r,colorText:i,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:u,motionDurationSlow:d,marginXS:f,paddingXS:m,borderRadiusLG:v,zIndexPopup:x,contentPadding:y,contentBg:g}=t,S=`${e}-notice`,_=new Ln("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:m,transform:"translateY(0)",opacity:1}}),w=new Ln("MessageMoveOut",{"0%":{maxHeight:t.height,padding:m,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),A={padding:m,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:f,fontSize:c},[`${S}-content`]:{display:"inline-block",padding:y,background:g,borderRadius:v,boxShadow:r,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:o},[`${e}-error > ${n}`]:{color:s},[`${e}-warning > ${n}`]:{color:a},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:l}};return[{[e]:Object.assign(Object.assign({},aa(t)),{color:i,position:"fixed",top:f,width:"100%",pointerEvents:"none",zIndex:x,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:_,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:w,animationDuration:d,animationPlayState:"paused",animationTimingFunction:u},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[e]:{[`${S}-wrapper`]:Object.assign({},A)}},{[`${e}-notice-pure-panel`]:Object.assign(Object.assign({},A),{padding:0,textAlign:"start"})}]},xee=t=>({zIndexPopup:t.zIndexPopupBase+mee+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),sH=Ao("Message",t=>{const e=or(t,{height:150});return[yee(e)]},xee);var See=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _ee={info:C.createElement(GZ,null),success:C.createElement(qz,null),error:C.createElement(hS,null),warning:C.createElement(Zz,null),loading:C.createElement(pS,null)},aH=t=>{let{prefixCls:e,type:n,icon:r,children:i}=t;return C.createElement("div",{className:nt(`${e}-custom-content`,`${e}-${n}`)},r||_ee[n],C.createElement("span",null,i))},Cee=t=>{const{prefixCls:e,className:n,type:r,icon:i,content:o}=t,s=See(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:a}=C.useContext(Wn),l=e||a("message"),c=ic(l),[u,d,f]=sH(l,c);return u(C.createElement(tH,Object.assign({},s,{prefixCls:l,className:nt(n,d,`${l}-notice-pure-panel`,f,c),eventKey:"pure",duration:null,content:C.createElement(aH,{prefixCls:l,type:r,icon:i},o)})))},bee=Cee;function wee(t,e){return{motionName:e??`${t}-move-up`}}function RT(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e==null||e()};return r.then=(i,o)=>n.then(i,o),r.promise=n,r}var Eee=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Mee=8,Aee=3,Tee=t=>{let{children:e,prefixCls:n}=t;const r=ic(n),[i,o,s]=sH(n,r);return i(C.createElement(eee,{classNames:{list:nt(o,s,r)}},e))},Ree=(t,e)=>{let{prefixCls:n,key:r}=e;return C.createElement(Tee,{prefixCls:n,key:r},t)},Pee=C.forwardRef((t,e)=>{const{top:n,prefixCls:r,getContainer:i,maxCount:o,duration:s=Aee,rtl:a,transitionName:l,onAllRemoved:c}=t,{getPrefixCls:u,getPopupContainer:d,message:f,direction:m}=C.useContext(Wn),v=r||u("message"),x=()=>({left:"50%",transform:"translateX(-50%)",top:n??Mee}),y=()=>nt({[`${v}-rtl`]:a??m==="rtl"}),g=()=>wee(v,l),S=C.createElement("span",{className:`${v}-close-x`},C.createElement(Qz,{className:`${v}-close-icon`})),[_,w]=lee({prefixCls:v,style:x,className:y,motion:g,closable:!1,closeIcon:S,duration:s,getContainer:()=>(i==null?void 0:i())||(d==null?void 0:d())||document.body,maxCount:o,onAllRemoved:c,renderNotifications:Ree});return C.useImperativeHandle(e,()=>Object.assign(Object.assign({},_),{prefixCls:v,message:f})),w});let nL=0;function lH(t){const e=C.useRef(null);return aS(),[C.useMemo(()=>{const r=l=>{var c;(c=e.current)===null||c===void 0||c.close(l)},i=l=>{if(!e.current){const M=()=>{};return M.then=()=>{},M}const{open:c,prefixCls:u,message:d}=e.current,f=`${u}-notice`,{content:m,icon:v,type:x,key:y,className:g,style:S,onClose:_}=l,w=Eee(l,["content","icon","type","key","className","style","onClose"]);let A=y;return A==null&&(nL+=1,A=`antd-message-${nL}`),RT(M=>(c(Object.assign(Object.assign({},w),{key:A,content:C.createElement(aH,{prefixCls:u,type:x,icon:v},m),placement:"top",className:nt(x&&`${f}-${x}`,g,d==null?void 0:d.className),style:Object.assign(Object.assign({},d==null?void 0:d.style),S),onClose:()=>{_==null||_(),M()}})),()=>{r(A)}))},s={open:i,destroy:l=>{var c;l!==void 0?r(l):(c=e.current)===null||c===void 0||c.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const c=(u,d,f)=>{let m;u&&typeof u=="object"&&"content"in u?m=u:m={content:u};let v,x;typeof d=="function"?x=d:(v=d,x=f);const y=Object.assign(Object.assign({onClose:x,duration:v},m),{type:l});return i(y)};s[l]=c}),s},[]),C.createElement(Pee,Object.assign({key:"message-holder"},t,{ref:e}))]}function Iee(t){return lH(t)}function Ui(){Ui=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(E,B,F,L){return Object.defineProperty(E,B,{value:F,enumerable:!L,configurable:!L,writable:!L})}try{l({},"")}catch{l=function(F,L,z){return F[L]=z}}function c(E,B,F,L){var z=B&&B.prototype instanceof f?B:f,G=Object.create(z.prototype);return l(G,"_invoke",function(j,X,N){var W=1;return function(V,ee){if(W===3)throw Error("Generator is already running");if(W===4){if(V==="throw")throw ee;return{value:t,done:!0}}for(N.method=V,N.arg=ee;;){var se=N.delegate;if(se){var me=A(se,N);if(me){if(me===d)continue;return me}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(W===1)throw W=4,N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);W=3;var K=u(j,X,N);if(K.type==="normal"){if(W=N.done?4:2,K.arg===d)continue;return{value:K.arg,done:N.done}}K.type==="throw"&&(W=4,N.method="throw",N.arg=K.arg)}}}(E,F,new I(L||[])),!0),G}function u(E,B,F){try{return{type:"normal",arg:E.call(B,F)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var d={};function f(){}function m(){}function v(){}var x={};l(x,o,function(){return this});var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==n&&r.call(g,o)&&(x=g);var S=v.prototype=f.prototype=Object.create(x);function _(E){["next","throw","return"].forEach(function(B){l(E,B,function(F){return this._invoke(B,F)})})}function w(E,B){function F(z,G,j,X){var N=u(E[z],E,G);if(N.type!=="throw"){var W=N.arg,V=W.value;return V&&$t(V)=="object"&&r.call(V,"__await")?B.resolve(V.__await).then(function(ee){F("next",ee,j,X)},function(ee){F("throw",ee,j,X)}):B.resolve(V).then(function(ee){W.value=ee,j(W)},function(ee){return F("throw",ee,j,X)})}X(N.arg)}var L;l(this,"_invoke",function(z,G){function j(){return new B(function(X,N){F(z,G,X,N)})}return L=L?L.then(j,j):j()},!0)}function A(E,B){var F=B.method,L=E.i[F];if(L===t)return B.delegate=null,F==="throw"&&E.i.return&&(B.method="return",B.arg=t,A(E,B),B.method==="throw")||F!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+F+"' method")),d;var z=u(L,E.i,B.arg);if(z.type==="throw")return B.method="throw",B.arg=z.arg,B.delegate=null,d;var G=z.arg;return G?G.done?(B[E.r]=G.value,B.next=E.n,B.method!=="return"&&(B.method="next",B.arg=t),B.delegate=null,d):G:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,d)}function M(E){this.tryEntries.push(E)}function P(E){var B=E[4]||{};B.type="normal",B.arg=t,E[4]=B}function I(E){this.tryEntries=[[-1]],E.forEach(M,this),this.reset(!0)}function T(E){if(E!=null){var B=E[o];if(B)return B.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var F=-1,L=function z(){for(;++F<E.length;)if(r.call(E,F))return z.value=E[F],z.done=!1,z;return z.value=t,z.done=!0,z};return L.next=L}}throw new TypeError($t(E)+" is not iterable")}return m.prototype=v,l(S,"constructor",v),l(v,"constructor",m),m.displayName=l(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(E){var B=typeof E=="function"&&E.constructor;return!!B&&(B===m||(B.displayName||B.name)==="GeneratorFunction")},e.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,v):(E.__proto__=v,l(E,a,"GeneratorFunction")),E.prototype=Object.create(S),E},e.awrap=function(E){return{__await:E}},_(w.prototype),l(w.prototype,s,function(){return this}),e.AsyncIterator=w,e.async=function(E,B,F,L,z){z===void 0&&(z=Promise);var G=new w(c(E,B,F,L),z);return e.isGeneratorFunction(B)?G:G.next().then(function(j){return j.done?j.value:G.next()})},_(S),l(S,a,"Generator"),l(S,o,function(){return this}),l(S,"toString",function(){return"[object Generator]"}),e.keys=function(E){var B=Object(E),F=[];for(var L in B)F.unshift(L);return function z(){for(;F.length;)if((L=F.pop())in B)return z.value=L,z.done=!1,z;return z.done=!0,z}},e.values=T,I.prototype={constructor:I,reset:function(B){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!B)for(var F in this)F.charAt(0)==="t"&&r.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=t)},stop:function(){this.done=!0;var B=this.tryEntries[0][4];if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var F=this;function L(V){j.type="throw",j.arg=B,F.next=V}for(var z=F.tryEntries.length-1;z>=0;--z){var G=this.tryEntries[z],j=G[4],X=this.prev,N=G[1],W=G[2];if(G[0]===-1)return L("end"),!1;if(!N&&!W)throw Error("try statement without catch or finally");if(G[0]!=null&&G[0]<=X){if(X<N)return this.method="next",this.arg=t,L(N),!0;if(X<W)return L(W),!1}}},abrupt:function(B,F){for(var L=this.tryEntries.length-1;L>=0;--L){var z=this.tryEntries[L];if(z[0]>-1&&z[0]<=this.prev&&this.prev<z[2]){var G=z;break}}G&&(B==="break"||B==="continue")&&G[0]<=F&&F<=G[2]&&(G=null);var j=G?G[4]:{};return j.type=B,j.arg=F,G?(this.method="next",this.next=G[2],d):this.complete(j)},complete:function(B,F){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&F&&(this.next=F),d},finish:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L[2]===B)return this.complete(L[4],L[3]),P(L),d}},catch:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var L=this.tryEntries[F];if(L[0]===B){var z=L[4];if(z.type==="throw"){var G=z.arg;P(L)}return G}}throw Error("illegal catch attempt")},delegateYield:function(B,F,L){return this.delegate={i:T(B),r:F,n:L},this.method==="next"&&(this.arg=t),d}},e}function rL(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(c){return void n(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function Tu(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){rL(o,r,i,s,a,"next",l)}function a(l){rL(o,r,i,s,a,"throw",l)}s(void 0)})}}var sg=Ce({},G$),Bee=sg.version,Q_=sg.render,Oee=sg.unmountComponentAtNode,mS;try{var Lee=Number((Bee||"").split(".")[0]);Lee>=18&&(mS=sg.createRoot)}catch{}function iL(t){var e=sg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&$t(e)==="object"&&(e.usingClientEntryPoint=t)}var hx="__rc_react_root__";function Dee(t,e){iL(!0);var n=e[hx]||mS(e);iL(!1),n.render(t),e[hx]=n}function Fee(t,e){Q_==null||Q_(t,e)}function Nee(t,e){if(mS){Dee(t,e);return}Fee(t,e)}function Uee(t){return vE.apply(this,arguments)}function vE(){return vE=Tu(Ui().mark(function t(e){return Ui().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[hx])===null||i===void 0||i.unmount(),delete e[hx]}));case 1:case"end":return r.stop()}},t)})),vE.apply(this,arguments)}function kee(t){Oee(t)}function zee(t){return yE.apply(this,arguments)}function yE(){return yE=Tu(Ui().mark(function t(e){return Ui().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(mS===void 0){r.next=2;break}return r.abrupt("return",Uee(e));case 2:kee(e);case 3:case"end":return r.stop()}},t)})),yE.apply(this,arguments)}const Hee=(t,e)=>(Nee(t,e),()=>zee(e));let oL=Hee;function cH(t){return t&&(oL=t),oL}const Z_=()=>({height:0,opacity:0}),sL=t=>{const{scrollHeight:e}=t;return{height:e,opacity:1}},Vee=t=>({height:t?t.offsetHeight:0}),eC=(t,e)=>(e==null?void 0:e.deadline)===!0||e.propertyName==="height",Gee=function(){return{motionName:`${arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sm}-motion-collapse`,onAppearStart:Z_,onEnterStart:Z_,onAppearActive:sL,onEnterActive:sL,onLeaveStart:Vee,onLeaveActive:Z_,onAppearEnd:eC,onEnterEnd:eC,onLeaveEnd:eC,motionDeadline:500}},uH=(t,e,n)=>n!==void 0?n:`${t}-${e}`,aL=Gee;function Ru(t,e){var n=Object.assign({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}const PT=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},$ee=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},Wee=TQ("Wave",t=>[$ee(t)]),dH=`${Sm}-wave-target`;function tC(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function jee(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return tC(e)?e:tC(n)?n:tC(r)?r:null}function nC(t){return Number.isNaN(t)?0:t}const Xee=t=>{const{className:e,target:n,component:r,registerUnmount:i}=t,o=C.useRef(null),s=C.useRef(null);C.useEffect(()=>{s.current=i()},[]);const[a,l]=C.useState(null),[c,u]=C.useState([]),[d,f]=C.useState(0),[m,v]=C.useState(0),[x,y]=C.useState(0),[g,S]=C.useState(0),[_,w]=C.useState(!1),A={left:d,top:m,width:x,height:g,borderRadius:c.map(I=>`${I}px`).join(" ")};a&&(A["--wave-color"]=a);function M(){const I=getComputedStyle(n);l(jee(n));const T=I.position==="static",{borderLeftWidth:E,borderTopWidth:B}=I;f(T?n.offsetLeft:nC(-parseFloat(E))),v(T?n.offsetTop:nC(-parseFloat(B))),y(n.offsetWidth),S(n.offsetHeight);const{borderTopLeftRadius:F,borderTopRightRadius:L,borderBottomLeftRadius:z,borderBottomRightRadius:G}=I;u([F,L,G,z].map(j=>nC(parseFloat(j))))}if(C.useEffect(()=>{if(n){const I=Gn(()=>{M(),w(!0)});let T;return typeof ResizeObserver<"u"&&(T=new ResizeObserver(M),T.observe(n)),()=>{Gn.cancel(I),T==null||T.disconnect()}}},[]),!_)return null;const P=(r==="Checkbox"||r==="Radio")&&(n==null?void 0:n.classList.contains(dH));return C.createElement(Qf,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(I,T)=>{var E,B;if(T.deadline||T.propertyName==="opacity"){const F=(E=o.current)===null||E===void 0?void 0:E.parentElement;(B=s.current)===null||B===void 0||B.call(s).then(()=>{F==null||F.remove()})}return!1}},(I,T)=>{let{className:E}=I;return C.createElement("div",{ref:sa(o,T),className:nt(e,E,{"wave-quick":P}),style:A})})},Kee=(t,e)=>{var n;const{component:r}=e;if(r==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.top="0px",t==null||t.insertBefore(i,t==null?void 0:t.firstChild);const o=cH();let s=null;function a(){return s}s=o(C.createElement(Xee,Object.assign({},e,{target:t,registerUnmount:a})),i)},Jee=Kee,Yee=(t,e,n)=>{const{wave:r}=C.useContext(Wn),[,i,o]=ss(),s=lr(c=>{const u=t.current;if(r!=null&&r.disabled||!u)return;const d=u.querySelector(`.${dH}`)||u,{showEffect:f}=r||{};(f||Jee)(d,{className:e,token:i,component:n,event:c,hashId:o})}),a=C.useRef(null);return c=>{Gn.cancel(a.current),a.current=Gn(()=>{s(c)})}},qee=Yee,Qee=t=>{const{children:e,disabled:n,component:r}=t,{getPrefixCls:i}=C.useContext(Wn),o=C.useRef(null),s=i("wave"),[,a]=Wee(s),l=qee(o,nt(s,a),r);if(tt.useEffect(()=>{const u=o.current;if(!u||u.nodeType!==1||n)return;const d=f=>{!PT(f.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||l(f)};return u.addEventListener("click",d,!0),()=>{u.removeEventListener("click",d,!0)}},[n]),!tt.isValidElement(e))return e??null;const c=Yf(e)?sa(rg(e),o):o;return If(e,{ref:c})},Zee=Qee,ete=t=>{const e=tt.useContext(og);return tt.useMemo(()=>t?typeof t=="string"?t??e:typeof t=="function"?t(e):e:e,[t,e])},Pu=ete;globalThis&&globalThis.__rest;const fH=C.createContext(null),ag=(t,e)=>{const n=C.useContext(fH),r=C.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return nt(`${t}-compact${a}item`,{[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},tte=t=>{const{children:e}=t;return C.createElement(fH.Provider,{value:null},e)};var nte=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const hH=C.createContext(void 0),rte=t=>{const{getPrefixCls:e,direction:n}=C.useContext(Wn),{prefixCls:r,size:i,className:o}=t,s=nte(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=ss(),c=C.useMemo(()=>{switch(i){case"large":return"lg";case"small":return"sm";default:return""}},[i]),u=nt(a,{[`${a}-${c}`]:c,[`${a}-rtl`]:n==="rtl"},o,l);return C.createElement(hH.Provider,{value:i},C.createElement("div",Object.assign({},s,{className:u})))},ite=rte,lL=/^[\u4E00-\u9FA5]{2}$/,xE=lL.test.bind(lL);function cL(t){return typeof t=="string"}function rC(t){return t==="text"||t==="link"}function ote(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&cL(t.type)&&xE(t.props.children)?If(t,{children:t.props.children.split("").join(n)}):cL(t)?xE(t)?tt.createElement("span",null,t.split("").join(n)):tt.createElement("span",null,t):eH(t)?tt.createElement("span",null,t):t}function ste(t,e){let n=!1;const r=[];return tt.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),tt.Children.map(r,i=>ote(i,e))}["default","primary","danger"].concat(pt(_u));const ate=C.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=nt(`${o}-icon`,n);return tt.createElement("span",{ref:e,className:s,style:r},i)}),SE=ate,uL=C.forwardRef((t,e)=>{const{prefixCls:n,className:r,style:i,iconClassName:o}=t,s=nt(`${n}-loading-icon`,r);return tt.createElement(SE,{prefixCls:n,className:s,style:i,ref:e},tt.createElement(pS,{className:o}))}),iC=()=>({width:0,opacity:0,transform:"scale(0)"}),oC=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),lte=t=>{const{prefixCls:e,loading:n,existIcon:r,className:i,style:o,mount:s}=t,a=!!n;return r?tt.createElement(uL,{prefixCls:e,className:i,style:o}):tt.createElement(Qf,{visible:a,motionName:`${e}-loading-icon-motion`,motionAppear:!s,motionEnter:!s,motionLeave:!s,removeOnLeave:!0,onAppearStart:iC,onAppearActive:oC,onEnterStart:iC,onEnterActive:oC,onLeaveStart:oC,onLeaveActive:iC},(l,c)=>{let{className:u,style:d}=l;const f=Object.assign(Object.assign({},o),d);return tt.createElement(uL,{prefixCls:e,className:nt(i,u),style:f,ref:c})})},cte=lte,dL=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),ute=t=>{const{componentCls:e,fontSize:n,lineWidth:r,groupBorderColor:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(r).mul(-1).equal(),[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover, &:focus, &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},dL(`${e}-primary`,i),dL(`${e}-danger`,o)]}},dte=ute;var fte=["b"],hte=["v"],sC=function(e){return Math.round(Number(e||0))},pte=function(e){if(e instanceof Un)return e;if(e&&$t(e)==="object"&&"h"in e&&"b"in e){var n=e,r=n.b,i=On(n,fte);return Ce(Ce({},i),{},{v:r})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},_m=function(t){Zl(n,t);var e=ec(n);function n(r){return Gr(this,n),e.call(this,pte(r))}return $r(n,[{key:"toHsbString",value:function(){var i=this.toHsb(),o=sC(i.s*100),s=sC(i.b*100),a=sC(i.h),l=i.a,c="hsb(".concat(a,", ").concat(o,"%, ").concat(s,"%)"),u="hsba(".concat(a,", ").concat(o,"%, ").concat(s,"%, ").concat(l.toFixed(l===0?0:2),")");return l===1?c:u}},{key:"toHsb",value:function(){var i=this.toHsv(),o=i.v,s=On(i,hte);return Ce(Ce({},s),{},{b:o,a:this.a})}}]),n}(Un),mte=function(e){return e instanceof _m?e:new _m(e)};mte("#1677ff");const gte=(t,e)=>(t==null?void 0:t.replace(/[^\w/]/g,"").slice(0,e?8:6))||"",vte=(t,e)=>t?gte(t,e):"";let yte=function(){function t(e){Gr(this,t);var n;if(this.cleared=!1,e instanceof t){this.metaColor=e.metaColor.clone(),this.colors=(n=e.colors)===null||n===void 0?void 0:n.map(i=>({color:new t(i.color),percent:i.percent})),this.cleared=e.cleared;return}const r=Array.isArray(e);r&&e.length?(this.colors=e.map(i=>{let{color:o,percent:s}=i;return{color:new t(o),percent:s}}),this.metaColor=new _m(this.colors[0].color.metaColor)):this.metaColor=new _m(r?"":e),(!e||r&&!this.colors)&&(this.metaColor=this.metaColor.setA(0),this.cleared=!0)}return $r(t,[{key:"toHsb",value:function(){return this.metaColor.toHsb()}},{key:"toHsbString",value:function(){return this.metaColor.toHsbString()}},{key:"toHex",value:function(){return vte(this.toHexString(),this.metaColor.a<1)}},{key:"toHexString",value:function(){return this.metaColor.toHexString()}},{key:"toRgb",value:function(){return this.metaColor.toRgb()}},{key:"toRgbString",value:function(){return this.metaColor.toRgbString()}},{key:"isGradient",value:function(){return!!this.colors&&!this.cleared}},{key:"getColors",value:function(){return this.colors||[{color:this,percent:0}]}},{key:"toCssString",value:function(){const{colors:n}=this;return n?`linear-gradient(90deg, ${n.map(i=>`${i.color.toRgbString()} ${i.percent}%`).join(", ")})`:this.metaColor.toRgbString()}},{key:"equals",value:function(n){return!n||this.isGradient()!==n.isGradient()?!1:this.isGradient()?this.colors.length===n.colors.length&&this.colors.every((r,i)=>{const o=n.colors[i];return r.percent===o.percent&&r.color.equals(o.color)}):this.toHexString()===n.toHexString()}}])}();const xte=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),Ste=xte,_te=t=>({animationDuration:t,animationFillMode:"both"}),Cte=t=>({animationDuration:t,animationFillMode:"both"}),IT=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},_te(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},Cte(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},bte=new Ln("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),wte=new Ln("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),Ete=new Ln("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Mte=new Ln("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Ate=new Ln("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Tte=new Ln("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),Rte=new Ln("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),Pte=new Ln("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),Ite={"move-up":{inKeyframes:Rte,outKeyframes:Pte},"move-down":{inKeyframes:bte,outKeyframes:wte},"move-left":{inKeyframes:Ete,outKeyframes:Mte},"move-right":{inKeyframes:Ate,outKeyframes:Tte}},fL=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=Ite[e];return[IT(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},pH=new Ln("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),mH=new Ln("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),gH=new Ln("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),vH=new Ln("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),Bte=new Ln("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),Ote=new Ln("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),Lte=new Ln("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),Dte=new Ln("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),Fte={"slide-up":{inKeyframes:pH,outKeyframes:mH},"slide-down":{inKeyframes:gH,outKeyframes:vH},"slide-left":{inKeyframes:Bte,outKeyframes:Ote},"slide-right":{inKeyframes:Lte,outKeyframes:Dte}},hL=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=Fte[e];return[IT(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},BT=new Ln("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Nte=new Ln("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),pL=new Ln("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mL=new Ln("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),Ute=new Ln("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),kte=new Ln("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),zte=new Ln("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),Hte=new Ln("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),Vte=new Ln("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),Gte=new Ln("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),$te=new Ln("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),Wte=new Ln("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),jte={zoom:{inKeyframes:BT,outKeyframes:Nte},"zoom-big":{inKeyframes:pL,outKeyframes:mL},"zoom-big-fast":{inKeyframes:pL,outKeyframes:mL},"zoom-left":{inKeyframes:zte,outKeyframes:Hte},"zoom-right":{inKeyframes:Vte,outKeyframes:Gte},"zoom-up":{inKeyframes:Ute,outKeyframes:kte},"zoom-down":{inKeyframes:$te,outKeyframes:Wte}},Xte=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=jte[e];return[IT(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},Kte=(t,e)=>{const{r:n,g:r,b:i,a:o}=t.toRgb(),s=new _m(t.toRgbString()).onBackground(e).toHsv();return o<=.5?s.v>.5:n*.299+r*.587+i*.114>192},yH=t=>{const{paddingInline:e,onlyIconSize:n}=t;return or(t,{buttonPaddingHorizontal:e,buttonPaddingVertical:0,buttonIconOnlyFontSize:n})},xH=t=>{var e,n,r,i,o,s;const a=(e=t.contentFontSize)!==null&&e!==void 0?e:t.fontSize,l=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,c=(r=t.contentFontSizeLG)!==null&&r!==void 0?r:t.fontSizeLG,u=(i=t.contentLineHeight)!==null&&i!==void 0?i:xy(a),d=(o=t.contentLineHeightSM)!==null&&o!==void 0?o:xy(l),f=(s=t.contentLineHeightLG)!==null&&s!==void 0?s:xy(c),m=Kte(new yte(t.colorBgSolid),"#fff")?"#000":"#fff",v=_u.reduce((x,y)=>Object.assign(Object.assign({},x),{[`${y}ShadowColor`]:`0 ${Ct(t.controlOutlineWidth)} 0 ${dp(t[`${y}1`],t.colorBgContainer)}`}),{});return Object.assign(Object.assign({},v),{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:"inherit",onlyIconSizeSM:"inherit",onlyIconSizeLG:"inherit",groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textTextColor:t.colorText,textTextHoverColor:t.colorText,textTextActiveColor:t.colorText,textHoverBg:t.colorFillTertiary,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,solidTextColor:m,contentFontSize:a,contentFontSizeSM:l,contentFontSizeLG:c,contentLineHeight:u,contentLineHeightSM:d,contentLineHeightLG:f,paddingBlock:Math.max((t.controlHeight-a*u)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-l*d)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-c*f)/2-t.lineWidth,0)})},Jte=t=>{const{componentCls:e,iconCls:n,fontWeight:r,opacityLoading:i,motionDurationSlow:o,motionEaseInOut:s,marginXS:a,calc:l}=t;return{[e]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Ct(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},[`${e}-icon > svg`]:uS(),"> a":{color:"currentColor"},"&:not(:disabled)":AQ(t),[`&${e}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${e}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},[`&${e}-icon-only`]:{paddingInline:0,[`&${e}-compact-item`]:{flex:"none"},[`&${e}-round`]:{width:"auto"}},[`&${e}-loading`]:{opacity:i,cursor:"default"},[`${e}-loading-icon`]:{transition:["width","opacity","margin"].map(c=>`${c} ${o} ${s}`).join(",")},[`&:not(${e}-icon-end)`]:{[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineEnd:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineEnd:0},"&-leave-start":{marginInlineEnd:0},"&-leave-active":{marginInlineEnd:l(a).mul(-1).equal()}}},"&-icon-end":{flexDirection:"row-reverse",[`${e}-loading-icon-motion`]:{"&-appear-start, &-enter-start":{marginInlineStart:l(a).mul(-1).equal()},"&-appear-active, &-enter-active":{marginInlineStart:0},"&-leave-start":{marginInlineStart:0},"&-leave-active":{marginInlineStart:l(a).mul(-1).equal()}}}}}},SH=(t,e,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":e,"&:active":n}}),Yte=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),qte=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),Qte=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),gS=(t,e,n,r,i,o,s,a)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:e,borderColor:r||void 0,boxShadow:"none"},SH(t,Object.assign({background:e},s),Object.assign({background:e},a))),{"&:disabled":{cursor:"not-allowed",color:i||void 0,borderColor:o||void 0}})}),Zte=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},Qte(t))}),ene=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),vS=(t,e,n,r)=>{const o=r&&["link","text"].includes(r)?ene:Zte;return Object.assign(Object.assign({},o(t)),SH(t.componentCls,e,n))},yS=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-solid`]:Object.assign({color:e,background:n},vS(t,r,i))}),xS=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-outlined, &${t.componentCls}-variant-dashed`]:Object.assign({borderColor:e,background:n},vS(t,r,i))}),SS=t=>({[`&${t.componentCls}-variant-dashed`]:{borderStyle:"dashed"}}),_S=(t,e,n,r)=>({[`&${t.componentCls}-variant-filled`]:Object.assign({boxShadow:"none",background:e},vS(t,n,r))}),ra=(t,e,n,r,i)=>({[`&${t.componentCls}-variant-${n}`]:Object.assign({color:e,boxShadow:"none"},vS(t,r,i,n))}),tne=t=>{const{componentCls:e}=t;return _u.reduce((n,r)=>{const i=t[`${r}6`],o=t[`${r}1`],s=t[`${r}5`],a=t[`${r}2`],l=t[`${r}3`],c=t[`${r}7`];return Object.assign(Object.assign({},n),{[`&${e}-color-${r}`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:i,boxShadow:t[`${r}ShadowColor`]},yS(t,t.colorTextLightSolid,i,{background:s},{background:c})),xS(t,i,t.colorBgContainer,{color:s,borderColor:s,background:t.colorBgContainer},{color:c,borderColor:c,background:t.colorBgContainer})),SS(t)),_S(t,o,{background:a},{background:l})),ra(t,i,"link",{color:s},{color:c})),ra(t,i,"text",{color:s,background:o},{color:c,background:l}))})},{})},nne=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.defaultColor,boxShadow:t.defaultShadow},yS(t,t.solidTextColor,t.colorBgSolid,{color:t.solidTextColor,background:t.colorBgSolidHover},{color:t.solidTextColor,background:t.colorBgSolidActive})),SS(t)),_S(t,t.colorFillTertiary,{background:t.colorFillSecondary},{background:t.colorFill})),gS(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),ra(t,t.textTextColor,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),rne=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorPrimary,boxShadow:t.primaryShadow},xS(t,t.colorPrimary,t.colorBgContainer,{color:t.colorPrimaryTextHover,borderColor:t.colorPrimaryHover,background:t.colorBgContainer},{color:t.colorPrimaryTextActive,borderColor:t.colorPrimaryActive,background:t.colorBgContainer})),SS(t)),_S(t,t.colorPrimaryBg,{background:t.colorPrimaryBgHover},{background:t.colorPrimaryBorder})),ra(t,t.colorPrimaryText,"text",{color:t.colorPrimaryTextHover,background:t.colorPrimaryBg},{color:t.colorPrimaryTextActive,background:t.colorPrimaryBorder})),ra(t,t.colorPrimaryText,"link",{color:t.colorPrimaryTextHover,background:t.linkHoverBg},{color:t.colorPrimaryTextActive})),gS(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),ine=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:t.colorError,boxShadow:t.dangerShadow},yS(t,t.dangerColor,t.colorError,{background:t.colorErrorHover},{background:t.colorErrorActive})),xS(t,t.colorError,t.colorBgContainer,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),SS(t)),_S(t,t.colorErrorBg,{background:t.colorErrorBgFilledHover},{background:t.colorErrorBgActive})),ra(t,t.colorError,"text",{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive})),ra(t,t.colorError,"link",{color:t.colorErrorHover},{color:t.colorErrorActive})),gS(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),one=t=>Object.assign(Object.assign({},ra(t,t.colorLink,"link",{color:t.colorLinkHover},{color:t.colorLinkActive})),gS(t.componentCls,t.ghostBg,t.colorInfo,t.colorInfo,t.colorTextDisabled,t.colorBorder,{color:t.colorInfoHover,borderColor:t.colorInfoHover},{color:t.colorInfoActive,borderColor:t.colorInfoActive})),sne=t=>{const{componentCls:e}=t;return Object.assign({[`${e}-color-default`]:nne(t),[`${e}-color-primary`]:rne(t),[`${e}-color-dangerous`]:ine(t),[`${e}-color-link`]:one(t)},tne(t))},ane=t=>Object.assign(Object.assign(Object.assign(Object.assign({},xS(t,t.defaultBorderColor,t.defaultBg,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),ra(t,t.textTextColor,"text",{color:t.textTextHoverColor,background:t.textHoverBg},{color:t.textTextActiveColor,background:t.colorBgTextActive})),yS(t,t.primaryColor,t.colorPrimary,{background:t.colorPrimaryHover,color:t.primaryColor},{background:t.colorPrimaryActive,color:t.primaryColor})),ra(t,t.colorLink,"link",{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),OT=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,borderRadius:o,buttonPaddingHorizontal:s,iconCls:a,buttonPaddingVertical:l,buttonIconOnlyFontSize:c}=t;return[{[e]:{fontSize:i,height:r,padding:`${Ct(l)} ${Ct(s)}`,borderRadius:o,[`&${n}-icon-only`]:{width:r,[a]:{fontSize:c}}}},{[`${n}${n}-circle${e}`]:Yte(t)},{[`${n}${n}-round${e}`]:qte(t)}]},lne=t=>{const e=or(t,{fontSize:t.contentFontSize});return OT(e,t.componentCls)},cne=t=>{const e=or(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:0,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return OT(e,`${t.componentCls}-sm`)},une=t=>{const e=or(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:0,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return OT(e,`${t.componentCls}-lg`)},dne=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},fne=Ao("Button",t=>{const e=yH(t);return[Jte(e),lne(e),cne(e),une(e),dne(e),sne(e),ane(e),dte(e)]},xH,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function hne(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function pne(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function LT(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},hne(t,r,e)),pne(n,r,e))}}function mne(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function gne(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function vne(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},mne(t,e)),gne(t.componentCls,e))}}const yne=t=>{const{componentCls:e,colorPrimaryHover:n,lineWidth:r,calc:i}=t,o=i(r).mul(-1).equal(),s=a=>{const l=`${e}-compact${a?"-vertical":""}-item${e}-primary:not([disabled])`;return{[`${l} + ${l}::before`]:{position:"absolute",top:a?o:0,insetInlineStart:a?0:o,backgroundColor:n,content:'""',width:a?"100%":r,height:a?r:"100%"}}};return Object.assign(Object.assign({},s()),s(!0))},xne=Bz(["Button","compact"],t=>{const e=yH(t);return[LT(e),vne(e),yne(e)]},xH);var Sne=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _ne(t){if(typeof t=="object"&&t){let e=t==null?void 0:t.delay;return e=!Number.isNaN(e)&&typeof e=="number"?e:0,{loading:e<=0,delay:e}}return{loading:!!t,delay:0}}const Cne={default:["default","outlined"],primary:["primary","solid"],dashed:["default","dashed"],link:["link","link"],text:["default","text"]},bne=tt.forwardRef((t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,color:s,variant:a,type:l,danger:c=!1,shape:u="default",size:d,styles:f,disabled:m,className:v,rootClassName:x,children:y,icon:g,iconPosition:S="start",ghost:_=!1,block:w=!1,htmlType:A="button",classNames:M,style:P={},autoInsertSpace:I,autoFocus:T}=t,E=Sne(t,["loading","prefixCls","color","variant","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace","autoFocus"]),B=l||"default",{button:F}=tt.useContext(Wn),[L,z]=C.useMemo(()=>{if(s&&a)return[s,a];if(l||c){const he=Cne[B]||[];return c?["danger",he[1]]:he}return F!=null&&F.color&&(F!=null&&F.variant)?[F.color,F.variant]:["default","outlined"]},[l,s,a,c,F==null?void 0:F.variant,F==null?void 0:F.color]),j=L==="danger"?"dangerous":L,{getPrefixCls:X,direction:N,autoInsertSpace:W,className:V,style:ee,classNames:se,styles:me}=nc("button"),K=(n=I??W)!==null&&n!==void 0?n:!0,te=X("btn",o),[ae,de,_e]=fne(te),Re=C.useContext(rc),Te=m??Re,Y=C.useContext(hH),Q=C.useMemo(()=>_ne(i),[i]),[ie,ye]=C.useState(Q.loading),[fe,pe]=C.useState(!1),$=C.useRef(null),U=ng(e,$),le=C.Children.count(y)===1&&!g&&!rC(z),be=C.useRef(!0);tt.useEffect(()=>(be.current=!1,()=>{be.current=!0}),[]),C.useEffect(()=>{let he=null;Q.delay>0?he=setTimeout(()=>{he=null,ye(!0)},Q.delay):ye(Q.loading);function Ee(){he&&(clearTimeout(he),he=null)}return Ee},[Q]),C.useEffect(()=>{if(!$.current||!K)return;const he=$.current.textContent||"";le&&xE(he)?fe||pe(!0):fe&&pe(!1)}),C.useEffect(()=>{T&&$.current&&$.current.focus()},[]);const we=tt.useCallback(he=>{var Ee;if(ie||Te){he.preventDefault();return}(Ee=t.onClick)===null||Ee===void 0||Ee.call(t,("href"in t,he))},[t.onClick,ie,Te]),{compactSize:Oe,compactItemClassnames:De}=ag(te,N),ge={large:"lg",small:"sm",middle:void 0},Fe=Pu(he=>{var Ee,Z;return(Z=(Ee=d??Oe)!==null&&Ee!==void 0?Ee:Y)!==null&&Z!==void 0?Z:he}),Xe=Fe&&(r=ge[Fe])!==null&&r!==void 0?r:"",Ne=ie?"loading":g,He=Ru(E,["navigate"]),Ye=nt(te,de,_e,{[`${te}-${u}`]:u!=="default"&&u,[`${te}-${B}`]:B,[`${te}-dangerous`]:c,[`${te}-color-${j}`]:j,[`${te}-variant-${z}`]:z,[`${te}-${Xe}`]:Xe,[`${te}-icon-only`]:!y&&y!==0&&!!Ne,[`${te}-background-ghost`]:_&&!rC(z),[`${te}-loading`]:ie,[`${te}-two-chinese-chars`]:fe&&K&&!ie,[`${te}-block`]:w,[`${te}-rtl`]:N==="rtl",[`${te}-icon-end`]:S==="end"},De,v,x,V),Ke=Object.assign(Object.assign({},ee),P),We=nt(M==null?void 0:M.icon,se.icon),ot=Object.assign(Object.assign({},(f==null?void 0:f.icon)||{}),me.icon||{}),je=g&&!ie?tt.createElement(SE,{prefixCls:te,className:We,style:ot},g):i&&typeof i=="object"&&i.icon?tt.createElement(SE,{prefixCls:te,className:We,style:ot},i.icon):tt.createElement(cte,{existIcon:!!g,prefixCls:te,loading:ie,mount:be.current}),Ze=y||y===0?ste(y,le&&K):null;if(He.href!==void 0)return ae(tt.createElement("a",Object.assign({},He,{className:nt(Ye,{[`${te}-disabled`]:Te}),href:Te?void 0:He.href,style:Ke,onClick:we,ref:U,tabIndex:Te?-1:0}),je,Ze));let ft=tt.createElement("button",Object.assign({},E,{type:A,className:Ye,style:Ke,onClick:we,disabled:Te,ref:U}),je,Ze,De&&tt.createElement(xne,{prefixCls:te}));return rC(z)||(ft=tt.createElement(Zee,{component:"Button",disabled:ie},ft)),ae(ft)}),DT=bne;DT.Group=ite;DT.__ANT_BUTTON=!0;const wne=DT;var _H=C.createContext(null),gL=[];function Ene(t,e){var n=C.useState(function(){if(!eo())return null;var v=document.createElement("div");return v}),r=ke(n,1),i=r[0],o=C.useRef(!1),s=C.useContext(_H),a=C.useState(gL),l=ke(a,2),c=l[0],u=l[1],d=s||(o.current?void 0:function(v){u(function(x){var y=[v].concat(pt(x));return y})});function f(){i.parentElement||document.body.appendChild(i),o.current=!0}function m(){var v;(v=i.parentElement)===null||v===void 0||v.removeChild(i),o.current=!1}return Vn(function(){return t?s?s(f):f():m(),m},[t]),Vn(function(){c.length&&(c.forEach(function(v){return v()}),u(gL))},[c]),[i,d]}function Mne(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var r=n.style;r.position="absolute",r.left="0",r.top="0",r.width="100px",r.height="100px",r.overflow="scroll";var i,o;if(t){var s=getComputedStyle(t);r.scrollbarColor=s.scrollbarColor,r.scrollbarWidth=s.scrollbarWidth;var a=getComputedStyle(t,"::-webkit-scrollbar"),l=parseInt(a.width,10),c=parseInt(a.height,10);try{var u=l?"width: ".concat(a.width,";"):"",d=c?"height: ".concat(a.height,";"):"";Oa(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(u,`
`).concat(d,`
}`),e)}catch(v){console.error(v),i=l,o=c}}document.body.appendChild(n);var f=t&&i&&!isNaN(i)?i:n.offsetWidth-n.clientWidth,m=t&&o&&!isNaN(o)?o:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),gm(e),{width:f,height:m}}function Ane(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:Mne(t)}function Tne(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var Rne="rc-util-locker-".concat(Date.now()),vL=0;function Pne(t){var e=!!t,n=C.useState(function(){return vL+=1,"".concat(Rne,"_").concat(vL)}),r=ke(n,1),i=r[0];Vn(function(){if(e){var o=Ane(document.body).width,s=Tne();Oa(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else gm(i);return function(){gm(i)}},[e,i])}var yL=!1;function Ine(t){return typeof t=="boolean"&&(yL=t),yL}var xL=function(e){return e===!1?!1:!eo()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},CH=C.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,s=o===void 0?!0:o,a=t.children,l=C.useState(n),c=ke(l,2),u=c[0],d=c[1],f=u||n;C.useEffect(function(){(s||n)&&d(n)},[n,s]);var m=C.useState(function(){return xL(i)}),v=ke(m,2),x=v[0],y=v[1];C.useEffect(function(){var B=xL(i);y(B??null)});var g=Ene(f&&!x),S=ke(g,2),_=S[0],w=S[1],A=x??_;Pne(r&&n&&eo()&&(A===_||A===document.body));var M=null;if(a&&Yf(a)&&e){var P=a;M=P.ref}var I=ng(M,e);if(!f||!eo()||x===void 0)return null;var T=A===!1||Ine(),E=a;return e&&(E=C.cloneElement(a,{ref:I})),C.createElement(_H.Provider,{value:w},T?E:ka.createPortal(E,A))});function Bne(){var t=Ce({},Xm);return t.useId}var SL=0,_L=Bne();const bH=_L?function(e){var n=_L();return e||n}:function(e){var n=C.useState("ssr-id"),r=ke(n,2),i=r[0],o=r[1];return C.useEffect(function(){var s=SL;SL+=1,o("rc_unique_".concat(s))},[]),e||i};var Yc="RC_FORM_INTERNAL_HOOKS",Hn=function(){wi(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Cu=C.createContext({getFieldValue:Hn,getFieldsValue:Hn,getFieldError:Hn,getFieldWarning:Hn,getFieldsError:Hn,isFieldsTouched:Hn,isFieldTouched:Hn,isFieldValidating:Hn,isFieldsValidating:Hn,resetFields:Hn,setFields:Hn,setFieldValue:Hn,setFieldsValue:Hn,validateFields:Hn,submit:Hn,getInternalHooks:function(){return Hn(),{dispatch:Hn,initEntityValue:Hn,registerField:Hn,useSubscribe:Hn,setInitialValues:Hn,destroyForm:Hn,setCallbacks:Hn,registerWatch:Hn,getFields:Hn,setValidateMessages:Hn,setPreserve:Hn,getInitialValue:Hn}}}),Cm=C.createContext(null);function _E(t){return t==null?[]:Array.isArray(t)?t:[t]}function One(t){return t&&!!t._init}function CE(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var bE=CE();function Lne(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function Dne(t,e,n){if(gT())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&hm(i,n.prototype),i}function wE(t){var e=typeof Map=="function"?new Map:void 0;return wE=function(r){if(r===null||!Lne(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Dne(r,arguments,pm(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),hm(i,r)},wE(t)}var Fne=/%[sdj%]/g,Nne=function(){};typeof process<"u"&&process.env;function EE(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function vo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(Fne,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function Une(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function zr(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Une(e)&&typeof t=="string"&&!t)}function kne(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,pt(a||[])),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function CL(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function zne(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,pt(t[n]||[]))}),e}var bL=function(t){Zl(n,t);var e=ec(n);function n(r,i){var o;return Gr(this,n),o=e.call(this,"Async Validation Error"),xe(vn(o),"errors",void 0),xe(vn(o),"fields",void 0),o.errors=r,o.fields=i,o}return $r(n)}(wE(Error));function Hne(t,e,n,r,i){if(e.first){var o=new Promise(function(f,m){var v=function(g){return r(g),g.length?m(new bL(g,EE(g))):f(i)},x=zne(t);CL(x,n,v)});return o.catch(function(f){return f}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],d=new Promise(function(f,m){var v=function(y){if(u.push.apply(u,y),c++,c===l)return r(u),u.length?m(new bL(u,EE(u))):f(i)};a.length||(r(u),f(i)),a.forEach(function(x){var y=t[x];s.indexOf(x)!==-1?CL(y,n,v):kne(y,n,v)})});return d.catch(function(f){return f}),d}function Vne(t){return!!(t&&t.message!==void 0)}function Gne(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function wL(t,e){return function(n){var r;return t.fullFields?r=Gne(e,t.fullFields):r=e[n.field||t.fullField],Vne(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function EL(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];$t(r)==="object"&&$t(t[n])==="object"?t[n]=Ce(Ce({},t[n]),r):t[n]=r}}return t}var ed="enum",$ne=function(e,n,r,i,o){e[ed]=Array.isArray(e[ed])?e[ed]:[],e[ed].indexOf(n)===-1&&i.push(vo(o.messages[ed],e.fullField,e[ed].join(", ")))},Wne=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(vo(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(vo(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},jne=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=n,d=null,f=typeof n=="number",m=typeof n=="string",v=Array.isArray(n);if(f?d="number":m?d="string":v&&(d="array"),!d)return!1;v&&(u=n.length),m&&(u=n.replace(c,"_").length),s?u!==e.len&&i.push(vo(o.messages[d].len,e.fullField,e.len)):a&&!l&&u<e.min?i.push(vo(o.messages[d].min,e.fullField,e.min)):l&&!a&&u>e.max?i.push(vo(o.messages[d].max,e.fullField,e.max)):a&&l&&(u<e.min||u>e.max)&&i.push(vo(o.messages[d].range,e.fullField,e.min,e.max))},wH=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||zr(n,s||e.type))&&i.push(vo(o.messages.required,e.fullField))},jv;const Xne=function(){if(jv)return jv;var t="[a-fA-F\\d:]",e=function(M){return M&&M.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],o="(?:%[0-9a-zA-Z]{1,})?",s="(?:".concat(i.join("|"),")").concat(o),a=new RegExp("(?:^".concat(n,"$)|(?:^").concat(s,"$)")),l=new RegExp("^".concat(n,"$")),c=new RegExp("^".concat(s,"$")),u=function(M){return M&&M.exact?a:new RegExp("(?:".concat(e(M)).concat(n).concat(e(M),")|(?:").concat(e(M)).concat(s).concat(e(M),")"),"g")};u.v4=function(A){return A&&A.exact?l:new RegExp("".concat(e(A)).concat(n).concat(e(A)),"g")},u.v6=function(A){return A&&A.exact?c:new RegExp("".concat(e(A)).concat(s).concat(e(A)),"g")};var d="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",m=u.v4().source,v=u.v6().source,x="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",y="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",S="(?::\\d{2,5})?",_='(?:[/?#][^\\s"]*)?',w="(?:".concat(d,"|www\\.)").concat(f,"(?:localhost|").concat(m,"|").concat(v,"|").concat(x).concat(y).concat(g,")").concat(S).concat(_);return jv=new RegExp("(?:^".concat(w,"$)"),"i"),jv};var ML={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},fp={integer:function(e){return fp.number(e)&&parseInt(e,10)===e},float:function(e){return fp.number(e)&&!fp.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return $t(e)==="object"&&!fp.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(ML.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Xne())},hex:function(e){return typeof e=="string"&&!!e.match(ML.hex)}},Kne=function(e,n,r,i,o){if(e.required&&n===void 0){wH(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?fp[a](n)||i.push(vo(o.messages.types[a],e.fullField,e.type)):a&&$t(n)!==e.type&&i.push(vo(o.messages.types[a],e.fullField,e.type))},Jne=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(vo(o.messages.whitespace,e.fullField))};const _n={required:wH,whitespace:Jne,type:Kne,range:jne,enum:$ne,pattern:Wne};var Yne=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o)}r(s)},qne=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();_n.required(e,n,i,s,o,"array"),n!=null&&(_n.type(e,n,i,s,o),_n.range(e,n,i,s,o))}r(s)},Qne=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),n!==void 0&&_n.type(e,n,i,s,o)}r(s)},Zne=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n,"date")&&!e.required)return r();if(_n.required(e,n,i,s,o),!zr(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),_n.type(e,l,i,s,o),l&&_n.range(e,l.getTime(),i,s,o)}}r(s)},ere="enum",tre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),n!==void 0&&_n[ere](e,n,i,s,o)}r(s)},nre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),n!==void 0&&(_n.type(e,n,i,s,o),_n.range(e,n,i,s,o))}r(s)},rre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),n!==void 0&&(_n.type(e,n,i,s,o),_n.range(e,n,i,s,o))}r(s)},ire=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),n!==void 0&&_n.type(e,n,i,s,o)}r(s)},ore=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),n!==void 0&&(_n.type(e,n,i,s,o),_n.range(e,n,i,s,o))}r(s)},sre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),n!==void 0&&_n.type(e,n,i,s,o)}r(s)},are=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n,"string")&&!e.required)return r();_n.required(e,n,i,s,o),zr(n,"string")||_n.pattern(e,n,i,s,o)}r(s)},lre=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n)&&!e.required)return r();_n.required(e,n,i,s,o),zr(n)||_n.type(e,n,i,s,o)}r(s)},cre=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":$t(n);_n.required(e,n,i,s,o,a),r(s)},ure=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(zr(n,"string")&&!e.required)return r();_n.required(e,n,i,s,o,"string"),zr(n,"string")||(_n.type(e,n,i,s,o),_n.range(e,n,i,s,o),_n.pattern(e,n,i,s,o),e.whitespace===!0&&_n.whitespace(e,n,i,s,o))}r(s)},aC=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(zr(n,s)&&!e.required)return r();_n.required(e,n,i,a,o,s),zr(n,s)||_n.type(e,n,i,a,o)}r(a)};const Bp={string:ure,method:ire,number:ore,boolean:Qne,regexp:lre,integer:rre,float:nre,array:qne,object:sre,enum:tre,pattern:are,date:Zne,url:aC,hex:aC,email:aC,required:cre,any:Yne};var lg=function(){function t(e){Gr(this,t),xe(this,"rules",null),xe(this,"_messages",bE),this.define(e)}return $r(t,[{key:"define",value:function(n){var r=this;if(!n)throw new Error("Cannot configure a schema with no rules");if($t(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(i){var o=n[i];r.rules[i]=Array.isArray(o)?o:[o]})}},{key:"messages",value:function(n){return n&&(this._messages=EL(CE(),n)),this._messages}},{key:"validate",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},s=n,a=i,l=o;if(typeof a=="function"&&(l=a,a={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,s),Promise.resolve(s);function c(v){var x=[],y={};function g(_){if(Array.isArray(_)){var w;x=(w=x).concat.apply(w,pt(_))}else x.push(_)}for(var S=0;S<v.length;S++)g(v[S]);x.length?(y=EE(x),l(x,y)):l(null,s)}if(a.messages){var u=this.messages();u===bE&&(u=CE()),EL(u,a.messages),a.messages=u}else a.messages=this.messages();var d={},f=a.keys||Object.keys(this.rules);f.forEach(function(v){var x=r.rules[v],y=s[v];x.forEach(function(g){var S=g;typeof S.transform=="function"&&(s===n&&(s=Ce({},s)),y=s[v]=S.transform(y),y!=null&&(S.type=S.type||(Array.isArray(y)?"array":$t(y)))),typeof S=="function"?S={validator:S}:S=Ce({},S),S.validator=r.getValidationMethod(S),S.validator&&(S.field=v,S.fullField=S.fullField||v,S.type=r.getType(S),d[v]=d[v]||[],d[v].push({rule:S,value:y,source:s,field:v}))})});var m={};return Hne(d,a,function(v,x){var y=v.rule,g=(y.type==="object"||y.type==="array")&&($t(y.fields)==="object"||$t(y.defaultField)==="object");g=g&&(y.required||!y.required&&v.value),y.field=v.field;function S(P,I){return Ce(Ce({},I),{},{fullField:"".concat(y.fullField,".").concat(P),fullFields:y.fullFields?[].concat(pt(y.fullFields),[P]):[P]})}function _(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],I=Array.isArray(P)?P:[P];!a.suppressWarning&&I.length&&t.warning("async-validator:",I),I.length&&y.message!==void 0&&(I=[].concat(y.message));var T=I.map(wL(y,s));if(a.first&&T.length)return m[y.field]=1,x(T);if(!g)x(T);else{if(y.required&&!v.value)return y.message!==void 0?T=[].concat(y.message).map(wL(y,s)):a.error&&(T=[a.error(y,vo(a.messages.required,y.field))]),x(T);var E={};y.defaultField&&Object.keys(v.value).map(function(L){E[L]=y.defaultField}),E=Ce(Ce({},E),v.rule.fields);var B={};Object.keys(E).forEach(function(L){var z=E[L],G=Array.isArray(z)?z:[z];B[L]=G.map(S.bind(null,L))});var F=new t(B);F.messages(a.messages),v.rule.options&&(v.rule.options.messages=a.messages,v.rule.options.error=a.error),F.validate(v.value,v.rule.options||a,function(L){var z=[];T&&T.length&&z.push.apply(z,pt(T)),L&&L.length&&z.push.apply(z,pt(L)),x(z.length?z:null)})}}var w;if(y.asyncValidator)w=y.asyncValidator(y,v.value,_,v.source,a);else if(y.validator){try{w=y.validator(y,v.value,_,v.source,a)}catch(P){var A,M;(A=(M=console).error)===null||A===void 0||A.call(M,P),a.suppressValidatorError||setTimeout(function(){throw P},0),_(P.message)}w===!0?_():w===!1?_(typeof y.message=="function"?y.message(y.fullField||y.field):y.message||"".concat(y.fullField||y.field," fails")):w instanceof Array?_(w):w instanceof Error&&_(w.message)}w&&w.then&&w.then(function(){return _()},function(P){return _(P)})},function(v){c(v)},s)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!Bp.hasOwnProperty(n.type))throw new Error(vo("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var r=Object.keys(n),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?Bp.required:Bp[this.getType(n)]||void 0}}]),t}();xe(lg,"register",function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Bp[e]=n});xe(lg,"warning",Nne);xe(lg,"messages",bE);xe(lg,"validators",Bp);var ao="'${name}' is not a valid ${type}",EH={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ao,method:ao,array:ao,object:ao,number:ao,date:ao,boolean:ao,integer:ao,float:ao,regexp:ao,email:ao,url:ao,hex:ao},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},AL=lg;function dre(t,e){return t.replace(/\\?\$\{\w+\}/g,function(n){if(n.startsWith("\\"))return n.slice(1);var r=n.slice(2,-1);return e[r]})}var TL="CODE_LOGIC_ERROR";function ME(t,e,n,r,i){return AE.apply(this,arguments)}function AE(){return AE=Tu(Ui().mark(function t(e,n,r,i,o){var s,a,l,c,u,d,f,m,v;return Ui().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return s=Ce({},r),delete s.ruleIndex,AL.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(g){return console.error(g),Promise.reject(TL)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),c=new AL(xe({},e,[s])),u=Jd(EH,i.validateMessages),c.messages(u),d=[],y.prev=10,y.next=13,Promise.resolve(c.validate(xe({},e,n),Ce({},i)));case 13:y.next=18;break;case 15:y.prev=15,y.t0=y.catch(10),y.t0.errors&&(d=y.t0.errors.map(function(g,S){var _=g.message,w=_===TL?u.default:_;return C.isValidElement(w)?C.cloneElement(w,{key:"error_".concat(S)}):w}));case 18:if(!(!d.length&&l)){y.next=23;break}return y.next=21,Promise.all(n.map(function(g,S){return ME("".concat(e,".").concat(S),g,l,i,o)}));case 21:return f=y.sent,y.abrupt("return",f.reduce(function(g,S){return[].concat(pt(g),pt(S))},[]));case 23:return m=Ce(Ce({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),v=d.map(function(g){return typeof g=="string"?dre(g,m):g}),y.abrupt("return",v);case 26:case"end":return y.stop()}},t,null,[[10,15]])})),AE.apply(this,arguments)}function fre(t,e,n,r,i,o){var s=t.join("."),a=n.map(function(u,d){var f=u.validator,m=Ce(Ce({},u),{},{ruleIndex:d});return f&&(m.validator=function(v,x,y){var g=!1,S=function(){for(var A=arguments.length,M=new Array(A),P=0;P<A;P++)M[P]=arguments[P];Promise.resolve().then(function(){wi(!g,"Your validator function has already return a promise. `callback` will be ignored."),g||y.apply(void 0,M)})},_=f(v,x,S);g=_&&typeof _.then=="function"&&typeof _.catch=="function",wi(g,"`callback` is deprecated. Please return a promise instead."),g&&_.then(function(){y()}).catch(function(w){y(w||" ")})}),m}).sort(function(u,d){var f=u.warningOnly,m=u.ruleIndex,v=d.warningOnly,x=d.ruleIndex;return!!f==!!v?m-x:f?1:-1}),l;if(i===!0)l=new Promise(function(){var u=Tu(Ui().mark(function d(f,m){var v,x,y;return Ui().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:v=0;case 1:if(!(v<a.length)){S.next=12;break}return x=a[v],S.next=5,ME(s,e,x,r,o);case 5:if(y=S.sent,!y.length){S.next=9;break}return m([{errors:y,rule:x}]),S.abrupt("return");case 9:v+=1,S.next=1;break;case 12:f([]);case 13:case"end":return S.stop()}},d)}));return function(d,f){return u.apply(this,arguments)}}());else{var c=a.map(function(u){return ME(s,e,u,r,o).then(function(d){return{errors:d,rule:u}})});l=(i?pre(c):hre(c)).then(function(u){return Promise.reject(u)})}return l.catch(function(u){return u}),l}function hre(t){return TE.apply(this,arguments)}function TE(){return TE=Tu(Ui().mark(function t(e){return Ui().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,pt(i));return s}));case 1:case"end":return r.stop()}},t)})),TE.apply(this,arguments)}function pre(t){return RE.apply(this,arguments)}function RE(){return RE=Tu(Ui().mark(function t(e){var n;return Ui().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),RE.apply(this,arguments)}function wr(t){return _E(t)}function RL(t,e){var n={};return e.forEach(function(r){var i=qo(t,r);n=Wo(n,r,i)}),n}function df(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(r){return MH(e,r,n)})}function MH(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!e||!n&&t.length!==e.length?!1:e.every(function(r,i){return t[i]===r})}function mre(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||$t(t)!=="object"||$t(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return pt(i).every(function(o){var s=t[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function gre(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&$t(e.target)==="object"&&t in e.target?e.target[t]:e}function PL(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(pt(t.slice(0,n)),[i],pt(t.slice(n,e)),pt(t.slice(e+1,r))):o<0?[].concat(pt(t.slice(0,e)),pt(t.slice(e+1,n+1)),[i],pt(t.slice(n+1,r))):t}var vre=["name"],ko=[];function lC(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var FT=function(t){Zl(n,t);var e=ec(n);function n(r){var i;if(Gr(this,n),i=e.call(this,r),xe(vn(i),"state",{resetCount:0}),xe(vn(i),"cancelRegisterFunc",null),xe(vn(i),"mounted",!1),xe(vn(i),"touched",!1),xe(vn(i),"dirty",!1),xe(vn(i),"validatePromise",void 0),xe(vn(i),"prevValidating",void 0),xe(vn(i),"errors",ko),xe(vn(i),"warnings",ko),xe(vn(i),"cancelRegister",function(){var l=i.props,c=l.preserve,u=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(u,c,wr(d)),i.cancelRegisterFunc=null}),xe(vn(i),"getNamePath",function(){var l=i.props,c=l.name,u=l.fieldContext,d=u.prefixName,f=d===void 0?[]:d;return c!==void 0?[].concat(pt(f),pt(c)):[]}),xe(vn(i),"getRules",function(){var l=i.props,c=l.rules,u=c===void 0?[]:c,d=l.fieldContext;return u.map(function(f){return typeof f=="function"?f(d):f})}),xe(vn(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),xe(vn(i),"metaCache",null),xe(vn(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var u=Ce(Ce({},i.getMeta()),{},{destroy:l});lx(i.metaCache,u)||c(u),i.metaCache=u}else i.metaCache=null}),xe(vn(i),"onStoreChange",function(l,c,u){var d=i.props,f=d.shouldUpdate,m=d.dependencies,v=m===void 0?[]:m,x=d.onReset,y=u.store,g=i.getNamePath(),S=i.getValue(l),_=i.getValue(y),w=c&&df(c,g);switch(u.type==="valueUpdate"&&u.source==="external"&&!lx(S,_)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=ko,i.warnings=ko,i.triggerMetaEvent()),u.type){case"reset":if(!c||w){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=ko,i.warnings=ko,i.triggerMetaEvent(),x==null||x(),i.refresh();return}break;case"remove":{if(f&&lC(f,l,y,S,_,u)){i.reRender();return}break}case"setField":{var A=u.data;if(w){"touched"in A&&(i.touched=A.touched),"validating"in A&&!("originRCField"in A)&&(i.validatePromise=A.validating?Promise.resolve([]):null),"errors"in A&&(i.errors=A.errors||ko),"warnings"in A&&(i.warnings=A.warnings||ko),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in A&&df(c,g,!0)){i.reRender();return}if(f&&!g.length&&lC(f,l,y,S,_,u)){i.reRender();return}break}case"dependenciesUpdate":{var M=v.map(wr);if(M.some(function(P){return df(u.relatedFields,P)})){i.reRender();return}break}default:if(w||(!v.length||g.length||f)&&lC(f,l,y,S,_,u)){i.reRender();return}break}f===!0&&i.reRender()}),xe(vn(i),"validateRules",function(l){var c=i.getNamePath(),u=i.getValue(),d=l||{},f=d.triggerName,m=d.validateOnly,v=m===void 0?!1:m,x=Promise.resolve().then(Tu(Ui().mark(function y(){var g,S,_,w,A,M,P;return Ui().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(i.mounted){T.next=2;break}return T.abrupt("return",[]);case 2:if(g=i.props,S=g.validateFirst,_=S===void 0?!1:S,w=g.messageVariables,A=g.validateDebounce,M=i.getRules(),f&&(M=M.filter(function(E){return E}).filter(function(E){var B=E.validateTrigger;if(!B)return!0;var F=_E(B);return F.includes(f)})),!(A&&f)){T.next=10;break}return T.next=8,new Promise(function(E){setTimeout(E,A)});case 8:if(i.validatePromise===x){T.next=10;break}return T.abrupt("return",[]);case 10:return P=fre(c,u,M,l,_,w),P.catch(function(E){return E}).then(function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ko;if(i.validatePromise===x){var B;i.validatePromise=null;var F=[],L=[];(B=E.forEach)===null||B===void 0||B.call(E,function(z){var G=z.rule.warningOnly,j=z.errors,X=j===void 0?ko:j;G?L.push.apply(L,pt(X)):F.push.apply(F,pt(X))}),i.errors=F,i.warnings=L,i.triggerMetaEvent(),i.reRender()}}),T.abrupt("return",P);case 13:case"end":return T.stop()}},y)})));return v||(i.validatePromise=x,i.dirty=!0,i.errors=ko,i.warnings=ko,i.triggerMetaEvent(),i.reRender()),x}),xe(vn(i),"isFieldValidating",function(){return!!i.validatePromise}),xe(vn(i),"isFieldTouched",function(){return i.touched}),xe(vn(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(Yc),u=c.getInitialValue;return u(i.getNamePath())!==void 0}),xe(vn(i),"getErrors",function(){return i.errors}),xe(vn(i),"getWarnings",function(){return i.warnings}),xe(vn(i),"isListField",function(){return i.props.isListField}),xe(vn(i),"isList",function(){return i.props.isList}),xe(vn(i),"isPreserve",function(){return i.props.preserve}),xe(vn(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),xe(vn(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return Ce(Ce({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var u=wf(l);return u.length!==1||!C.isValidElement(u[0])?{child:u,isFunction:!1}:{child:u[0],isFunction:!1}}),xe(vn(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,u=i.getNamePath();return qo(l||c(!0),u)}),xe(vn(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,u=c.name,d=c.trigger,f=c.validateTrigger,m=c.getValueFromEvent,v=c.normalize,x=c.valuePropName,y=c.getValueProps,g=c.fieldContext,S=f!==void 0?f:g.validateTrigger,_=i.getNamePath(),w=g.getInternalHooks,A=g.getFieldsValue,M=w(Yc),P=M.dispatch,I=i.getValue(),T=y||function(z){return xe({},x,z)},E=l[d],B=u!==void 0?T(I):{},F=Ce(Ce({},l),B);F[d]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var z,G=arguments.length,j=new Array(G),X=0;X<G;X++)j[X]=arguments[X];m?z=m.apply(void 0,j):z=gre.apply(void 0,[x].concat(j)),v&&(z=v(z,I,A(!0))),z!==I&&P({type:"updateValue",namePath:_,value:z}),E&&E.apply(void 0,j)};var L=_E(S||[]);return L.forEach(function(z){var G=F[z];F[z]=function(){G&&G.apply(void 0,arguments);var j=i.props.rules;j&&j.length&&P({type:"validateField",namePath:_,triggerName:z})}}),F}),r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(Yc),a=s.initEntityValue;a(vn(i))}return i}return $r(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(Yc),c=l.registerField;this.cancelRegisterFunc=c(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,c;return l?c=a:C.isValidElement(a)?c=C.cloneElement(a,this.getControlled(a.props)):(wi(!a,"`children` of Field is not validate ReactElement."),c=a),C.createElement(C.Fragment,{key:i},c)}}]),n}(C.Component);xe(FT,"contextType",Cu);xe(FT,"defaultProps",{trigger:"onChange",valuePropName:"value"});function NT(t){var e,n=t.name,r=On(t,vre),i=C.useContext(Cu),o=C.useContext(Cm),s=n!==void 0?wr(n):void 0,a=(e=r.isListField)!==null&&e!==void 0?e:!!o,l="keep";return a||(l="_".concat((s||[]).join("_"))),C.createElement(FT,Xt({key:l,name:s,isListField:a},r,{fieldContext:i}))}function AH(t){var e=t.name,n=t.initialValue,r=t.children,i=t.rules,o=t.validateTrigger,s=t.isListField,a=C.useContext(Cu),l=C.useContext(Cm),c=C.useRef({keys:[],id:0}),u=c.current,d=C.useMemo(function(){var x=wr(a.prefixName)||[];return[].concat(pt(x),pt(wr(e)))},[a.prefixName,e]),f=C.useMemo(function(){return Ce(Ce({},a),{},{prefixName:d})},[a,d]),m=C.useMemo(function(){return{getKey:function(y){var g=d.length,S=y[g];return[u.keys[S],y.slice(g+1)]}}},[d]);if(typeof r!="function")return wi(!1,"Form.List only accepts function as children."),null;var v=function(y,g,S){var _=S.source;return _==="internal"?!1:y!==g};return C.createElement(Cm.Provider,{value:m},C.createElement(Cu.Provider,{value:f},C.createElement(NT,{name:[],shouldUpdate:v,rules:i,validateTrigger:o,initialValue:n,isList:!0,isListField:s??!!l},function(x,y){var g=x.value,S=g===void 0?[]:g,_=x.onChange,w=a.getFieldValue,A=function(){var T=w(d||[]);return T||[]},M={add:function(T,E){var B=A();E>=0&&E<=B.length?(u.keys=[].concat(pt(u.keys.slice(0,E)),[u.id],pt(u.keys.slice(E))),_([].concat(pt(B.slice(0,E)),[T],pt(B.slice(E))))):(u.keys=[].concat(pt(u.keys),[u.id]),_([].concat(pt(B),[T]))),u.id+=1},remove:function(T){var E=A(),B=new Set(Array.isArray(T)?T:[T]);B.size<=0||(u.keys=u.keys.filter(function(F,L){return!B.has(L)}),_(E.filter(function(F,L){return!B.has(L)})))},move:function(T,E){if(T!==E){var B=A();T<0||T>=B.length||E<0||E>=B.length||(u.keys=PL(u.keys,T,E),_(PL(B,T,E)))}}},P=S||[];return Array.isArray(P)||(P=[]),r(P.map(function(I,T){var E=u.keys[T];return E===void 0&&(u.keys[T]=u.id,E=u.keys[T],u.id+=1),{name:T,key:E,isListField:!0}}),M,y)})))}function yre(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var TH="__@field_split__";function cC(t){return t.map(function(e){return"".concat($t(e),":").concat(e)}).join(TH)}var td=function(){function t(){Gr(this,t),xe(this,"kvs",new Map)}return $r(t,[{key:"set",value:function(n,r){this.kvs.set(cC(n),r)}},{key:"get",value:function(n){return this.kvs.get(cC(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(cC(n))}},{key:"map",value:function(n){return pt(this.kvs.entries()).map(function(r){var i=ke(r,2),o=i[0],s=i[1],a=o.split(TH);return n({key:a.map(function(l){var c=l.match(/^([^:]*):(.*)$/),u=ke(c,3),d=u[1],f=u[2];return d==="number"?Number(f):f}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),xre=["name"],Sre=$r(function t(e){var n=this;Gr(this,t),xe(this,"formHooked",!1),xe(this,"forceRootUpdate",void 0),xe(this,"subscribable",!0),xe(this,"store",{}),xe(this,"fieldEntities",[]),xe(this,"initialValues",{}),xe(this,"callbacks",{}),xe(this,"validateMessages",null),xe(this,"preserve",null),xe(this,"lastValidatePromise",null),xe(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),xe(this,"getInternalHooks",function(r){return r===Yc?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(wi(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),xe(this,"useSubscribe",function(r){n.subscribable=r}),xe(this,"prevWithoutPreserves",null),xe(this,"setInitialValues",function(r,i){if(n.initialValues=r||{},i){var o,s=Jd(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=Wo(s,l,qo(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}}),xe(this,"destroyForm",function(r){if(r)n.updateStore({});else{var i=new td;n.getFieldEntities(!0).forEach(function(o){n.isMergedPreserve(o.isPreserve())||i.set(o.getNamePath(),!0)}),n.prevWithoutPreserves=i}}),xe(this,"getInitialValue",function(r){var i=qo(n.initialValues,r);return r.length?Jd(i):i}),xe(this,"setCallbacks",function(r){n.callbacks=r}),xe(this,"setValidateMessages",function(r){n.validateMessages=r}),xe(this,"setPreserve",function(r){n.preserve=r}),xe(this,"watchList",[]),xe(this,"registerWatch",function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}}),xe(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}}),xe(this,"timeoutId",null),xe(this,"warningUnhooked",function(){}),xe(this,"updateStore",function(r){n.store=r}),xe(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities}),xe(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new td;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i}),xe(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=wr(o);return i.get(s)||{INVALIDATE_NAME_PATH:wr(o)}})}),xe(this,"getFieldsValue",function(r,i){n.warningUnhooked();var o,s,a;if(r===!0||Array.isArray(r)?(o=r,s=i):r&&$t(r)==="object"&&(a=r.strict,s=r.filter),o===!0&&!s)return n.store;var l=n.getFieldEntitiesForNamePathList(Array.isArray(o)?o:null),c=[];return l.forEach(function(u){var d,f,m="INVALIDATE_NAME_PATH"in u?u.INVALIDATE_NAME_PATH:u.getNamePath();if(a){var v,x;if((v=(x=u).isList)!==null&&v!==void 0&&v.call(x))return}else if(!o&&(d=(f=u).isListField)!==null&&d!==void 0&&d.call(f))return;if(!s)c.push(m);else{var y="getMeta"in u?u.getMeta():null;s(y)&&c.push(m)}}),RL(n.store,c.map(wr))}),xe(this,"getFieldValue",function(r){n.warningUnhooked();var i=wr(r);return qo(n.store,i)}),xe(this,"getFieldsError",function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:wr(r[s]),errors:[],warnings:[]}})}),xe(this,"getFieldError",function(r){n.warningUnhooked();var i=wr(r),o=n.getFieldsError([i])[0];return o.errors}),xe(this,"getFieldWarning",function(r){n.warningUnhooked();var i=wr(r),o=n.getFieldsError([i])[0];return o.warnings}),xe(this,"isFieldsTouched",function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(wr),c=!1):(l=null,c=s):(l=s.map(wr),c=a);var u=n.getFieldEntities(!0),d=function(y){return y.isFieldTouched()};if(!l)return c?u.every(function(x){return d(x)||x.isList()}):u.some(d);var f=new td;l.forEach(function(x){f.set(x,[])}),u.forEach(function(x){var y=x.getNamePath();l.forEach(function(g){g.every(function(S,_){return y[_]===S})&&f.update(g,function(S){return[].concat(pt(S),[x])})})});var m=function(y){return y.some(d)},v=f.map(function(x){var y=x.value;return y});return c?v.every(m):v.some(m)}),xe(this,"isFieldTouched",function(r){return n.warningUnhooked(),n.isFieldsTouched([r])}),xe(this,"isFieldsValidating",function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(wr);return i.some(function(s){var a=s.getNamePath();return df(o,a)&&s.isFieldValidating()})}),xe(this,"isFieldValidating",function(r){return n.warningUnhooked(),n.isFieldsValidating([r])}),xe(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new td,o=n.getFieldEntities(!0);o.forEach(function(l){var c=l.props.initialValue,u=l.getNamePath();if(c!==void 0){var d=i.get(u)||new Set;d.add({entity:l,value:c}),i.set(u,d)}});var s=function(c){c.forEach(function(u){var d=u.props.initialValue;if(d!==void 0){var f=u.getNamePath(),m=n.getInitialValue(f);if(m!==void 0)wi(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var v=i.get(f);if(v&&v.size>1)wi(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(v){var x=n.getFieldValue(f),y=u.isListField();!y&&(!r.skipExist||x===void 0)&&n.updateStore(Wo(n.store,f,pt(v)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var u;(u=a).push.apply(u,pt(pt(c).map(function(d){return d.entity})))}})):a=o,s(a)}),xe(this,"resetFields",function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(Jd(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(wr);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(Wo(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)}),xe(this,"setFields",function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=On(s,xre),c=wr(a);o.push(c),"value"in l&&n.updateStore(Wo(n.store,c,l.value)),n.notifyObservers(i,[c],{type:"setField",data:s})}),n.notifyWatch(o)}),xe(this,"getFields",function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=Ce(Ce({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),xe(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=qo(n.store,o);s===void 0&&n.updateStore(Wo(n.store,o,i))}}),xe(this,"isMergedPreserve",function(r){var i=r!==void 0?r:n.preserve;return i??!0}),xe(this,"registerField",function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var c=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==c&&n.fieldEntities.every(function(d){return!MH(d.getNamePath(),i)})){var u=n.store;n.updateStore(Wo(u,i,c,!0)),n.notifyObservers(u,[i],{type:"remove"}),n.triggerDependenciesUpdate(u,i)}}n.notifyWatch([i])}}),xe(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}}),xe(this,"notifyObservers",function(r,i,o){if(n.subscribable){var s=Ce(Ce({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()}),xe(this,"triggerDependenciesUpdate",function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(pt(o))}),o}),xe(this,"updateValue",function(r,i){var o=wr(r),s=n.store;n.updateStore(Wo(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var c=RL(n.store,[o]);l(c,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(pt(a)))}),xe(this,"setFieldsValue",function(r){n.warningUnhooked();var i=n.store;if(r){var o=Jd(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),xe(this,"setFieldValue",function(r,i){n.setFields([{name:r,value:i,errors:[],warnings:[]}])}),xe(this,"getDependencyChildrenFields",function(r){var i=new Set,o=[],s=new td;n.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(u){var d=wr(u);s.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var a=function l(c){var u=s.get(c)||new Set;u.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return a(r),o}),xe(this,"triggerOnFieldsChange",function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new td;i.forEach(function(c){var u=c.name,d=c.errors;a.set(u,d)}),s.forEach(function(c){c.errors=a.get(c.name)||c.errors})}var l=s.filter(function(c){var u=c.name;return df(r,u)});l.length&&o(l,s)}}),xe(this,"validateFields",function(r,i){n.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(wr):[],c=[],u=String(Date.now()),d=new Set,f=s||{},m=f.recursive,v=f.dirty;n.getFieldEntities(!0).forEach(function(S){if(a||l.push(S.getNamePath()),!(!S.props.rules||!S.props.rules.length)&&!(v&&!S.isFieldDirty())){var _=S.getNamePath();if(d.add(_.join(u)),!a||df(l,_,m)){var w=S.validateRules(Ce({validateMessages:Ce(Ce({},EH),n.validateMessages)},s));c.push(w.then(function(){return{name:_,errors:[],warnings:[]}}).catch(function(A){var M,P=[],I=[];return(M=A.forEach)===null||M===void 0||M.call(A,function(T){var E=T.rule.warningOnly,B=T.errors;E?I.push.apply(I,pt(B)):P.push.apply(P,pt(B))}),P.length?Promise.reject({name:_,errors:P,warnings:I}):{name:_,errors:P,warnings:I}}))}}});var x=yre(c);n.lastValidatePromise=x,x.catch(function(S){return S}).then(function(S){var _=S.map(function(w){var A=w.name;return A});n.notifyObservers(n.store,_,{type:"validateFinish"}),n.triggerOnFieldsChange(_,S)});var y=x.then(function(){return n.lastValidatePromise===x?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(S){var _=S.filter(function(w){return w&&w.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:_,outOfDate:n.lastValidatePromise!==x})});y.catch(function(S){return S});var g=l.filter(function(S){return d.has(S.join(u))});return n.triggerOnFieldsChange(g),y}),xe(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function UT(t){var e=C.useRef(),n=C.useState({}),r=ke(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},s=new Sre(o);e.current=s.getForm()}return[e.current]}var PE=C.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),RH=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=C.useContext(PE),a=C.useRef({});return C.createElement(PE.Provider,{value:Ce(Ce({},s),{},{validateMessages:Ce(Ce({},s.validateMessages),n),triggerFormChange:function(c,u){r&&r(c,{changedFields:u,forms:a.current}),s.triggerFormChange(c,u)},triggerFormFinish:function(c,u){i&&i(c,{values:u,forms:a.current}),s.triggerFormFinish(c,u)},registerForm:function(c,u){c&&(a.current=Ce(Ce({},a.current),{},xe({},c,u))),s.registerForm(c,u)},unregisterForm:function(c){var u=Ce({},a.current);delete u[c],a.current=u,s.unregisterForm(c)}})},o)},_re=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Cre=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,c=e.component,u=c===void 0?"form":c,d=e.validateMessages,f=e.validateTrigger,m=f===void 0?"onChange":f,v=e.onValuesChange,x=e.onFieldsChange,y=e.onFinish,g=e.onFinishFailed,S=e.clearOnDestroy,_=On(e,_re),w=C.useRef(null),A=C.useContext(PE),M=UT(s),P=ke(M,1),I=P[0],T=I.getInternalHooks(Yc),E=T.useSubscribe,B=T.setInitialValues,F=T.setCallbacks,L=T.setValidateMessages,z=T.setPreserve,G=T.destroyForm;C.useImperativeHandle(n,function(){return Ce(Ce({},I),{},{nativeElement:w.current})}),C.useEffect(function(){return A.registerForm(r,I),function(){A.unregisterForm(r)}},[A,I,r]),L(Ce(Ce({},A.validateMessages),d)),F({onValuesChange:v,onFieldsChange:function(K){if(A.triggerFormChange(r,K),x){for(var te=arguments.length,ae=new Array(te>1?te-1:0),de=1;de<te;de++)ae[de-1]=arguments[de];x.apply(void 0,[K].concat(ae))}},onFinish:function(K){A.triggerFormFinish(r,K),y&&y(K)},onFinishFailed:g}),z(a);var j=C.useRef(null);B(i,!j.current),j.current||(j.current=!0),C.useEffect(function(){return function(){return G(S)}},[]);var X,N=typeof l=="function";if(N){var W=I.getFieldsValue(!0);X=l(W,I)}else X=l;E(!N);var V=C.useRef();C.useEffect(function(){mre(V.current||[],o||[])||I.setFields(o||[]),V.current=o},[o,I]);var ee=C.useMemo(function(){return Ce(Ce({},I),{},{validateTrigger:m})},[I,m]),se=C.createElement(Cm.Provider,{value:null},C.createElement(Cu.Provider,{value:ee},X));return u===!1?se:C.createElement(u,Xt({},_,{ref:w,onSubmit:function(K){K.preventDefault(),K.stopPropagation(),I.submit()},onReset:function(K){var te;K.preventDefault(),I.resetFields(),(te=_.onReset)===null||te===void 0||te.call(_,K)}}),se)};function IL(t){try{return JSON.stringify(t)}catch{return Math.random()}}function PH(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e[1],o=i===void 0?{}:i,s=One(o)?{form:o}:o,a=s.form,l=C.useState(),c=ke(l,2),u=c[0],d=c[1],f=C.useMemo(function(){return IL(u)},[u]),m=C.useRef(f);m.current=f;var v=C.useContext(Cu),x=a||v,y=x&&x._init,g=wr(r),S=C.useRef(g);return S.current=g,C.useEffect(function(){if(y){var _=x.getFieldsValue,w=x.getInternalHooks,A=w(Yc),M=A.registerWatch,P=function(B,F){var L=s.preserve?F:B;return typeof r=="function"?r(L):qo(L,S.current)},I=M(function(E,B){var F=P(E,B),L=IL(F);m.current!==L&&(m.current=L,d(F))}),T=P(_(),_(!0));return u!==T&&d(T),I}},[y]),u}var bre=C.forwardRef(Cre),eh=bre;eh.FormProvider=RH;eh.Field=NT;eh.List=AH;eh.useForm=UT;eh.useWatch=PH;const Ga=C.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),IH=C.createContext(null),BH=t=>{const e=Ru(t,["prefixCls"]);return C.createElement(RH,Object.assign({},e))},kT=C.createContext({prefixCls:""}),Co=C.createContext({}),wre=t=>{let{children:e,status:n,override:r}=t;const i=C.useContext(Co),o=C.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return C.createElement(Co.Provider,{value:o},e)},OH=C.createContext(void 0),Ere=t=>{const{space:e,form:n,children:r}=t;if(r==null)return null;let i=r;return n&&(i=tt.createElement(wre,{override:!0,status:!0},i)),e&&(i=tt.createElement(tte,null,i)),i},IE=Ere,Mre=t=>{const{componentCls:e}=t;return{[e]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Are=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",maxWidth:"100%",minHeight:1}}},Tre=(t,e)=>{const{prefixCls:n,componentCls:r,gridColumns:i}=t,o={};for(let s=i;s>=0;s--)s===0?(o[`${r}${e}-${s}`]={display:"none"},o[`${r}-push-${s}`]={insetInlineStart:"auto"},o[`${r}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-push-${s}`]={insetInlineStart:"auto"},o[`${r}${e}-pull-${s}`]={insetInlineEnd:"auto"},o[`${r}${e}-offset-${s}`]={marginInlineStart:0},o[`${r}${e}-order-${s}`]={order:0}):(o[`${r}${e}-${s}`]=[{"--ant-display":"block",display:"block"},{display:"var(--ant-display)",flex:`0 0 ${s/i*100}%`,maxWidth:`${s/i*100}%`}],o[`${r}${e}-push-${s}`]={insetInlineStart:`${s/i*100}%`},o[`${r}${e}-pull-${s}`]={insetInlineEnd:`${s/i*100}%`},o[`${r}${e}-offset-${s}`]={marginInlineStart:`${s/i*100}%`},o[`${r}${e}-order-${s}`]={order:s});return o[`${r}${e}-flex`]={flex:`var(--${n}${e}-flex)`},o},BE=(t,e)=>Tre(t,e),Rre=(t,e,n)=>({[`@media (min-width: ${Ct(e)})`]:Object.assign({},BE(t,n))}),Pre=()=>({}),Ire=()=>({}),Bre=Ao("Grid",Mre,Pre),Ore=t=>({xs:t.screenXSMin,sm:t.screenSMMin,md:t.screenMDMin,lg:t.screenLGMin,xl:t.screenXLMin,xxl:t.screenXXLMin}),Lre=Ao("Grid",t=>{const e=or(t,{gridColumns:24}),n=Ore(e);return delete n.xs,[Are(e),BE(e,""),BE(e,"-xs"),Object.keys(n).map(r=>Rre(e,n[r],`-${r}`)).reduce((r,i)=>Object.assign(Object.assign({},r),i),{})]},Ire),Dre=tt.createContext({});function Fre(t){return e=>C.createElement(AT,{theme:{token:{motion:!1,zIndexPopupBase:0}}},C.createElement(t,Object.assign({},e)))}const Nre=(t,e,n,r,i)=>Fre(s=>{const{prefixCls:a,style:l}=s,c=C.useRef(null),[u,d]=C.useState(0),[f,m]=C.useState(0),[v,x]=Va(!1,{value:s.open}),{getPrefixCls:y}=C.useContext(Wn),g=y(r||"select",a);C.useEffect(()=>{if(x(!0),typeof ResizeObserver<"u"){const w=new ResizeObserver(M=>{const P=M[0].target;d(P.offsetHeight+8),m(P.offsetWidth)}),A=setInterval(()=>{var M;const P=i?`.${i(g)}`:`.${g}-dropdown`,I=(M=c.current)===null||M===void 0?void 0:M.querySelector(P);I&&(clearInterval(A),w.observe(I))},10);return()=>{clearInterval(A),w.disconnect()}}},[]);let S=Object.assign(Object.assign({},s),{style:Object.assign(Object.assign({},l),{margin:0}),open:v,visible:v,getPopupContainer:()=>c.current});n&&(S=n(S)),e&&Object.assign(S,{[e]:{overflow:{adjustX:!1,adjustY:!1}}});const _={paddingBottom:u,position:"relative",minWidth:f};return C.createElement("div",{ref:c,style:_},C.createElement(t,Object.assign({},S)))}),Ure=Nre,LH=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var CS=function(e){var n=e.className,r=e.customizeIcon,i=e.customizeIconProps,o=e.children,s=e.onMouseDown,a=e.onClick,l=typeof r=="function"?r(i):r;return C.createElement("span",{className:n,onMouseDown:function(u){u.preventDefault(),s==null||s(u)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:a,"aria-hidden":!0},l!==void 0?l:C.createElement("span",{className:nt(n.split(/\s+/).map(function(c){return"".concat(c,"-icon")}))},o))},kre=function(e,n,r,i,o){var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=tt.useMemo(function(){if($t(i)==="object")return i.clearIcon;if(o)return o},[i,o]),u=tt.useMemo(function(){return!!(!s&&i&&(r.length||a)&&!(l==="combobox"&&a===""))},[i,s,r.length,a,l]);return{allowClear:u,clearIcon:tt.createElement(CS,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:c},"×")}},DH=C.createContext(null);function zre(){return C.useContext(DH)}function Hre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=C.useState(!1),n=ke(e,2),r=n[0],i=n[1],o=C.useRef(null),s=function(){window.clearTimeout(o.current)};C.useEffect(function(){return s},[]);var a=function(c,u){s(),o.current=window.setTimeout(function(){i(c),u&&u()},t)};return[r,a,s]}function FH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=C.useRef(null),n=C.useRef(null);C.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function r(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},r]}function Vre(t,e,n,r){var i=C.useRef(null);i.current={open:e,triggerOpen:n,customizedTrigger:r},C.useEffect(function(){function o(s){var a;if(!((a=i.current)!==null&&a!==void 0&&a.customizedTrigger)){var l=s.target;l.shadowRoot&&s.composed&&(l=s.composedPath()[0]||l),i.current.open&&t().filter(function(c){return c}).every(function(c){return!c.contains(l)&&c!==l})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",o),function(){return window.removeEventListener("mousedown",o)}},[])}function Gre(t){return t&&![rt.ESC,rt.SHIFT,rt.BACKSPACE,rt.TAB,rt.WIN_KEY,rt.ALT,rt.META,rt.WIN_KEY_RIGHT,rt.CTRL,rt.SEMICOLON,rt.EQUALS,rt.CAPS_LOCK,rt.CONTEXT_MENU,rt.F1,rt.F2,rt.F3,rt.F4,rt.F5,rt.F6,rt.F7,rt.F8,rt.F9,rt.F10,rt.F11,rt.F12].includes(t)}var $re=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],nd=void 0;function Wre(t,e){var n=t.prefixCls,r=t.invalidate,i=t.item,o=t.renderItem,s=t.responsive,a=t.responsiveDisabled,l=t.registerSize,c=t.itemKey,u=t.className,d=t.style,f=t.children,m=t.display,v=t.order,x=t.component,y=x===void 0?"div":x,g=On(t,$re),S=s&&!m;function _(I){l(c,I)}C.useEffect(function(){return function(){_(null)}},[]);var w=o&&i!==nd?o(i,{index:v}):f,A;r||(A={opacity:S?0:1,height:S?0:nd,overflowY:S?"hidden":nd,order:s?v:nd,pointerEvents:S?"none":nd,position:S?"absolute":nd});var M={};S&&(M["aria-hidden"]=!0);var P=C.createElement(y,Xt({className:nt(!r&&n,u),style:Ce(Ce({},A),d)},M,g,{ref:e}),w);return s&&(P=C.createElement(tc,{onResize:function(T){var E=T.offsetWidth;_(E)},disabled:a},P)),P}var Op=C.forwardRef(Wre);Op.displayName="Item";function jre(t){if(typeof MessageChannel>"u")Gn(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function Xre(){var t=C.useRef(null),e=function(r){t.current||(t.current=[],jre(function(){ka.unstable_batchedUpdates(function(){t.current.forEach(function(i){i()}),t.current=null})})),t.current.push(r)};return e}function zh(t,e){var n=C.useState(e),r=ke(n,2),i=r[0],o=r[1],s=lr(function(a){t(function(){o(a)})});return[i,s]}var px=tt.createContext(null),Kre=["component"],Jre=["className"],Yre=["className"],qre=function(e,n){var r=C.useContext(px);if(!r){var i=e.component,o=i===void 0?"div":i,s=On(e,Kre);return C.createElement(o,Xt({},s,{ref:n}))}var a=r.className,l=On(r,Jre),c=e.className,u=On(e,Yre);return C.createElement(px.Provider,{value:null},C.createElement(Op,Xt({ref:n,className:nt(a,c)},l,u)))},NH=C.forwardRef(qre);NH.displayName="RawItem";var Qre=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],UH="responsive",kH="invalidate";function Zre(t){return"+ ".concat(t.length," ...")}function eie(t,e){var n=t.prefixCls,r=n===void 0?"rc-overflow":n,i=t.data,o=i===void 0?[]:i,s=t.renderItem,a=t.renderRawItem,l=t.itemKey,c=t.itemWidth,u=c===void 0?10:c,d=t.ssr,f=t.style,m=t.className,v=t.maxCount,x=t.renderRest,y=t.renderRawRest,g=t.suffix,S=t.component,_=S===void 0?"div":S,w=t.itemComponent,A=t.onVisibleChange,M=On(t,Qre),P=d==="full",I=Xre(),T=zh(I,null),E=ke(T,2),B=E[0],F=E[1],L=B||0,z=zh(I,new Map),G=ke(z,2),j=G[0],X=G[1],N=zh(I,0),W=ke(N,2),V=W[0],ee=W[1],se=zh(I,0),me=ke(se,2),K=me[0],te=me[1],ae=zh(I,0),de=ke(ae,2),_e=de[0],Re=de[1],Te=C.useState(null),Y=ke(Te,2),Q=Y[0],ie=Y[1],ye=C.useState(null),fe=ke(ye,2),pe=fe[0],$=fe[1],U=C.useMemo(function(){return pe===null&&P?Number.MAX_SAFE_INTEGER:pe||0},[pe,B]),le=C.useState(!1),be=ke(le,2),we=be[0],Oe=be[1],De="".concat(r,"-item"),ge=Math.max(V,K),Fe=v===UH,Xe=o.length&&Fe,Ne=v===kH,He=Xe||typeof v=="number"&&o.length>v,Ye=C.useMemo(function(){var st=o;return Xe?B===null&&P?st=o:st=o.slice(0,Math.min(o.length,L/u)):typeof v=="number"&&(st=o.slice(0,v)),st},[o,u,B,v,Xe]),Ke=C.useMemo(function(){return Xe?o.slice(U+1):o.slice(Ye.length)},[o,Ye,Xe,U]),We=C.useCallback(function(st,ut){var lt;return typeof l=="function"?l(st):(lt=l&&(st==null?void 0:st[l]))!==null&&lt!==void 0?lt:ut},[l]),ot=C.useCallback(s||function(st){return st},[s]);function je(st,ut,lt){pe===st&&(ut===void 0||ut===Q)||($(st),lt||(Oe(st<o.length-1),A==null||A(st)),ut!==void 0&&ie(ut))}function Ze(st,ut){F(ut.clientWidth)}function ft(st,ut){X(function(lt){var Gt=new Map(lt);return ut===null?Gt.delete(st):Gt.set(st,ut),Gt})}function he(st,ut){te(ut),ee(K)}function Ee(st,ut){Re(ut)}function Z(st){return j.get(We(Ye[st],st))}Vn(function(){if(L&&typeof ge=="number"&&Ye){var st=_e,ut=Ye.length,lt=ut-1;if(!ut){je(0,null);return}for(var Gt=0;Gt<ut;Gt+=1){var yn=Z(Gt);if(P&&(yn=yn||0),yn===void 0){je(Gt-1,void 0,!0);break}if(st+=yn,lt===0&&st<=L||Gt===lt-1&&st+Z(lt)<=L){je(lt,null);break}else if(st+ge>L){je(Gt-1,st-yn-_e+K);break}}g&&Z(0)+_e>L&&ie(null)}},[L,j,K,_e,We,Ye]);var ze=we&&!!Ke.length,Pe={};Q!==null&&Xe&&(Pe={position:"absolute",left:Q,top:0});var ct={prefixCls:De,responsive:Xe,component:w,invalidate:Ne},at=a?function(st,ut){var lt=We(st,ut);return C.createElement(px.Provider,{key:lt,value:Ce(Ce({},ct),{},{order:ut,item:st,itemKey:lt,registerSize:ft,display:ut<=U})},a(st,ut))}:function(st,ut){var lt=We(st,ut);return C.createElement(Op,Xt({},ct,{order:ut,key:lt,item:st,renderItem:ot,itemKey:lt,registerSize:ft,display:ut<=U}))},Ft={order:ze?U:Number.MAX_SAFE_INTEGER,className:"".concat(De,"-rest"),registerSize:he,display:ze},Dt=x||Zre,Lt=y?C.createElement(px.Provider,{value:Ce(Ce({},ct),Ft)},y(Ke)):C.createElement(Op,Xt({},ct,Ft),typeof Dt=="function"?Dt(Ke):Dt),Pt=C.createElement(_,Xt({className:nt(!Ne&&r,m),style:f,ref:e},M),Ye.map(at),He?Lt:null,g&&C.createElement(Op,Xt({},ct,{responsive:Fe,responsiveDisabled:!Xe,order:U,className:"".concat(De,"-suffix"),registerSize:Ee,display:!0,style:Pe}),g));return Fe?C.createElement(tc,{onResize:Ze,disabled:!Xe},Pt):Pt}var cg=C.forwardRef(eie);cg.displayName="Overflow";cg.Item=NH;cg.RESPONSIVE=UH;cg.INVALIDATE=kH;var tie=function(e,n){var r,i=e.prefixCls,o=e.id,s=e.inputElement,a=e.disabled,l=e.tabIndex,c=e.autoFocus,u=e.autoComplete,d=e.editable,f=e.activeDescendantId,m=e.value,v=e.maxLength,x=e.onKeyDown,y=e.onMouseDown,g=e.onChange,S=e.onPaste,_=e.onCompositionStart,w=e.onCompositionEnd,A=e.onBlur,M=e.open,P=e.attrs,I=s||C.createElement("input",null),T=I,E=T.ref,B=T.props,F=B.onKeyDown,L=B.onChange,z=B.onMouseDown,G=B.onCompositionStart,j=B.onCompositionEnd,X=B.onBlur,N=B.style;return"maxLength"in I.props,I=C.cloneElement(I,Ce(Ce(Ce({type:"search"},B),{},{id:o,ref:sa(n,E),disabled:a,tabIndex:l,autoComplete:u||"off",autoFocus:c,className:nt("".concat(i,"-selection-search-input"),(r=I)===null||r===void 0||(r=r.props)===null||r===void 0?void 0:r.className),role:"combobox","aria-expanded":M||!1,"aria-haspopup":"listbox","aria-owns":"".concat(o,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(o,"_list"),"aria-activedescendant":M?f:void 0},P),{},{value:d?m:"",maxLength:v,readOnly:!d,unselectable:d?null:"on",style:Ce(Ce({},N),{},{opacity:d?null:0}),onKeyDown:function(V){x(V),F&&F(V)},onMouseDown:function(V){y(V),z&&z(V)},onChange:function(V){g(V),L&&L(V)},onCompositionStart:function(V){_(V),G&&G(V)},onCompositionEnd:function(V){w(V),j&&j(V)},onPaste:S,onBlur:function(V){A(V),X&&X(V)}})),I},zH=C.forwardRef(tie);function HH(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var nie=typeof window<"u"&&window.document&&window.document.documentElement,rie=nie;function iie(t){return t!=null}function oie(t){return!t&&t!==0}function BL(t){return["string","number"].includes($t(t))}function VH(t){var e=void 0;return t&&(BL(t.title)?e=t.title.toString():BL(t.label)&&(e=t.label.toString())),e}function sie(t,e){rie?C.useLayoutEffect(t,e):C.useEffect(t,e)}function aie(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var OL=function(e){e.preventDefault(),e.stopPropagation()},lie=function(e){var n=e.id,r=e.prefixCls,i=e.values,o=e.open,s=e.searchValue,a=e.autoClearSearchValue,l=e.inputRef,c=e.placeholder,u=e.disabled,d=e.mode,f=e.showSearch,m=e.autoFocus,v=e.autoComplete,x=e.activeDescendantId,y=e.tabIndex,g=e.removeIcon,S=e.maxTagCount,_=e.maxTagTextLength,w=e.maxTagPlaceholder,A=w===void 0?function(ye){return"+ ".concat(ye.length," ...")}:w,M=e.tagRender,P=e.onToggleOpen,I=e.onRemove,T=e.onInputChange,E=e.onInputPaste,B=e.onInputKeyDown,F=e.onInputMouseDown,L=e.onInputCompositionStart,z=e.onInputCompositionEnd,G=e.onInputBlur,j=C.useRef(null),X=C.useState(0),N=ke(X,2),W=N[0],V=N[1],ee=C.useState(!1),se=ke(ee,2),me=se[0],K=se[1],te="".concat(r,"-selection"),ae=o||d==="multiple"&&a===!1||d==="tags"?s:"",de=d==="tags"||d==="multiple"&&a===!1||f&&(o||me);sie(function(){V(j.current.scrollWidth)},[ae]);var _e=function(fe,pe,$,U,le){return C.createElement("span",{title:VH(fe),className:nt("".concat(te,"-item"),xe({},"".concat(te,"-item-disabled"),$))},C.createElement("span",{className:"".concat(te,"-item-content")},pe),U&&C.createElement(CS,{className:"".concat(te,"-item-remove"),onMouseDown:OL,onClick:le,customizeIcon:g},"×"))},Re=function(fe,pe,$,U,le,be){var we=function(De){OL(De),P(!o)};return C.createElement("span",{onMouseDown:we},M({label:pe,value:fe,disabled:$,closable:U,onClose:le,isMaxTag:!!be}))},Te=function(fe){var pe=fe.disabled,$=fe.label,U=fe.value,le=!u&&!pe,be=$;if(typeof _=="number"&&(typeof $=="string"||typeof $=="number")){var we=String(be);we.length>_&&(be="".concat(we.slice(0,_),"..."))}var Oe=function(ge){ge&&ge.stopPropagation(),I(fe)};return typeof M=="function"?Re(U,be,pe,le,Oe):_e(fe,be,pe,le,Oe)},Y=function(fe){if(!i.length)return null;var pe=typeof A=="function"?A(fe):A;return typeof M=="function"?Re(void 0,pe,!1,!1,void 0,!0):_e({title:pe},pe,!1)},Q=C.createElement("div",{className:"".concat(te,"-search"),style:{width:W},onFocus:function(){K(!0)},onBlur:function(){K(!1)}},C.createElement(zH,{ref:l,open:o,prefixCls:r,id:n,inputElement:null,disabled:u,autoFocus:m,autoComplete:v,editable:de,activeDescendantId:x,value:ae,onKeyDown:B,onMouseDown:F,onChange:T,onPaste:E,onCompositionStart:L,onCompositionEnd:z,onBlur:G,tabIndex:y,attrs:Pf(e,!0)}),C.createElement("span",{ref:j,className:"".concat(te,"-search-mirror"),"aria-hidden":!0},ae," ")),ie=C.createElement(cg,{prefixCls:"".concat(te,"-overflow"),data:i,renderItem:Te,renderRest:Y,suffix:Q,itemKey:aie,maxCount:S});return C.createElement("span",{className:"".concat(te,"-wrap")},ie,!i.length&&!ae&&C.createElement("span",{className:"".concat(te,"-placeholder")},c))},cie=function(e){var n=e.inputElement,r=e.prefixCls,i=e.id,o=e.inputRef,s=e.disabled,a=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,f=e.values,m=e.placeholder,v=e.tabIndex,x=e.showSearch,y=e.searchValue,g=e.activeValue,S=e.maxLength,_=e.onInputKeyDown,w=e.onInputMouseDown,A=e.onInputChange,M=e.onInputPaste,P=e.onInputCompositionStart,I=e.onInputCompositionEnd,T=e.onInputBlur,E=e.title,B=C.useState(!1),F=ke(B,2),L=F[0],z=F[1],G=u==="combobox",j=G||x,X=f[0],N=y||"";G&&g&&!L&&(N=g),C.useEffect(function(){G&&z(!1)},[G,g]);var W=u!=="combobox"&&!d&&!x?!1:!!N,V=E===void 0?VH(X):E,ee=C.useMemo(function(){return X?null:C.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:W?{visibility:"hidden"}:void 0},m)},[X,W,m,r]);return C.createElement("span",{className:"".concat(r,"-selection-wrap")},C.createElement("span",{className:"".concat(r,"-selection-search")},C.createElement(zH,{ref:o,prefixCls:r,id:i,open:d,inputElement:n,disabled:s,autoFocus:a,autoComplete:l,editable:j,activeDescendantId:c,value:N,onKeyDown:_,onMouseDown:w,onChange:function(me){z(!0),A(me)},onPaste:M,onCompositionStart:P,onCompositionEnd:I,onBlur:T,tabIndex:v,attrs:Pf(e,!0),maxLength:G?S:void 0})),!G&&X?C.createElement("span",{className:"".concat(r,"-selection-item"),title:V,style:W?{visibility:"hidden"}:void 0},X.label):null,ee)},uie=function(e,n){var r=C.useRef(null),i=C.useRef(!1),o=e.prefixCls,s=e.open,a=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.disabled,d=e.prefix,f=e.autoClearSearchValue,m=e.onSearch,v=e.onSearchSubmit,x=e.onToggleOpen,y=e.onInputKeyDown,g=e.onInputBlur,S=e.domRef;C.useImperativeHandle(n,function(){return{focus:function(V){r.current.focus(V)},blur:function(){r.current.blur()}}});var _=FH(0),w=ke(_,2),A=w[0],M=w[1],P=function(V){var ee=V.which,se=r.current instanceof HTMLTextAreaElement;!se&&s&&(ee===rt.UP||ee===rt.DOWN)&&V.preventDefault(),y&&y(V),ee===rt.ENTER&&a==="tags"&&!i.current&&!s&&(v==null||v(V.target.value)),!(se&&!s&&~[rt.UP,rt.DOWN,rt.LEFT,rt.RIGHT].indexOf(ee))&&Gre(ee)&&x(!0)},I=function(){M(!0)},T=C.useRef(null),E=function(V){m(V,!0,i.current)!==!1&&x(!0)},B=function(){i.current=!0},F=function(V){i.current=!1,a!=="combobox"&&E(V.target.value)},L=function(V){var ee=V.target.value;if(c&&T.current&&/[\r\n]/.test(T.current)){var se=T.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");ee=ee.replace(se,T.current)}T.current=null,E(ee)},z=function(V){var ee=V.clipboardData,se=ee==null?void 0:ee.getData("text");T.current=se||""},G=function(V){var ee=V.target;if(ee!==r.current){var se=document.body.style.msTouchAction!==void 0;se?setTimeout(function(){r.current.focus()}):r.current.focus()}},j=function(V){var ee=A();V.target!==r.current&&!ee&&!(a==="combobox"&&u)&&V.preventDefault(),(a!=="combobox"&&(!l||!ee)||!s)&&(s&&f!==!1&&m("",!0,!1),x())},X={inputRef:r,onInputKeyDown:P,onInputMouseDown:I,onInputChange:L,onInputPaste:z,onInputCompositionStart:B,onInputCompositionEnd:F,onInputBlur:g},N=a==="multiple"||a==="tags"?C.createElement(lie,Xt({},e,X)):C.createElement(cie,Xt({},e,X));return C.createElement("div",{ref:S,className:"".concat(o,"-selector"),onClick:G,onMouseDown:j},d&&C.createElement("div",{className:"".concat(o,"-prefix")},d),N)},die=C.forwardRef(uie);function fie(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,c=l===void 0?0:l,u=i.y,d=u===void 0?0:u,f=C.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(n.autoArrow!==!1){var v=n.points[0],x=n.points[1],y=v[0],g=v[1],S=x[0],_=x[1];y===S||!["t","b"].includes(y)?m.top=d:y==="t"?m.top=0:m.bottom=0,g===_||!["l","r"].includes(g)?m.left=c:g==="l"?m.left=0:m.right=0}return C.createElement("div",{ref:f,className:nt("".concat(e,"-arrow"),s),style:m},a)}function hie(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?C.createElement(Qf,Xt({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return C.createElement("div",{style:{zIndex:r},className:nt("".concat(e,"-mask"),a)})}):null}var pie=C.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),mie=C.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,s=t.target,a=t.onVisibleChanged,l=t.open,c=t.keepDom,u=t.fresh,d=t.onClick,f=t.mask,m=t.arrow,v=t.arrowPos,x=t.align,y=t.motion,g=t.maskMotion,S=t.forceRender,_=t.getPopupContainer,w=t.autoDestroy,A=t.portal,M=t.zIndex,P=t.onMouseEnter,I=t.onMouseLeave,T=t.onPointerEnter,E=t.onPointerDownCapture,B=t.ready,F=t.offsetX,L=t.offsetY,z=t.offsetR,G=t.offsetB,j=t.onAlign,X=t.onPrepare,N=t.stretch,W=t.targetWidth,V=t.targetHeight,ee=typeof n=="function"?n():n,se=l||c,me=(_==null?void 0:_.length)>0,K=C.useState(!_||!me),te=ke(K,2),ae=te[0],de=te[1];if(Vn(function(){!ae&&me&&s&&de(!0)},[ae,me,s]),!ae)return null;var _e="auto",Re={left:"-1000vw",top:"-1000vh",right:_e,bottom:_e};if(B||!l){var Te,Y=x.points,Q=x.dynamicInset||((Te=x._experimental)===null||Te===void 0?void 0:Te.dynamicInset),ie=Q&&Y[0][1]==="r",ye=Q&&Y[0][0]==="b";ie?(Re.right=z,Re.left=_e):(Re.left=F,Re.right=_e),ye?(Re.bottom=G,Re.top=_e):(Re.top=L,Re.bottom=_e)}var fe={};return N&&(N.includes("height")&&V?fe.height=V:N.includes("minHeight")&&V&&(fe.minHeight=V),N.includes("width")&&W?fe.width=W:N.includes("minWidth")&&W&&(fe.minWidth=W)),l||(fe.pointerEvents="none"),C.createElement(A,{open:S||se,getContainer:_&&function(){return _(s)},autoDestroy:w},C.createElement(hie,{prefixCls:i,open:l,zIndex:M,mask:f,motion:g}),C.createElement(tc,{onResize:j,disabled:!l},function(pe){return C.createElement(Qf,Xt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:S,leavedClassName:"".concat(i,"-hidden")},y,{onAppearPrepare:X,onEnterPrepare:X,visible:l,onVisibleChanged:function(U){var le;y==null||(le=y.onVisibleChanged)===null||le===void 0||le.call(y,U),a(U)}}),function($,U){var le=$.className,be=$.style,we=nt(i,le,r);return C.createElement("div",{ref:sa(pe,e,U),className:we,style:Ce(Ce(Ce(Ce({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},Re),fe),be),{},{boxSizing:"border-box",zIndex:M},o),onMouseEnter:P,onMouseLeave:I,onPointerEnter:T,onClick:d,onPointerDownCapture:E},m&&C.createElement(fie,{prefixCls:i,arrow:m,arrowPos:v,align:x}),C.createElement(pie,{cache:!l&&!u},ee))})}))}),gie=C.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=Yf(n),o=C.useCallback(function(a){mT(e,r?r(a):a)},[r]),s=ng(o,rg(n));return i?C.cloneElement(n,{ref:s}):n}),LL=C.createContext(null);function DL(t){return t?Array.isArray(t)?t:[t]:[]}function vie(t,e,n,r){return C.useMemo(function(){var i=DL(n??e),o=DL(r??e),s=new Set(i),a=new Set(o);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function yie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function xie(t,e,n,r){for(var i=n.points,o=Object.keys(t),s=0;s<o.length;s+=1){var a,l=o[s];if(yie((a=t[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function FL(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function ug(t){return t.ownerDocument.defaultView}function OE(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=ug(n).getComputedStyle(n),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function bm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Hh(t){return bm(parseFloat(t),0)}function NL(t,e){var n=Ce({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement||r instanceof HTMLHtmlElement)){var i=ug(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,c=i.borderLeftWidth,u=i.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,m=r.clientHeight,v=r.offsetWidth,x=r.clientWidth,y=Hh(a),g=Hh(l),S=Hh(c),_=Hh(u),w=bm(Math.round(d.width/v*1e3)/1e3),A=bm(Math.round(d.height/f*1e3)/1e3),M=(v-x-S-_)*w,P=(f-m-y-g)*A,I=y*A,T=g*A,E=S*w,B=_*w,F=0,L=0;if(o==="clip"){var z=Hh(s);F=z*w,L=z*A}var G=d.x+E-F,j=d.y+I-L,X=G+d.width+2*F-E-B-M,N=j+d.height+2*L-I-T-P;n.left=Math.max(n.left,G),n.top=Math.max(n.top,j),n.right=Math.min(n.right,X),n.bottom=Math.min(n.bottom,N)}}),n}function UL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function kL(t,e){var n=e||[],r=ke(n,2),i=r[0],o=r[1];return[UL(t.width,i),UL(t.height,o)]}function zL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function rd(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function rl(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function Sie(t,e,n,r,i,o,s){var a=C.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=ke(a,2),c=l[0],u=l[1],d=C.useRef(0),f=C.useMemo(function(){return e?OE(e):[]},[e]),m=C.useRef({}),v=function(){m.current={}};t||v();var x=lr(function(){if(e&&n&&t){let ei=function(mn,ls){var Fs=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ge,uc=K.x+mn,Uu=K.y+ls,uh=uc+ie,xt=Uu+Q,qt=Math.max(uc,Fs.left),jn=Math.max(Uu,Fs.top),Yn=Math.min(uh,Fs.right),Xn=Math.min(xt,Fs.bottom);return Math.max(0,(Yn-qt)*(Xn-jn))},Ds=function(){D=K.y+lt,q=D+Q,ne=K.x+ut,oe=ne+ie};var Nu=ei,Xa=Ds,S,_,w,A,M=e,P=M.ownerDocument,I=ug(M),T=I.getComputedStyle(M),E=T.width,B=T.height,F=T.position,L=M.style.left,z=M.style.top,G=M.style.right,j=M.style.bottom,X=M.style.overflow,N=Ce(Ce({},i[r]),o),W=P.createElement("div");(S=M.parentElement)===null||S===void 0||S.appendChild(W),W.style.left="".concat(M.offsetLeft,"px"),W.style.top="".concat(M.offsetTop,"px"),W.style.position=F,W.style.height="".concat(M.offsetHeight,"px"),W.style.width="".concat(M.offsetWidth,"px"),M.style.left="0",M.style.top="0",M.style.right="auto",M.style.bottom="auto",M.style.overflow="hidden";var V;if(Array.isArray(n))V={x:n[0],y:n[1],width:0,height:0};else{var ee,se,me=n.getBoundingClientRect();me.x=(ee=me.x)!==null&&ee!==void 0?ee:me.left,me.y=(se=me.y)!==null&&se!==void 0?se:me.top,V={x:me.x,y:me.y,width:me.width,height:me.height}}var K=M.getBoundingClientRect();K.x=(_=K.x)!==null&&_!==void 0?_:K.left,K.y=(w=K.y)!==null&&w!==void 0?w:K.top;var te=P.documentElement,ae=te.clientWidth,de=te.clientHeight,_e=te.scrollWidth,Re=te.scrollHeight,Te=te.scrollTop,Y=te.scrollLeft,Q=K.height,ie=K.width,ye=V.height,fe=V.width,pe={left:0,top:0,right:ae,bottom:de},$={left:-Y,top:-Te,right:_e-Y,bottom:Re-Te},U=N.htmlRegion,le="visible",be="visibleFirst";U!=="scroll"&&U!==be&&(U=le);var we=U===be,Oe=NL($,f),De=NL(pe,f),ge=U===le?De:Oe,Fe=we?De:ge;M.style.left="auto",M.style.top="auto",M.style.right="0",M.style.bottom="0";var Xe=M.getBoundingClientRect();M.style.left=L,M.style.top=z,M.style.right=G,M.style.bottom=j,M.style.overflow=X,(A=M.parentElement)===null||A===void 0||A.removeChild(W);var Ne=bm(Math.round(ie/parseFloat(E)*1e3)/1e3),He=bm(Math.round(Q/parseFloat(B)*1e3)/1e3);if(Ne===0||He===0||fm(n)&&!PT(n))return;var Ye=N.offset,Ke=N.targetOffset,We=kL(K,Ye),ot=ke(We,2),je=ot[0],Ze=ot[1],ft=kL(V,Ke),he=ke(ft,2),Ee=he[0],Z=he[1];V.x-=Ee,V.y-=Z;var ze=N.points||[],Pe=ke(ze,2),ct=Pe[0],at=Pe[1],Ft=zL(at),Dt=zL(ct),Lt=rd(V,Ft),Pt=rd(K,Dt),st=Ce({},N),ut=Lt.x-Pt.x+je,lt=Lt.y-Pt.y+Ze,Gt=ei(ut,lt),yn=ei(ut,lt,De),bt=rd(V,["t","l"]),ht=rd(K,["t","l"]),Mt=rd(V,["b","r"]),wt=rd(K,["b","r"]),vt=N.overflow||{},dt=vt.adjustX,pn=vt.adjustY,fn=vt.shiftX,H=vt.shiftY,J=function(ls){return typeof ls=="boolean"?ls:ls>=0},D,q,ne,oe;Ds();var ue=J(pn),Ie=Dt[0]===Ft[0];if(ue&&Dt[0]==="t"&&(q>Fe.bottom||m.current.bt)){var ve=lt;Ie?ve-=Q-ye:ve=bt.y-wt.y-Ze;var Me=ei(ut,ve),Ae=ei(ut,ve,De);Me>Gt||Me===Gt&&(!we||Ae>=yn)?(m.current.bt=!0,lt=ve,Ze=-Ze,st.points=[rl(Dt,0),rl(Ft,0)]):m.current.bt=!1}if(ue&&Dt[0]==="b"&&(D<Fe.top||m.current.tb)){var Se=lt;Ie?Se+=Q-ye:Se=Mt.y-ht.y-Ze;var qe=ei(ut,Se),Ge=ei(ut,Se,De);qe>Gt||qe===Gt&&(!we||Ge>=yn)?(m.current.tb=!0,lt=Se,Ze=-Ze,st.points=[rl(Dt,0),rl(Ft,0)]):m.current.tb=!1}var et=J(dt),Et=Dt[1]===Ft[1];if(et&&Dt[1]==="l"&&(oe>Fe.right||m.current.rl)){var yt=ut;Et?yt-=ie-fe:yt=bt.x-wt.x-je;var Ut=ei(yt,lt),St=ei(yt,lt,De);Ut>Gt||Ut===Gt&&(!we||St>=yn)?(m.current.rl=!0,ut=yt,je=-je,st.points=[rl(Dt,1),rl(Ft,1)]):m.current.rl=!1}if(et&&Dt[1]==="r"&&(ne<Fe.left||m.current.lr)){var it=ut;Et?it+=ie-fe:it=Mt.x-ht.x-je;var zt=ei(it,lt),At=ei(it,lt,De);zt>Gt||zt===Gt&&(!we||At>=yn)?(m.current.lr=!0,ut=it,je=-je,st.points=[rl(Dt,1),rl(Ft,1)]):m.current.lr=!1}Ds();var Kt=fn===!0?0:fn;typeof Kt=="number"&&(ne<De.left&&(ut-=ne-De.left-je,V.x+fe<De.left+Kt&&(ut+=V.x-De.left+fe-Kt)),oe>De.right&&(ut-=oe-De.right-je,V.x>De.right-Kt&&(ut+=V.x-De.right+Kt)));var Vt=H===!0?0:H;typeof Vt=="number"&&(D<De.top&&(lt-=D-De.top-Ze,V.y+ye<De.top+Vt&&(lt+=V.y-De.top+ye-Vt)),q>De.bottom&&(lt-=q-De.bottom-Ze,V.y>De.bottom-Vt&&(lt+=V.y-De.bottom+Vt)));var un=K.x+ut,Dn=un+ie,Zt=K.y+lt,Mn=Zt+Q,rn=V.x,Ot=rn+fe,_t=V.y,Yt=_t+ye,nn=Math.max(un,rn),An=Math.min(Dn,Ot),xn=(nn+An)/2,tr=xn-un,Lr=Math.max(Zt,_t),Qr=Math.min(Mn,Yt),ui=(Lr+Qr)/2,di=ui-Zt;s==null||s(e,st);var To=Xe.right-K.x-(ut+K.width),Zr=Xe.bottom-K.y-(lt+K.height);Ne===1&&(ut=Math.round(ut),To=Math.round(To)),He===1&&(lt=Math.round(lt),Zr=Math.round(Zr));var cc={ready:!0,offsetX:ut/Ne,offsetY:lt/He,offsetR:To/Ne,offsetB:Zr/He,arrowX:tr/Ne,arrowY:di/He,scaleX:Ne,scaleY:He,align:st};u(cc)}}),y=function(){d.current+=1;var _=d.current;Promise.resolve().then(function(){d.current===_&&x()})},g=function(){u(function(_){return Ce(Ce({},_),{},{ready:!1})})};return Vn(g,[r]),Vn(function(){t||g()},[t]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,y]}function _ie(t,e,n,r,i){Vn(function(){if(t&&e&&n){let f=function(){r(),i()};var d=f,o=e,s=n,a=OE(o),l=OE(s),c=ug(s),u=new Set([c].concat(pt(a),pt(l)));return u.forEach(function(m){m.addEventListener("scroll",f,{passive:!0})}),c.addEventListener("resize",f,{passive:!0}),r(),function(){u.forEach(function(m){m.removeEventListener("scroll",f),c.removeEventListener("resize",f)})}}},[t,e,n])}function Cie(t,e,n,r,i,o,s,a){var l=C.useRef(t);l.current=t;var c=C.useRef(!1);C.useEffect(function(){if(e&&r&&(!i||o)){var d=function(){c.current=!1},f=function(y){var g;l.current&&!s(((g=y.composedPath)===null||g===void 0||(g=g.call(y))===null||g===void 0?void 0:g[0])||y.target)&&!c.current&&a(!1)},m=ug(r);m.addEventListener("pointerdown",d,!0),m.addEventListener("mousedown",f,!0),m.addEventListener("contextmenu",f,!0);var v=fx(n);return v&&(v.addEventListener("mousedown",f,!0),v.addEventListener("contextmenu",f,!0)),function(){m.removeEventListener("pointerdown",d,!0),m.removeEventListener("mousedown",f,!0),m.removeEventListener("contextmenu",f,!0),v&&(v.removeEventListener("mousedown",f,!0),v.removeEventListener("contextmenu",f,!0))}}},[e,n,r,i,o]);function u(){c.current=!0}return u}var bie=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function wie(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:CH,e=C.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=n.children,a=n.action,l=a===void 0?"hover":a,c=n.showAction,u=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,m=n.onPopupVisibleChange,v=n.afterPopupVisibleChange,x=n.mouseEnterDelay,y=n.mouseLeaveDelay,g=y===void 0?.1:y,S=n.focusDelay,_=n.blurDelay,w=n.mask,A=n.maskClosable,M=A===void 0?!0:A,P=n.getPopupContainer,I=n.forceRender,T=n.autoDestroy,E=n.destroyPopupOnHide,B=n.popup,F=n.popupClassName,L=n.popupStyle,z=n.popupPlacement,G=n.builtinPlacements,j=G===void 0?{}:G,X=n.popupAlign,N=n.zIndex,W=n.stretch,V=n.getPopupClassNameFromAlign,ee=n.fresh,se=n.alignPoint,me=n.onPopupClick,K=n.onPopupAlign,te=n.arrow,ae=n.popupMotion,de=n.maskMotion,_e=n.popupTransitionName,Re=n.popupAnimation,Te=n.maskTransitionName,Y=n.maskAnimation,Q=n.className,ie=n.getTriggerDOMNode,ye=On(n,bie),fe=T||E||!1,pe=C.useState(!1),$=ke(pe,2),U=$[0],le=$[1];Vn(function(){le(LH())},[]);var be=C.useRef({}),we=C.useContext(LL),Oe=C.useMemo(function(){return{registerSubPopup:function(qt,jn){be.current[qt]=jn,we==null||we.registerSubPopup(qt,jn)}}},[we]),De=bH(),ge=C.useState(null),Fe=ke(ge,2),Xe=Fe[0],Ne=Fe[1],He=C.useRef(null),Ye=lr(function(xt){He.current=xt,fm(xt)&&Xe!==xt&&Ne(xt),we==null||we.registerSubPopup(De,xt)}),Ke=C.useState(null),We=ke(Ke,2),ot=We[0],je=We[1],Ze=C.useRef(null),ft=lr(function(xt){fm(xt)&&ot!==xt&&(je(xt),Ze.current=xt)}),he=C.Children.only(s),Ee=(he==null?void 0:he.props)||{},Z={},ze=lr(function(xt){var qt,jn,Yn=ot;return(Yn==null?void 0:Yn.contains(xt))||((qt=fx(Yn))===null||qt===void 0?void 0:qt.host)===xt||xt===Yn||(Xe==null?void 0:Xe.contains(xt))||((jn=fx(Xe))===null||jn===void 0?void 0:jn.host)===xt||xt===Xe||Object.values(be.current).some(function(Xn){return(Xn==null?void 0:Xn.contains(xt))||xt===Xn})}),Pe=FL(o,ae,Re,_e),ct=FL(o,de,Y,Te),at=C.useState(f||!1),Ft=ke(at,2),Dt=Ft[0],Lt=Ft[1],Pt=d??Dt,st=lr(function(xt){d===void 0&&Lt(xt)});Vn(function(){Lt(d||!1)},[d]);var ut=C.useRef(Pt);ut.current=Pt;var lt=C.useRef([]);lt.current=[];var Gt=lr(function(xt){var qt;st(xt),((qt=lt.current[lt.current.length-1])!==null&&qt!==void 0?qt:Pt)!==xt&&(lt.current.push(xt),m==null||m(xt))}),yn=C.useRef(),bt=function(){clearTimeout(yn.current)},ht=function(qt){var jn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;bt(),jn===0?Gt(qt):yn.current=setTimeout(function(){Gt(qt)},jn*1e3)};C.useEffect(function(){return bt},[]);var Mt=C.useState(!1),wt=ke(Mt,2),vt=wt[0],dt=wt[1];Vn(function(xt){(!xt||Pt)&&dt(!0)},[Pt]);var pn=C.useState(null),fn=ke(pn,2),H=fn[0],J=fn[1],D=C.useState(null),q=ke(D,2),ne=q[0],oe=q[1],ue=function(qt){oe([qt.clientX,qt.clientY])},Ie=Sie(Pt,Xe,se&&ne!==null?ne:ot,z,j,X,K),ve=ke(Ie,11),Me=ve[0],Ae=ve[1],Se=ve[2],qe=ve[3],Ge=ve[4],et=ve[5],Et=ve[6],yt=ve[7],Ut=ve[8],St=ve[9],it=ve[10],zt=vie(U,l,c,u),At=ke(zt,2),Kt=At[0],Vt=At[1],un=Kt.has("click"),Dn=Vt.has("click")||Vt.has("contextMenu"),Zt=lr(function(){vt||it()}),Mn=function(){ut.current&&se&&Dn&&ht(!1)};_ie(Pt,ot,Xe,Zt,Mn),Vn(function(){Zt()},[ne,z]),Vn(function(){Pt&&!(j!=null&&j[z])&&Zt()},[JSON.stringify(X)]);var rn=C.useMemo(function(){var xt=xie(j,o,St,se);return nt(xt,V==null?void 0:V(St))},[St,V,j,o,se]);C.useImperativeHandle(r,function(){return{nativeElement:Ze.current,popupElement:He.current,forceAlign:Zt}});var Ot=C.useState(0),_t=ke(Ot,2),Yt=_t[0],nn=_t[1],An=C.useState(0),xn=ke(An,2),tr=xn[0],Lr=xn[1],Qr=function(){if(W&&ot){var qt=ot.getBoundingClientRect();nn(qt.width),Lr(qt.height)}},ui=function(){Qr(),Zt()},di=function(qt){dt(!1),it(),v==null||v(qt)},To=function(){return new Promise(function(qt){Qr(),J(function(){return qt})})};Vn(function(){H&&(it(),H(),J(null))},[H]);function Zr(xt,qt,jn,Yn){Z[xt]=function(Xn){var ua;Yn==null||Yn(Xn),ht(qt,jn);for(var Hi=arguments.length,Ag=new Array(Hi>1?Hi-1:0),ku=1;ku<Hi;ku++)Ag[ku-1]=arguments[ku];(ua=Ee[xt])===null||ua===void 0||ua.call.apply(ua,[Ee,Xn].concat(Ag))}}(un||Dn)&&(Z.onClick=function(xt){var qt;ut.current&&Dn?ht(!1):!ut.current&&un&&(ue(xt),ht(!0));for(var jn=arguments.length,Yn=new Array(jn>1?jn-1:0),Xn=1;Xn<jn;Xn++)Yn[Xn-1]=arguments[Xn];(qt=Ee.onClick)===null||qt===void 0||qt.call.apply(qt,[Ee,xt].concat(Yn))});var cc=Cie(Pt,Dn,ot,Xe,w,M,ze,ht),Nu=Kt.has("hover"),Xa=Vt.has("hover"),ei,Ds;Nu&&(Zr("onMouseEnter",!0,x,function(xt){ue(xt)}),Zr("onPointerEnter",!0,x,function(xt){ue(xt)}),ei=function(qt){(Pt||vt)&&Xe!==null&&Xe!==void 0&&Xe.contains(qt.target)&&ht(!0,x)},se&&(Z.onMouseMove=function(xt){var qt;(qt=Ee.onMouseMove)===null||qt===void 0||qt.call(Ee,xt)})),Xa&&(Zr("onMouseLeave",!1,g),Zr("onPointerLeave",!1,g),Ds=function(){ht(!1,g)}),Kt.has("focus")&&Zr("onFocus",!0,S),Vt.has("focus")&&Zr("onBlur",!1,_),Kt.has("contextMenu")&&(Z.onContextMenu=function(xt){var qt;ut.current&&Vt.has("contextMenu")?ht(!1):(ue(xt),ht(!0)),xt.preventDefault();for(var jn=arguments.length,Yn=new Array(jn>1?jn-1:0),Xn=1;Xn<jn;Xn++)Yn[Xn-1]=arguments[Xn];(qt=Ee.onContextMenu)===null||qt===void 0||qt.call.apply(qt,[Ee,xt].concat(Yn))}),Q&&(Z.className=nt(Ee.className,Q));var mn=Ce(Ce({},Ee),Z),ls={},Fs=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Fs.forEach(function(xt){ye[xt]&&(ls[xt]=function(){for(var qt,jn=arguments.length,Yn=new Array(jn),Xn=0;Xn<jn;Xn++)Yn[Xn]=arguments[Xn];(qt=mn[xt])===null||qt===void 0||qt.call.apply(qt,[mn].concat(Yn)),ye[xt].apply(ye,Yn)})});var uc=C.cloneElement(he,Ce(Ce({},mn),ls)),Uu={x:et,y:Et},uh=te?Ce({},te!==!0?te:{}):null;return C.createElement(C.Fragment,null,C.createElement(tc,{disabled:!Pt,ref:ft,onResize:ui},C.createElement(gie,{getTriggerDOMNode:ie},uc)),C.createElement(LL.Provider,{value:Oe},C.createElement(mie,{portal:t,ref:Ye,prefixCls:o,popup:B,className:nt(F,rn),style:L,target:ot,onMouseEnter:ei,onMouseLeave:Ds,onPointerEnter:ei,zIndex:N,open:Pt,keepDom:vt,fresh:ee,onClick:me,onPointerDownCapture:cc,mask:w,motion:Pe,maskMotion:ct,onVisibleChanged:di,onPrepare:To,forceRender:I,autoDestroy:fe,getPopupContainer:P,align:St,arrow:uh,arrowPos:Uu,ready:Me,offsetX:Ae,offsetY:Se,offsetR:qe,offsetB:Ge,onAlign:Zt,stretch:W,targetWidth:Yt/yt,targetHeight:tr/Ut})))});return e}const GH=wie(CH);var Eie=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Mie=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},Aie=function(e,n){var r=e.prefixCls;e.disabled;var i=e.visible,o=e.children,s=e.popupElement,a=e.animation,l=e.transitionName,c=e.dropdownStyle,u=e.dropdownClassName,d=e.direction,f=d===void 0?"ltr":d,m=e.placement,v=e.builtinPlacements,x=e.dropdownMatchSelectWidth,y=e.dropdownRender,g=e.dropdownAlign,S=e.getPopupContainer,_=e.empty,w=e.getTriggerDOMNode,A=e.onPopupVisibleChange,M=e.onPopupMouseEnter,P=On(e,Eie),I="".concat(r,"-dropdown"),T=s;y&&(T=y(s));var E=C.useMemo(function(){return v||Mie(x)},[v,x]),B=a?"".concat(I,"-").concat(a):l,F=typeof x=="number",L=C.useMemo(function(){return F?null:x===!1?"minWidth":"width"},[x,F]),z=c;F&&(z=Ce(Ce({},z),{},{width:x}));var G=C.useRef(null);return C.useImperativeHandle(n,function(){return{getPopupElement:function(){var X;return(X=G.current)===null||X===void 0?void 0:X.popupElement}}}),C.createElement(GH,Xt({},P,{showAction:A?["click"]:[],hideAction:A?["click"]:[],popupPlacement:m||(f==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:E,prefixCls:I,popupTransitionName:B,popup:C.createElement("div",{onMouseEnter:M},T),ref:G,stretch:L,popupAlign:g,popupVisible:i,getPopupContainer:S,popupClassName:nt(u,xe({},"".concat(I,"-empty"),_)),popupStyle:z,getTriggerDOMNode:w,onPopupVisibleChange:A}),o)},Tie=C.forwardRef(Aie);function HL(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function LE(t){return typeof t<"u"&&!Number.isNaN(t)}function $H(t,e){var n=t||{},r=n.label,i=n.value,o=n.options,s=n.groupLabel,a=r||(e?"children":"label");return{label:a,value:i||"value",options:o||"options",groupLabel:s||a}}function Rie(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=$H(n,!1),s=o.label,a=o.value,l=o.options,c=o.groupLabel;function u(d,f){Array.isArray(d)&&d.forEach(function(m){if(f||!(l in m)){var v=m[a];i.push({key:HL(m,i.length),groupOption:f,data:m,label:m[s],value:v})}else{var x=m[c];x===void 0&&r&&(x=m.label),i.push({key:HL(m,i.length),group:!0,data:m,label:x}),u(m[l],!0)}})}return u(t,!1),i}function DE(t){var e=Ce({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return wi(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var Pie=function(e,n,r){if(!n||!n.length)return null;var i=!1,o=function a(l,c){var u=mz(c),d=u[0],f=u.slice(1);if(!d)return[l];var m=l.split(d);return i=i||m.length>1,m.reduce(function(v,x){return[].concat(pt(v),pt(a(x,f)))},[]).filter(Boolean)},s=o(e,n);return i?typeof r<"u"?s.slice(0,r):s:null},zT=C.createContext(null);function Iie(t){var e=t.visible,n=t.values;if(!e)return null;var r=50;return C.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,r).map(function(i){var o=i.label,s=i.value;return["number","string"].includes($t(o))?o:s}).join(", ")),n.length>r?", ...":null)}var Bie=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","prefix","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Oie=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],FE=function(e){return e==="tags"||e==="multiple"},Lie=C.forwardRef(function(t,e){var n,r=t.id,i=t.prefixCls,o=t.className,s=t.showSearch,a=t.tagRender,l=t.direction,c=t.omitDomProps,u=t.displayValues,d=t.onDisplayValuesChange,f=t.emptyOptions,m=t.notFoundContent,v=m===void 0?"Not Found":m,x=t.onClear,y=t.mode,g=t.disabled,S=t.loading,_=t.getInputElement,w=t.getRawInputElement,A=t.open,M=t.defaultOpen,P=t.onDropdownVisibleChange,I=t.activeValue,T=t.onActiveValueChange,E=t.activeDescendantId,B=t.searchValue,F=t.autoClearSearchValue,L=t.onSearch,z=t.onSearchSplit,G=t.tokenSeparators,j=t.allowClear,X=t.prefix,N=t.suffixIcon,W=t.clearIcon,V=t.OptionList,ee=t.animation,se=t.transitionName,me=t.dropdownStyle,K=t.dropdownClassName,te=t.dropdownMatchSelectWidth,ae=t.dropdownRender,de=t.dropdownAlign,_e=t.placement,Re=t.builtinPlacements,Te=t.getPopupContainer,Y=t.showAction,Q=Y===void 0?[]:Y,ie=t.onFocus,ye=t.onBlur,fe=t.onKeyUp,pe=t.onKeyDown,$=t.onMouseDown,U=On(t,Bie),le=FE(y),be=(s!==void 0?s:le)||y==="combobox",we=Ce({},U);Oie.forEach(function(Ot){delete we[Ot]}),c==null||c.forEach(function(Ot){delete we[Ot]});var Oe=C.useState(!1),De=ke(Oe,2),ge=De[0],Fe=De[1];C.useEffect(function(){Fe(LH())},[]);var Xe=C.useRef(null),Ne=C.useRef(null),He=C.useRef(null),Ye=C.useRef(null),Ke=C.useRef(null),We=C.useRef(!1),ot=Hre(),je=ke(ot,3),Ze=je[0],ft=je[1],he=je[2];C.useImperativeHandle(e,function(){var Ot,_t;return{focus:(Ot=Ye.current)===null||Ot===void 0?void 0:Ot.focus,blur:(_t=Ye.current)===null||_t===void 0?void 0:_t.blur,scrollTo:function(nn){var An;return(An=Ke.current)===null||An===void 0?void 0:An.scrollTo(nn)},nativeElement:Xe.current||Ne.current}});var Ee=C.useMemo(function(){var Ot;if(y!=="combobox")return B;var _t=(Ot=u[0])===null||Ot===void 0?void 0:Ot.value;return typeof _t=="string"||typeof _t=="number"?String(_t):""},[B,y,u]),Z=y==="combobox"&&typeof _=="function"&&_()||null,ze=typeof w=="function"&&w(),Pe=ng(Ne,ze==null||(n=ze.props)===null||n===void 0?void 0:n.ref),ct=C.useState(!1),at=ke(ct,2),Ft=at[0],Dt=at[1];Vn(function(){Dt(!0)},[]);var Lt=Va(!1,{defaultValue:M,value:A}),Pt=ke(Lt,2),st=Pt[0],ut=Pt[1],lt=Ft?st:!1,Gt=!v&&f;(g||Gt&&lt&&y==="combobox")&&(lt=!1);var yn=Gt?!1:lt,bt=C.useCallback(function(Ot){var _t=Ot!==void 0?Ot:!lt;g||(ut(_t),lt!==_t&&(P==null||P(_t)))},[g,lt,ut,P]),ht=C.useMemo(function(){return(G||[]).some(function(Ot){return[`
`,`\r
`].includes(Ot)})},[G]),Mt=C.useContext(zT)||{},wt=Mt.maxCount,vt=Mt.rawValues,dt=function(_t,Yt,nn){if(!(le&&LE(wt)&&(vt==null?void 0:vt.size)>=wt)){var An=!0,xn=_t;T==null||T(null);var tr=Pie(_t,G,LE(wt)?wt-vt.size:void 0),Lr=nn?null:tr;return y!=="combobox"&&Lr&&(xn="",z==null||z(Lr),bt(!1),An=!1),L&&Ee!==xn&&L(xn,{source:Yt?"typing":"effect"}),An}},pn=function(_t){!_t||!_t.trim()||L(_t,{source:"submit"})};C.useEffect(function(){!lt&&!le&&y!=="combobox"&&dt("",!1,!1)},[lt]),C.useEffect(function(){st&&g&&ut(!1),g&&!We.current&&ft(!1)},[g]);var fn=FH(),H=ke(fn,2),J=H[0],D=H[1],q=C.useRef(!1),ne=function(_t){var Yt=J(),nn=_t.key,An=nn==="Enter";if(An&&(y!=="combobox"&&_t.preventDefault(),lt||bt(!0)),D(!!Ee),nn==="Backspace"&&!Yt&&le&&!Ee&&u.length){for(var xn=pt(u),tr=null,Lr=xn.length-1;Lr>=0;Lr-=1){var Qr=xn[Lr];if(!Qr.disabled){xn.splice(Lr,1),tr=Qr;break}}tr&&d(xn,{type:"remove",values:[tr]})}for(var ui=arguments.length,di=new Array(ui>1?ui-1:0),To=1;To<ui;To++)di[To-1]=arguments[To];if(lt&&(!An||!q.current)){var Zr;An&&(q.current=!0),(Zr=Ke.current)===null||Zr===void 0||Zr.onKeyDown.apply(Zr,[_t].concat(di))}pe==null||pe.apply(void 0,[_t].concat(di))},oe=function(_t){for(var Yt=arguments.length,nn=new Array(Yt>1?Yt-1:0),An=1;An<Yt;An++)nn[An-1]=arguments[An];if(lt){var xn;(xn=Ke.current)===null||xn===void 0||xn.onKeyUp.apply(xn,[_t].concat(nn))}_t.key==="Enter"&&(q.current=!1),fe==null||fe.apply(void 0,[_t].concat(nn))},ue=function(_t){var Yt=u.filter(function(nn){return nn!==_t});d(Yt,{type:"remove",values:[_t]})},Ie=function(){q.current=!1},ve=C.useRef(!1),Me=function(){ft(!0),g||(ie&&!ve.current&&ie.apply(void 0,arguments),Q.includes("focus")&&bt(!0)),ve.current=!0},Ae=function(){We.current=!0,ft(!1,function(){ve.current=!1,We.current=!1,bt(!1)}),!g&&(Ee&&(y==="tags"?L(Ee,{source:"submit"}):y==="multiple"&&L("",{source:"blur"})),ye&&ye.apply(void 0,arguments))},Se=[];C.useEffect(function(){return function(){Se.forEach(function(Ot){return clearTimeout(Ot)}),Se.splice(0,Se.length)}},[]);var qe=function(_t){var Yt,nn=_t.target,An=(Yt=He.current)===null||Yt===void 0?void 0:Yt.getPopupElement();if(An&&An.contains(nn)){var xn=setTimeout(function(){var ui=Se.indexOf(xn);if(ui!==-1&&Se.splice(ui,1),he(),!ge&&!An.contains(document.activeElement)){var di;(di=Ye.current)===null||di===void 0||di.focus()}});Se.push(xn)}for(var tr=arguments.length,Lr=new Array(tr>1?tr-1:0),Qr=1;Qr<tr;Qr++)Lr[Qr-1]=arguments[Qr];$==null||$.apply(void 0,[_t].concat(Lr))},Ge=C.useState({}),et=ke(Ge,2),Et=et[1];function yt(){Et({})}var Ut;ze&&(Ut=function(_t){bt(_t)}),Vre(function(){var Ot;return[Xe.current,(Ot=He.current)===null||Ot===void 0?void 0:Ot.getPopupElement()]},yn,bt,!!ze);var St=C.useMemo(function(){return Ce(Ce({},t),{},{notFoundContent:v,open:lt,triggerOpen:yn,id:r,showSearch:be,multiple:le,toggleOpen:bt})},[t,v,yn,lt,r,be,le,bt]),it=!!N||S,zt;it&&(zt=C.createElement(CS,{className:nt("".concat(i,"-arrow"),xe({},"".concat(i,"-arrow-loading"),S)),customizeIcon:N,customizeIconProps:{loading:S,searchValue:Ee,open:lt,focused:Ze,showSearch:be}}));var At=function(){var _t;x==null||x(),(_t=Ye.current)===null||_t===void 0||_t.focus(),d([],{type:"clear",values:u}),dt("",!1,!1)},Kt=kre(i,At,u,j,W,g,Ee,y),Vt=Kt.allowClear,un=Kt.clearIcon,Dn=C.createElement(V,{ref:Ke}),Zt=nt(i,o,xe(xe(xe(xe(xe(xe(xe(xe(xe(xe({},"".concat(i,"-focused"),Ze),"".concat(i,"-multiple"),le),"".concat(i,"-single"),!le),"".concat(i,"-allow-clear"),j),"".concat(i,"-show-arrow"),it),"".concat(i,"-disabled"),g),"".concat(i,"-loading"),S),"".concat(i,"-open"),lt),"".concat(i,"-customize-input"),Z),"".concat(i,"-show-search"),be)),Mn=C.createElement(Tie,{ref:He,disabled:g,prefixCls:i,visible:yn,popupElement:Dn,animation:ee,transitionName:se,dropdownStyle:me,dropdownClassName:K,direction:l,dropdownMatchSelectWidth:te,dropdownRender:ae,dropdownAlign:de,placement:_e,builtinPlacements:Re,getPopupContainer:Te,empty:f,getTriggerDOMNode:function(_t){return Ne.current||_t},onPopupVisibleChange:Ut,onPopupMouseEnter:yt},ze?C.cloneElement(ze,{ref:Pe}):C.createElement(die,Xt({},t,{domRef:Ne,prefixCls:i,inputElement:Z,ref:Ye,id:r,prefix:X,showSearch:be,autoClearSearchValue:F,mode:y,activeDescendantId:E,tagRender:a,values:u,open:lt,onToggleOpen:bt,activeValue:I,searchValue:Ee,onSearch:dt,onSearchSubmit:pn,onRemove:ue,tokenWithEnter:ht,onInputBlur:Ie}))),rn;return ze?rn=Mn:rn=C.createElement("div",Xt({className:Zt},we,{ref:Xe,onMouseDown:qe,onKeyDown:ne,onKeyUp:oe,onFocus:Me,onBlur:Ae}),C.createElement(Iie,{visible:Ze&&!lt,values:u}),Mn,zt,Vt&&un),C.createElement(DH.Provider,{value:St},rn)}),HT=function(){return null};HT.isSelectOptGroup=!0;var VT=function(){return null};VT.isSelectOption=!0;var WH=C.forwardRef(function(t,e){var n=t.height,r=t.offsetY,i=t.offsetX,o=t.children,s=t.prefixCls,a=t.onInnerResize,l=t.innerProps,c=t.rtl,u=t.extra,d={},f={display:"flex",flexDirection:"column"};return r!==void 0&&(d={height:n,position:"relative",overflow:"hidden"},f=Ce(Ce({},f),{},xe(xe(xe(xe(xe({transform:"translateY(".concat(r,"px)")},c?"marginRight":"marginLeft",-i),"position","absolute"),"left",0),"right",0),"top",0))),C.createElement("div",{style:d},C.createElement(tc,{onResize:function(v){var x=v.offsetHeight;x&&a&&a()}},C.createElement("div",Xt({style:f,className:nt(xe({},"".concat(s,"-holder-inner"),s)),ref:e},l),o,u)))});WH.displayName="Filler";function Die(t){var e=t.children,n=t.setRef,r=C.useCallback(function(i){n(i)},[]);return C.cloneElement(e,{ref:r})}function Fie(t,e,n,r,i,o,s,a){var l=a.getKey;return t.slice(e,n+1).map(function(c,u){var d=e+u,f=s(c,d,{style:{width:r},offsetX:i}),m=l(c);return C.createElement(Die,{key:m,setRef:function(x){return o(c,x)}},f)})}function Nie(t,e,n){var r=t.length,i=e.length,o,s;if(r===0&&i===0)return null;r<i?(o=t,s=e):(o=e,s=t);var a={__EMPTY_ITEM__:!0};function l(v){return v!==void 0?n(v):a}for(var c=null,u=Math.abs(r-i)!==1,d=0;d<s.length;d+=1){var f=l(o[d]),m=l(s[d]);if(f!==m){c=d,u=u||f!==l(s[d+1]);break}}return c===null?null:{index:c,multiple:u}}function Uie(t,e,n){var r=C.useState(t),i=ke(r,2),o=i[0],s=i[1],a=C.useState(null),l=ke(a,2),c=l[0],u=l[1];return C.useEffect(function(){var d=Nie(o||[],t||[],e);(d==null?void 0:d.index)!==void 0&&(n==null||n(d.index),u(t[d.index])),s(t)},[t]),[c]}var VL=(typeof navigator>"u"?"undefined":$t(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const jH=function(t,e,n,r){var i=C.useRef(!1),o=C.useRef(null);function s(){clearTimeout(o.current),i.current=!0,o.current=setTimeout(function(){i.current=!1},50)}var a=C.useRef({top:t,bottom:e,left:n,right:r});return a.current.top=t,a.current.bottom=e,a.current.left=n,a.current.right=r,function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?c<0&&a.current.left||c>0&&a.current.right:c<0&&a.current.top||c>0&&a.current.bottom;return u&&d?(clearTimeout(o.current),i.current=!1):(!d||i.current)&&s(),!i.current&&d}};function kie(t,e,n,r,i,o,s){var a=C.useRef(0),l=C.useRef(null),c=C.useRef(null),u=C.useRef(!1),d=jH(e,n,r,i);function f(S,_){if(Gn.cancel(l.current),!d(!1,_)){var w=S;if(!w._virtualHandled)w._virtualHandled=!0;else return;a.current+=_,c.current=_,VL||w.preventDefault(),l.current=Gn(function(){var A=u.current?10:1;s(a.current*A,!1),a.current=0})}}function m(S,_){s(_,!0),VL||S.preventDefault()}var v=C.useRef(null),x=C.useRef(null);function y(S){if(t){Gn.cancel(x.current),x.current=Gn(function(){v.current=null},2);var _=S.deltaX,w=S.deltaY,A=S.shiftKey,M=_,P=w;(v.current==="sx"||!v.current&&A&&w&&!_)&&(M=w,P=0,v.current="sx");var I=Math.abs(M),T=Math.abs(P);v.current===null&&(v.current=o&&I>T?"x":"y"),v.current==="y"?f(S,P):m(S,M)}}function g(S){t&&(u.current=S.detail===c.current)}return[y,g]}function zie(t,e,n,r){var i=C.useMemo(function(){return[new Map,[]]},[t,n.id,r]),o=ke(i,2),s=o[0],a=o[1],l=function(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:u,f=s.get(u),m=s.get(d);if(f===void 0||m===void 0)for(var v=t.length,x=a.length;x<v;x+=1){var y,g=t[x],S=e(g);s.set(S,x);var _=(y=n.get(S))!==null&&y!==void 0?y:r;if(a[x]=(a[x-1]||0)+_,S===u&&(f=x),S===d&&(m=x),f!==void 0&&m!==void 0)break}return{top:a[f-1]||0,bottom:a[m]}};return l}var Hie=function(){function t(){Gr(this,t),xe(this,"maps",void 0),xe(this,"id",0),xe(this,"diffRecords",new Map),this.maps=Object.create(null)}return $r(t,[{key:"set",value:function(n,r){this.diffRecords.set(n,this.maps[n]),this.maps[n]=r,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}},{key:"resetRecord",value:function(){this.diffRecords.clear()}},{key:"getRecord",value:function(){return this.diffRecords}}]),t}();function GL(t){var e=parseFloat(t);return isNaN(e)?0:e}function Vie(t,e,n){var r=C.useState(0),i=ke(r,2),o=i[0],s=i[1],a=C.useRef(new Map),l=C.useRef(new Hie),c=C.useRef(0);function u(){c.current+=1}function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u();var v=function(){var g=!1;a.current.forEach(function(S,_){if(S&&S.offsetParent){var w=S.offsetHeight,A=getComputedStyle(S),M=A.marginTop,P=A.marginBottom,I=GL(M),T=GL(P),E=w+I+T;l.current.get(_)!==E&&(l.current.set(_,E),g=!0)}}),g&&s(function(S){return S+1})};if(m)v();else{c.current+=1;var x=c.current;Promise.resolve().then(function(){x===c.current&&v()})}}function f(m,v){var x=t(m),y=a.current.get(x);v?(a.current.set(x,v),d()):a.current.delete(x),!y!=!v&&(v?e==null||e(m):n==null||n(m))}return C.useEffect(function(){return u},[]),[f,d,l.current,o]}var $L=14/15;function Gie(t,e,n){var r=C.useRef(!1),i=C.useRef(0),o=C.useRef(0),s=C.useRef(null),a=C.useRef(null),l,c=function(m){if(r.current){var v=Math.ceil(m.touches[0].pageX),x=Math.ceil(m.touches[0].pageY),y=i.current-v,g=o.current-x,S=Math.abs(y)>Math.abs(g);S?i.current=v:o.current=x;var _=n(S,S?y:g,!1,m);_&&m.preventDefault(),clearInterval(a.current),_&&(a.current=setInterval(function(){S?y*=$L:g*=$L;var w=Math.floor(S?y:g);(!n(S,w,!0)||Math.abs(w)<=.1)&&clearInterval(a.current)},16))}},u=function(){r.current=!1,l()},d=function(m){l(),m.touches.length===1&&!r.current&&(r.current=!0,i.current=Math.ceil(m.touches[0].pageX),o.current=Math.ceil(m.touches[0].pageY),s.current=m.target,s.current.addEventListener("touchmove",c,{passive:!1}),s.current.addEventListener("touchend",u,{passive:!0}))};l=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},Vn(function(){return t&&e.current.addEventListener("touchstart",d,{passive:!0}),function(){var f;(f=e.current)===null||f===void 0||f.removeEventListener("touchstart",d),l(),clearInterval(a.current)}},[t])}function WL(t){return Math.floor(Math.pow(t,.5))}function NE(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]-window[e?"scrollX":"scrollY"]}function $ie(t,e,n){C.useEffect(function(){var r=e.current;if(t&&r){var i=!1,o,s,a=function(){Gn.cancel(o)},l=function f(){a(),o=Gn(function(){n(s),f()})},c=function(m){if(!(m.target.draggable||m.button!==0)){var v=m;v._virtualHandled||(v._virtualHandled=!0,i=!0)}},u=function(){i=!1,a()},d=function(m){if(i){var v=NE(m,!1),x=r.getBoundingClientRect(),y=x.top,g=x.bottom;if(v<=y){var S=y-v;s=-WL(S),l()}else if(v>=g){var _=v-g;s=WL(_),l()}else a()}};return r.addEventListener("mousedown",c),r.ownerDocument.addEventListener("mouseup",u),r.ownerDocument.addEventListener("mousemove",d),function(){r.removeEventListener("mousedown",c),r.ownerDocument.removeEventListener("mouseup",u),r.ownerDocument.removeEventListener("mousemove",d),a()}}},[t])}var Wie=10;function jie(t,e,n,r,i,o,s,a){var l=C.useRef(),c=C.useState(null),u=ke(c,2),d=u[0],f=u[1];return Vn(function(){if(d&&d.times<Wie){if(!t.current){f(function(W){return Ce({},W)});return}o();var m=d.targetAlign,v=d.originAlign,x=d.index,y=d.offset,g=t.current.clientHeight,S=!1,_=m,w=null;if(g){for(var A=m||v,M=0,P=0,I=0,T=Math.min(e.length-1,x),E=0;E<=T;E+=1){var B=i(e[E]);P=M;var F=n.get(B);I=P+(F===void 0?r:F),M=I}for(var L=A==="top"?y:g-y,z=T;z>=0;z-=1){var G=i(e[z]),j=n.get(G);if(j===void 0){S=!0;break}if(L-=j,L<=0)break}switch(A){case"top":w=P-y;break;case"bottom":w=I-g+y;break;default:{var X=t.current.scrollTop,N=X+g;P<X?_="top":I>N&&(_="bottom")}}w!==null&&s(w),w!==d.lastTop&&(S=!0)}S&&f(Ce(Ce({},d),{},{times:d.times+1,targetAlign:_,lastTop:w}))}},[d,t.current]),function(m){if(m==null){a();return}if(Gn.cancel(l.current),typeof m=="number")s(m);else if(m&&$t(m)==="object"){var v,x=m.align;"index"in m?v=m.index:v=e.findIndex(function(S){return i(S)===m.key});var y=m.offset,g=y===void 0?0:y;f({times:0,index:v,offset:g,originAlign:x})}}}var jL=C.forwardRef(function(t,e){var n=t.prefixCls,r=t.rtl,i=t.scrollOffset,o=t.scrollRange,s=t.onStartMove,a=t.onStopMove,l=t.onScroll,c=t.horizontal,u=t.spinSize,d=t.containerSize,f=t.style,m=t.thumbStyle,v=t.showScrollBar,x=C.useState(!1),y=ke(x,2),g=y[0],S=y[1],_=C.useState(null),w=ke(_,2),A=w[0],M=w[1],P=C.useState(null),I=ke(P,2),T=I[0],E=I[1],B=!r,F=C.useRef(),L=C.useRef(),z=C.useState(v),G=ke(z,2),j=G[0],X=G[1],N=C.useRef(),W=function(){v===!0||v===!1||(clearTimeout(N.current),X(!0),N.current=setTimeout(function(){X(!1)},3e3))},V=o-d||0,ee=d-u||0,se=C.useMemo(function(){if(i===0||V===0)return 0;var Y=i/V;return Y*ee},[i,V,ee]),me=function(Q){Q.stopPropagation(),Q.preventDefault()},K=C.useRef({top:se,dragging:g,pageY:A,startTop:T});K.current={top:se,dragging:g,pageY:A,startTop:T};var te=function(Q){S(!0),M(NE(Q,c)),E(K.current.top),s(),Q.stopPropagation(),Q.preventDefault()};C.useEffect(function(){var Y=function(fe){fe.preventDefault()},Q=F.current,ie=L.current;return Q.addEventListener("touchstart",Y,{passive:!1}),ie.addEventListener("touchstart",te,{passive:!1}),function(){Q.removeEventListener("touchstart",Y),ie.removeEventListener("touchstart",te)}},[]);var ae=C.useRef();ae.current=V;var de=C.useRef();de.current=ee,C.useEffect(function(){if(g){var Y,Q=function(fe){var pe=K.current,$=pe.dragging,U=pe.pageY,le=pe.startTop;Gn.cancel(Y);var be=F.current.getBoundingClientRect(),we=d/(c?be.width:be.height);if($){var Oe=(NE(fe,c)-U)*we,De=le;!B&&c?De-=Oe:De+=Oe;var ge=ae.current,Fe=de.current,Xe=Fe?De/Fe:0,Ne=Math.ceil(Xe*ge);Ne=Math.max(Ne,0),Ne=Math.min(Ne,ge),Y=Gn(function(){l(Ne,c)})}},ie=function(){S(!1),a()};return window.addEventListener("mousemove",Q,{passive:!0}),window.addEventListener("touchmove",Q,{passive:!0}),window.addEventListener("mouseup",ie,{passive:!0}),window.addEventListener("touchend",ie,{passive:!0}),function(){window.removeEventListener("mousemove",Q),window.removeEventListener("touchmove",Q),window.removeEventListener("mouseup",ie),window.removeEventListener("touchend",ie),Gn.cancel(Y)}}},[g]),C.useEffect(function(){return W(),function(){clearTimeout(N.current)}},[i]),C.useImperativeHandle(e,function(){return{delayHidden:W}});var _e="".concat(n,"-scrollbar"),Re={position:"absolute",visibility:j?null:"hidden"},Te={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return c?(Re.height=8,Re.left=0,Re.right=0,Re.bottom=0,Te.height="100%",Te.width=u,B?Te.left=se:Te.right=se):(Re.width=8,Re.top=0,Re.bottom=0,B?Re.right=0:Re.left=0,Te.width="100%",Te.height=u,Te.top=se),C.createElement("div",{ref:F,className:nt(_e,xe(xe(xe({},"".concat(_e,"-horizontal"),c),"".concat(_e,"-vertical"),!c),"".concat(_e,"-visible"),j)),style:Ce(Ce({},Re),f),onMouseDown:me,onMouseMove:W},C.createElement("div",{ref:L,className:nt("".concat(_e,"-thumb"),xe({},"".concat(_e,"-thumb-moving"),g)),style:Ce(Ce({},Te),m),onMouseDown:te}))}),Xie=20;function XL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,Xie),Math.floor(n)}var Kie=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],Jie=[],Yie={overflowY:"auto",overflowAnchor:"none"};function qie(t,e){var n=t.prefixCls,r=n===void 0?"rc-virtual-list":n,i=t.className,o=t.height,s=t.itemHeight,a=t.fullHeight,l=a===void 0?!0:a,c=t.style,u=t.data,d=t.children,f=t.itemKey,m=t.virtual,v=t.direction,x=t.scrollWidth,y=t.component,g=y===void 0?"div":y,S=t.onScroll,_=t.onVirtualScroll,w=t.onVisibleChange,A=t.innerProps,M=t.extraRender,P=t.styles,I=t.showScrollBar,T=I===void 0?"optional":I,E=On(t,Kie),B=C.useCallback(function(ve){return typeof f=="function"?f(ve):ve==null?void 0:ve[f]},[f]),F=Vie(B,null,null),L=ke(F,4),z=L[0],G=L[1],j=L[2],X=L[3],N=!!(m!==!1&&o&&s),W=C.useMemo(function(){return Object.values(j.maps).reduce(function(ve,Me){return ve+Me},0)},[j.id,j.maps]),V=N&&u&&(Math.max(s*u.length,W)>o||!!x),ee=v==="rtl",se=nt(r,xe({},"".concat(r,"-rtl"),ee),i),me=u||Jie,K=C.useRef(),te=C.useRef(),ae=C.useRef(),de=C.useState(0),_e=ke(de,2),Re=_e[0],Te=_e[1],Y=C.useState(0),Q=ke(Y,2),ie=Q[0],ye=Q[1],fe=C.useState(!1),pe=ke(fe,2),$=pe[0],U=pe[1],le=function(){U(!0)},be=function(){U(!1)},we={getKey:B};function Oe(ve){Te(function(Me){var Ae;typeof ve=="function"?Ae=ve(Me):Ae=ve;var Se=Dt(Ae);return K.current.scrollTop=Se,Se})}var De=C.useRef({start:0,end:me.length}),ge=C.useRef(),Fe=Uie(me,B),Xe=ke(Fe,1),Ne=Xe[0];ge.current=Ne;var He=C.useMemo(function(){if(!N)return{scrollHeight:void 0,start:0,end:me.length-1,offset:void 0};if(!V){var ve;return{scrollHeight:((ve=te.current)===null||ve===void 0?void 0:ve.offsetHeight)||0,start:0,end:me.length-1,offset:void 0}}for(var Me=0,Ae,Se,qe,Ge=me.length,et=0;et<Ge;et+=1){var Et=me[et],yt=B(Et),Ut=j.get(yt),St=Me+(Ut===void 0?s:Ut);St>=Re&&Ae===void 0&&(Ae=et,Se=Me),St>Re+o&&qe===void 0&&(qe=et),Me=St}return Ae===void 0&&(Ae=0,Se=0,qe=Math.ceil(o/s)),qe===void 0&&(qe=me.length-1),qe=Math.min(qe+1,me.length-1),{scrollHeight:Me,start:Ae,end:qe,offset:Se}},[V,N,Re,me,X,o]),Ye=He.scrollHeight,Ke=He.start,We=He.end,ot=He.offset;De.current.start=Ke,De.current.end=We,C.useLayoutEffect(function(){var ve=j.getRecord();if(ve.size===1){var Me=Array.from(ve.keys())[0],Ae=ve.get(Me),Se=me[Ke];if(Se&&Ae===void 0){var qe=B(Se);if(qe===Me){var Ge=j.get(Me),et=Ge-s;Oe(function(Et){return Et+et})}}}j.resetRecord()},[Ye]);var je=C.useState({width:0,height:o}),Ze=ke(je,2),ft=Ze[0],he=Ze[1],Ee=function(Me){he({width:Me.offsetWidth,height:Me.offsetHeight})},Z=C.useRef(),ze=C.useRef(),Pe=C.useMemo(function(){return XL(ft.width,x)},[ft.width,x]),ct=C.useMemo(function(){return XL(ft.height,Ye)},[ft.height,Ye]),at=Ye-o,Ft=C.useRef(at);Ft.current=at;function Dt(ve){var Me=ve;return Number.isNaN(Ft.current)||(Me=Math.min(Me,Ft.current)),Me=Math.max(Me,0),Me}var Lt=Re<=0,Pt=Re>=at,st=ie<=0,ut=ie>=x,lt=jH(Lt,Pt,st,ut),Gt=function(){return{x:ee?-ie:ie,y:Re}},yn=C.useRef(Gt()),bt=lr(function(ve){if(_){var Me=Ce(Ce({},Gt()),ve);(yn.current.x!==Me.x||yn.current.y!==Me.y)&&(_(Me),yn.current=Me)}});function ht(ve,Me){var Ae=ve;Me?(ka.flushSync(function(){ye(Ae)}),bt()):Oe(Ae)}function Mt(ve){var Me=ve.currentTarget.scrollTop;Me!==Re&&Oe(Me),S==null||S(ve),bt()}var wt=function(Me){var Ae=Me,Se=x?x-ft.width:0;return Ae=Math.max(Ae,0),Ae=Math.min(Ae,Se),Ae},vt=lr(function(ve,Me){Me?(ka.flushSync(function(){ye(function(Ae){var Se=Ae+(ee?-ve:ve);return wt(Se)})}),bt()):Oe(function(Ae){var Se=Ae+ve;return Se})}),dt=kie(N,Lt,Pt,st,ut,!!x,vt),pn=ke(dt,2),fn=pn[0],H=pn[1];Gie(N,K,function(ve,Me,Ae,Se){var qe=Se;return lt(ve,Me,Ae)?!1:!qe||!qe._virtualHandled?(qe&&(qe._virtualHandled=!0),fn({preventDefault:function(){},deltaX:ve?Me:0,deltaY:ve?0:Me}),!0):!1}),$ie(V,K,function(ve){Oe(function(Me){return Me+ve})}),Vn(function(){function ve(Ae){var Se=Lt&&Ae.detail<0,qe=Pt&&Ae.detail>0;N&&!Se&&!qe&&Ae.preventDefault()}var Me=K.current;return Me.addEventListener("wheel",fn,{passive:!1}),Me.addEventListener("DOMMouseScroll",H,{passive:!0}),Me.addEventListener("MozMousePixelScroll",ve,{passive:!1}),function(){Me.removeEventListener("wheel",fn),Me.removeEventListener("DOMMouseScroll",H),Me.removeEventListener("MozMousePixelScroll",ve)}},[N,Lt,Pt]),Vn(function(){if(x){var ve=wt(ie);ye(ve),bt({x:ve})}},[ft.width,x]);var J=function(){var Me,Ae;(Me=Z.current)===null||Me===void 0||Me.delayHidden(),(Ae=ze.current)===null||Ae===void 0||Ae.delayHidden()},D=jie(K,me,j,s,B,function(){return G(!0)},Oe,J);C.useImperativeHandle(e,function(){return{nativeElement:ae.current,getScrollInfo:Gt,scrollTo:function(Me){function Ae(Se){return Se&&$t(Se)==="object"&&("left"in Se||"top"in Se)}Ae(Me)?(Me.left!==void 0&&ye(wt(Me.left)),D(Me.top)):D(Me)}}}),Vn(function(){if(w){var ve=me.slice(Ke,We+1);w(ve,me)}},[Ke,We,me]);var q=zie(me,B,j,s),ne=M==null?void 0:M({start:Ke,end:We,virtual:V,offsetX:ie,offsetY:ot,rtl:ee,getSize:q}),oe=Fie(me,Ke,We,x,ie,z,d,we),ue=null;o&&(ue=Ce(xe({},l?"height":"maxHeight",o),Yie),N&&(ue.overflowY="hidden",x&&(ue.overflowX="hidden"),$&&(ue.pointerEvents="none")));var Ie={};return ee&&(Ie.dir="rtl"),C.createElement("div",Xt({ref:ae,style:Ce(Ce({},c),{},{position:"relative"}),className:se},Ie,E),C.createElement(tc,{onResize:Ee},C.createElement(g,{className:"".concat(r,"-holder"),style:ue,ref:K,onScroll:Mt,onMouseEnter:J},C.createElement(WH,{prefixCls:r,height:Ye,offsetX:ie,offsetY:ot,scrollWidth:x,onInnerResize:G,ref:te,innerProps:A,rtl:ee,extra:ne},oe))),V&&Ye>o&&C.createElement(jL,{ref:Z,prefixCls:r,scrollOffset:Re,scrollRange:Ye,rtl:ee,onScroll:ht,onStartMove:le,onStopMove:be,spinSize:ct,containerSize:ft.height,style:P==null?void 0:P.verticalScrollBar,thumbStyle:P==null?void 0:P.verticalScrollBarThumb,showScrollBar:T}),V&&x>ft.width&&C.createElement(jL,{ref:ze,prefixCls:r,scrollOffset:ie,scrollRange:x,rtl:ee,onScroll:ht,onStartMove:le,onStopMove:be,spinSize:Pe,containerSize:ft.width,horizontal:!0,style:P==null?void 0:P.horizontalScrollBar,thumbStyle:P==null?void 0:P.horizontalScrollBarThumb,showScrollBar:T}))}var XH=C.forwardRef(qie);XH.displayName="List";function Qie(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var Zie=["disabled","title","children","style","className"];function KL(t){return typeof t=="string"||typeof t=="number"}var eoe=function(e,n){var r=zre(),i=r.prefixCls,o=r.id,s=r.open,a=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,m=C.useContext(zT),v=m.maxCount,x=m.flattenOptions,y=m.onActiveValue,g=m.defaultActiveFirstOption,S=m.onSelect,_=m.menuItemSelectedIcon,w=m.rawValues,A=m.fieldNames,M=m.virtual,P=m.direction,I=m.listHeight,T=m.listItemHeight,E=m.optionRender,B="".concat(i,"-item"),F=nS(function(){return x},[s,x],function(Y,Q){return Q[0]&&Y[1]!==Q[1]}),L=C.useRef(null),z=C.useMemo(function(){return a&&LE(v)&&(w==null?void 0:w.size)>=v},[a,v,w==null?void 0:w.size]),G=function(Q){Q.preventDefault()},j=function(Q){var ie;(ie=L.current)===null||ie===void 0||ie.scrollTo(typeof Q=="number"?{index:Q}:Q)},X=C.useCallback(function(Y){return l==="combobox"?!1:w.has(Y)},[l,pt(w).toString(),w.size]),N=function(Q){for(var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,ye=F.length,fe=0;fe<ye;fe+=1){var pe=(Q+fe*ie+ye)%ye,$=F[pe]||{},U=$.group,le=$.data;if(!U&&!(le!=null&&le.disabled)&&(X(le.value)||!z))return pe}return-1},W=C.useState(function(){return N(0)}),V=ke(W,2),ee=V[0],se=V[1],me=function(Q){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;se(Q);var ye={source:ie?"keyboard":"mouse"},fe=F[Q];if(!fe){y(null,-1,ye);return}y(fe.value,Q,ye)};C.useEffect(function(){me(g!==!1?N(0):-1)},[F.length,c]);var K=C.useCallback(function(Y){return l==="combobox"?String(Y).toLowerCase()===c.toLowerCase():w.has(Y)},[l,c,pt(w).toString(),w.size]);C.useEffect(function(){var Y=setTimeout(function(){if(!a&&s&&w.size===1){var ie=Array.from(w)[0],ye=F.findIndex(function(fe){var pe=fe.data;return c?String(pe.value).startsWith(c):pe.value===ie});ye!==-1&&(me(ye),j(ye))}});if(s){var Q;(Q=L.current)===null||Q===void 0||Q.scrollTo(void 0)}return function(){return clearTimeout(Y)}},[s,c]);var te=function(Q){Q!==void 0&&S(Q,{selected:!w.has(Q)}),a||u(!1)};if(C.useImperativeHandle(n,function(){return{onKeyDown:function(Q){var ie=Q.which,ye=Q.ctrlKey;switch(ie){case rt.N:case rt.P:case rt.UP:case rt.DOWN:{var fe=0;if(ie===rt.UP?fe=-1:ie===rt.DOWN?fe=1:Qie()&&ye&&(ie===rt.N?fe=1:ie===rt.P&&(fe=-1)),fe!==0){var pe=N(ee+fe,fe);j(pe),me(pe,!0)}break}case rt.TAB:case rt.ENTER:{var $,U=F[ee];U&&!(U!=null&&($=U.data)!==null&&$!==void 0&&$.disabled)&&!z?te(U.value):te(void 0),s&&Q.preventDefault();break}case rt.ESC:u(!1),s&&Q.stopPropagation()}},onKeyUp:function(){},scrollTo:function(Q){j(Q)}}}),F.length===0)return C.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(B,"-empty"),onMouseDown:G},d);var ae=Object.keys(A).map(function(Y){return A[Y]}),de=function(Q){return Q.label};function _e(Y,Q){var ie=Y.group;return{role:ie?"presentation":"option",id:"".concat(o,"_list_").concat(Q)}}var Re=function(Q){var ie=F[Q];if(!ie)return null;var ye=ie.data||{},fe=ye.value,pe=ie.group,$=Pf(ye,!0),U=de(ie);return ie?C.createElement("div",Xt({"aria-label":typeof U=="string"&&!pe?U:null},$,{key:Q},_e(ie,Q),{"aria-selected":K(fe)}),fe):null},Te={role:"listbox",id:"".concat(o,"_list")};return C.createElement(C.Fragment,null,M&&C.createElement("div",Xt({},Te,{style:{height:0,width:0,overflow:"hidden"}}),Re(ee-1),Re(ee),Re(ee+1)),C.createElement(XH,{itemKey:"key",ref:L,data:F,height:I,itemHeight:T,fullHeight:!1,onMouseDown:G,onScroll:f,virtual:M,direction:P,innerProps:M?null:Te},function(Y,Q){var ie=Y.group,ye=Y.groupOption,fe=Y.data,pe=Y.label,$=Y.value,U=fe.key;if(ie){var le,be=(le=fe.title)!==null&&le!==void 0?le:KL(pe)?pe.toString():void 0;return C.createElement("div",{className:nt(B,"".concat(B,"-group"),fe.className),title:be},pe!==void 0?pe:U)}var we=fe.disabled,Oe=fe.title;fe.children;var De=fe.style,ge=fe.className,Fe=On(fe,Zie),Xe=Ru(Fe,ae),Ne=X($),He=we||!Ne&&z,Ye="".concat(B,"-option"),Ke=nt(B,Ye,ge,xe(xe(xe(xe({},"".concat(Ye,"-grouped"),ye),"".concat(Ye,"-active"),ee===Q&&!He),"".concat(Ye,"-disabled"),He),"".concat(Ye,"-selected"),Ne)),We=de(Y),ot=!_||typeof _=="function"||Ne,je=typeof We=="number"?We:We||$,Ze=KL(je)?je.toString():void 0;return Oe!==void 0&&(Ze=Oe),C.createElement("div",Xt({},Pf(Xe),M?{}:_e(Y,Q),{"aria-selected":K($),className:Ke,title:Ze,onMouseMove:function(){ee===Q||He||me(Q)},onClick:function(){He||te($)},style:De}),C.createElement("div",{className:"".concat(Ye,"-content")},typeof E=="function"?E(Y,{index:Q}):je),C.isValidElement(_)||Ne,ot&&C.createElement(CS,{className:"".concat(B,"-option-state"),customizeIcon:_,customizeIconProps:{value:$,disabled:He,isSelected:Ne}},Ne?"✓":null))}))},toe=C.forwardRef(eoe);const noe=function(t,e){var n=C.useRef({values:new Map,options:new Map}),r=C.useMemo(function(){var o=n.current,s=o.values,a=o.options,l=t.map(function(d){if(d.label===void 0){var f;return Ce(Ce({},d),{},{label:(f=s.get(d.value))===null||f===void 0?void 0:f.label})}return d}),c=new Map,u=new Map;return l.forEach(function(d){c.set(d.value,d),u.set(d.value,e.get(d.value)||a.get(d.value))}),n.current.values=c,n.current.options=u,l},[t,e]),i=C.useCallback(function(o){return e.get(o)||n.current.options.get(o)},[e]);return[r,i]};function uC(t,e){return HH(t).join("").toUpperCase().includes(e)}const roe=function(t,e,n,r,i){return C.useMemo(function(){if(!n||r===!1)return t;var o=e.options,s=e.label,a=e.value,l=[],c=typeof r=="function",u=n.toUpperCase(),d=c?r:function(m,v){return i?uC(v[i],u):v[o]?uC(v[s!=="children"?s:"label"],u):uC(v[a],u)},f=c?function(m){return DE(m)}:function(m){return m};return t.forEach(function(m){if(m[o]){var v=d(n,f(m));if(v)l.push(m);else{var x=m[o].filter(function(y){return d(n,f(y))});x.length&&l.push(Ce(Ce({},m),{},xe({},o,x)))}return}d(n,f(m))&&l.push(m)}),l},[t,r,i,n,e])};var JL=0,ioe=eo();function ooe(){var t;return ioe?(t=JL,JL+=1):t="TEST_OR_SSR",t}function soe(t){var e=C.useState(),n=ke(e,2),r=n[0],i=n[1];return C.useEffect(function(){i("rc_select_".concat(ooe()))},[]),t||r}var aoe=["children","value"],loe=["children"];function coe(t){var e=t,n=e.key,r=e.props,i=r.children,o=r.value,s=On(r,aoe);return Ce({key:n,value:o!==void 0?o:n,children:i},s)}function KH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return wf(t).map(function(n,r){if(!C.isValidElement(n)||!n.type)return null;var i=n,o=i.type.isSelectOptGroup,s=i.key,a=i.props,l=a.children,c=On(a,loe);return e||!o?coe(n):Ce(Ce({key:"__RC_SELECT_GRP__".concat(s===null?r:s,"__"),label:s},c),{},{options:KH(l)})}).filter(function(n){return n})}var uoe=function(e,n,r,i,o){return C.useMemo(function(){var s=e,a=!e;a&&(s=KH(n));var l=new Map,c=new Map,u=function(m,v,x){x&&typeof x=="string"&&m.set(v[x],v)},d=function f(m){for(var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=0;x<m.length;x+=1){var y=m[x];!y[r.options]||v?(l.set(y[r.value],y),u(c,y,r.label),u(c,y,i),u(c,y,o)):f(y[r.options],!0)}};return d(s),{options:s,valueOptions:l,labelOptions:c}},[e,n,r,i,o])};function YL(t){var e=C.useRef();e.current=t;var n=C.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var doe=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],foe=["inputValue"];function hoe(t){return!t||$t(t)!=="object"}var poe=C.forwardRef(function(t,e){var n=t.id,r=t.mode,i=t.prefixCls,o=i===void 0?"rc-select":i,s=t.backfill,a=t.fieldNames,l=t.inputValue,c=t.searchValue,u=t.onSearch,d=t.autoClearSearchValue,f=d===void 0?!0:d,m=t.onSelect,v=t.onDeselect,x=t.dropdownMatchSelectWidth,y=x===void 0?!0:x,g=t.filterOption,S=t.filterSort,_=t.optionFilterProp,w=t.optionLabelProp,A=t.options,M=t.optionRender,P=t.children,I=t.defaultActiveFirstOption,T=t.menuItemSelectedIcon,E=t.virtual,B=t.direction,F=t.listHeight,L=F===void 0?200:F,z=t.listItemHeight,G=z===void 0?20:z,j=t.labelRender,X=t.value,N=t.defaultValue,W=t.labelInValue,V=t.onChange,ee=t.maxCount,se=On(t,doe),me=soe(n),K=FE(r),te=!!(!A&&P),ae=C.useMemo(function(){return g===void 0&&r==="combobox"?!1:g},[g,r]),de=C.useMemo(function(){return $H(a,te)},[JSON.stringify(a),te]),_e=Va("",{value:c!==void 0?c:l,postState:function(ht){return ht||""}}),Re=ke(_e,2),Te=Re[0],Y=Re[1],Q=uoe(A,P,de,_,w),ie=Q.valueOptions,ye=Q.labelOptions,fe=Q.options,pe=C.useCallback(function(bt){var ht=HH(bt);return ht.map(function(Mt){var wt,vt,dt,pn,fn;if(hoe(Mt))wt=Mt;else{var H;dt=Mt.key,vt=Mt.label,wt=(H=Mt.value)!==null&&H!==void 0?H:dt}var J=ie.get(wt);if(J){var D;vt===void 0&&(vt=J==null?void 0:J[w||de.label]),dt===void 0&&(dt=(D=J==null?void 0:J.key)!==null&&D!==void 0?D:wt),pn=J==null?void 0:J.disabled,fn=J==null?void 0:J.title}return{label:vt,value:wt,key:dt,disabled:pn,title:fn}})},[de,w,ie]),$=Va(N,{value:X}),U=ke($,2),le=U[0],be=U[1],we=C.useMemo(function(){var bt,ht=K&&le===null?[]:le,Mt=pe(ht);return r==="combobox"&&oie((bt=Mt[0])===null||bt===void 0?void 0:bt.value)?[]:Mt},[le,pe,r,K]),Oe=noe(we,ie),De=ke(Oe,2),ge=De[0],Fe=De[1],Xe=C.useMemo(function(){if(!r&&ge.length===1){var bt=ge[0];if(bt.value===null&&(bt.label===null||bt.label===void 0))return[]}return ge.map(function(ht){var Mt;return Ce(Ce({},ht),{},{label:(Mt=typeof j=="function"?j(ht):ht.label)!==null&&Mt!==void 0?Mt:ht.value})})},[r,ge,j]),Ne=C.useMemo(function(){return new Set(ge.map(function(bt){return bt.value}))},[ge]);C.useEffect(function(){if(r==="combobox"){var bt,ht=(bt=ge[0])===null||bt===void 0?void 0:bt.value;Y(iie(ht)?String(ht):"")}},[ge]);var He=YL(function(bt,ht){var Mt=ht??bt;return xe(xe({},de.value,bt),de.label,Mt)}),Ye=C.useMemo(function(){if(r!=="tags")return fe;var bt=pt(fe),ht=function(wt){return ie.has(wt)};return pt(ge).sort(function(Mt,wt){return Mt.value<wt.value?-1:1}).forEach(function(Mt){var wt=Mt.value;ht(wt)||bt.push(He(wt,Mt.label))}),bt},[He,fe,ie,ge,r]),Ke=roe(Ye,de,Te,ae,_),We=C.useMemo(function(){return r!=="tags"||!Te||Ke.some(function(bt){return bt[_||"value"]===Te})||Ke.some(function(bt){return bt[de.value]===Te})?Ke:[He(Te)].concat(pt(Ke))},[He,_,r,Ke,Te,de]),ot=function bt(ht){var Mt=pt(ht).sort(function(wt,vt){return S(wt,vt,{searchValue:Te})});return Mt.map(function(wt){return Array.isArray(wt.options)?Ce(Ce({},wt),{},{options:wt.options.length>0?bt(wt.options):wt.options}):wt})},je=C.useMemo(function(){return S?ot(We):We},[We,S,Te]),Ze=C.useMemo(function(){return Rie(je,{fieldNames:de,childrenAsData:te})},[je,de,te]),ft=function(ht){var Mt=pe(ht);if(be(Mt),V&&(Mt.length!==ge.length||Mt.some(function(dt,pn){var fn;return((fn=ge[pn])===null||fn===void 0?void 0:fn.value)!==(dt==null?void 0:dt.value)}))){var wt=W?Mt:Mt.map(function(dt){return dt.value}),vt=Mt.map(function(dt){return DE(Fe(dt.value))});V(K?wt:wt[0],K?vt:vt[0])}},he=C.useState(null),Ee=ke(he,2),Z=Ee[0],ze=Ee[1],Pe=C.useState(0),ct=ke(Pe,2),at=ct[0],Ft=ct[1],Dt=I!==void 0?I:r!=="combobox",Lt=C.useCallback(function(bt,ht){var Mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},wt=Mt.source,vt=wt===void 0?"keyboard":wt;Ft(ht),s&&r==="combobox"&&bt!==null&&vt==="keyboard"&&ze(String(bt))},[s,r]),Pt=function(ht,Mt,wt){var vt=function(){var ue,Ie=Fe(ht);return[W?{label:Ie==null?void 0:Ie[de.label],value:ht,key:(ue=Ie==null?void 0:Ie.key)!==null&&ue!==void 0?ue:ht}:ht,DE(Ie)]};if(Mt&&m){var dt=vt(),pn=ke(dt,2),fn=pn[0],H=pn[1];m(fn,H)}else if(!Mt&&v&&wt!=="clear"){var J=vt(),D=ke(J,2),q=D[0],ne=D[1];v(q,ne)}},st=YL(function(bt,ht){var Mt,wt=K?ht.selected:!0;wt?Mt=K?[].concat(pt(ge),[bt]):[bt]:Mt=ge.filter(function(vt){return vt.value!==bt}),ft(Mt),Pt(bt,wt),r==="combobox"?ze(""):(!FE||f)&&(Y(""),ze(""))}),ut=function(ht,Mt){ft(ht);var wt=Mt.type,vt=Mt.values;(wt==="remove"||wt==="clear")&&vt.forEach(function(dt){Pt(dt.value,!1,wt)})},lt=function(ht,Mt){if(Y(ht),ze(null),Mt.source==="submit"){var wt=(ht||"").trim();if(wt){var vt=Array.from(new Set([].concat(pt(Ne),[wt])));ft(vt),Pt(wt,!0),Y("")}return}Mt.source!=="blur"&&(r==="combobox"&&ft(ht),u==null||u(ht))},Gt=function(ht){var Mt=ht;r!=="tags"&&(Mt=ht.map(function(vt){var dt=ye.get(vt);return dt==null?void 0:dt.value}).filter(function(vt){return vt!==void 0}));var wt=Array.from(new Set([].concat(pt(Ne),pt(Mt))));ft(wt),wt.forEach(function(vt){Pt(vt,!0)})},yn=C.useMemo(function(){var bt=E!==!1&&y!==!1;return Ce(Ce({},Q),{},{flattenOptions:Ze,onActiveValue:Lt,defaultActiveFirstOption:Dt,onSelect:st,menuItemSelectedIcon:T,rawValues:Ne,fieldNames:de,virtual:bt,direction:B,listHeight:L,listItemHeight:G,childrenAsData:te,maxCount:ee,optionRender:M})},[ee,Q,Ze,Lt,Dt,st,T,Ne,de,E,y,B,L,G,te,M]);return C.createElement(zT.Provider,{value:yn},C.createElement(Lie,Xt({},se,{id:me,prefixCls:o,ref:e,omitDomProps:foe,mode:r,displayValues:Xe,onDisplayValuesChange:ut,direction:B,searchValue:Te,onSearch:lt,autoClearSearchValue:f,onSearchSplit:Gt,dropdownMatchSelectWidth:y,OptionList:toe,emptyOptions:!Ze.length,activeValue:Z,activeDescendantId:"".concat(me,"_list_").concat(at)})))}),GT=poe;GT.Option=VT;GT.OptGroup=HT;function mx(t,e,n){return nt({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const bS=(t,e)=>e||t,moe=()=>{const[,t]=ss(),[e]=lS("Empty"),r=new Un(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return C.createElement("svg",{style:r,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},C.createElement("title",null,(e==null?void 0:e.description)||"Empty"),C.createElement("g",{fill:"none",fillRule:"evenodd"},C.createElement("g",{transform:"translate(24 31.67)"},C.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),C.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),C.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),C.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),C.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),C.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),C.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},C.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),C.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},goe=moe,voe=()=>{const[,t]=ss(),[e]=lS("Empty"),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=t,{borderColor:s,shadowColor:a,contentColor:l}=C.useMemo(()=>({borderColor:new Un(n).onBackground(o).toHexString(),shadowColor:new Un(r).onBackground(o).toHexString(),contentColor:new Un(i).onBackground(o).toHexString()}),[n,r,i,o]);return C.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},C.createElement("title",null,(e==null?void 0:e.description)||"Empty"),C.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},C.createElement("ellipse",{fill:a,cx:"32",cy:"33",rx:"32",ry:"7"}),C.createElement("g",{fillRule:"nonzero",stroke:s},C.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),C.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))},yoe=voe,xoe=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:s}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},Soe=Ao("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:r}=t,i=or(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:r(n).mul(.875).equal()});return[xoe(i)]});var _oe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const JH=C.createElement(goe,null),YH=C.createElement(yoe,null),$T=t=>{const{className:e,rootClassName:n,prefixCls:r,image:i=JH,description:o,children:s,imageStyle:a,style:l,classNames:c,styles:u}=t,d=_oe(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style","classNames","styles"]),{getPrefixCls:f,direction:m,className:v,style:x,classNames:y,styles:g}=nc("empty"),S=f("empty",r),[_,w,A]=Soe(S),[M]=lS("Empty"),P=typeof o<"u"?o:M==null?void 0:M.description,I=typeof P=="string"?P:"empty";let T=null;return typeof i=="string"?T=C.createElement("img",{alt:I,src:i}):T=i,_(C.createElement("div",Object.assign({className:nt(w,A,S,v,{[`${S}-normal`]:i===YH,[`${S}-rtl`]:m==="rtl"},e,n,y.root,c==null?void 0:c.root),style:Object.assign(Object.assign(Object.assign(Object.assign({},g.root),x),u==null?void 0:u.root),l)},d),C.createElement("div",{className:nt(`${S}-image`,y.image,c==null?void 0:c.image),style:Object.assign(Object.assign(Object.assign({},a),g.image),u==null?void 0:u.image)},T),P&&C.createElement("div",{className:nt(`${S}-description`,y.description,c==null?void 0:c.description),style:Object.assign(Object.assign({},g.description),u==null?void 0:u.description)},P),s&&C.createElement("div",{className:nt(`${S}-footer`,y.footer,c==null?void 0:c.footer),style:Object.assign(Object.assign({},g.footer),u==null?void 0:u.footer)},s)))};$T.PRESENTED_IMAGE_DEFAULT=JH;$T.PRESENTED_IMAGE_SIMPLE=YH;const Vh=$T,Coe=t=>{const{componentName:e}=t,{getPrefixCls:n}=C.useContext(Wn),r=n("empty");switch(e){case"Table":case"List":return tt.createElement(Vh,{image:Vh.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return tt.createElement(Vh,{image:Vh.PRESENTED_IMAGE_SIMPLE,className:`${r}-small`});case"Table.filter":return null;default:return tt.createElement(Vh,null)}},boe=Coe,woe=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;var r,i;const{variant:o,[t]:s}=C.useContext(Wn),a=C.useContext(OH),l=s==null?void 0:s.variant;let c;typeof e<"u"?c=e:n===!1?c="borderless":c=(i=(r=a??l)!==null&&r!==void 0?r:o)!==null&&i!==void 0?i:"outlined";const u=eQ.includes(c);return[c,u]},WT=woe,Eoe=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function Moe(t,e){return t||Eoe(e)}const qL=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:r,optionPadding:i}=t;return{position:"relative",display:"block",minHeight:e,padding:i,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:r,boxSizing:"border-box"}},Aoe=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`,i=`&${e}-slide-up-enter${e}-slide-up-enter-active`,o=`&${e}-slide-up-appear${e}-slide-up-appear-active`,s=`&${e}-slide-up-leave${e}-slide-up-leave-active`,a=`${n}-dropdown-placement-`,l=`${r}-option-selected`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},aa(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${i}${a}bottomLeft,
          ${o}${a}bottomLeft
        `]:{animationName:pH},[`
          ${i}${a}topLeft,
          ${o}${a}topLeft,
          ${i}${a}topRight,
          ${o}${a}topRight
        `]:{animationName:gH},[`${s}${a}bottomLeft`]:{animationName:mH},[`
          ${s}${a}topLeft,
          ${s}${a}topRight
        `]:{animationName:vH},"&-hidden":{display:"none"},[r]:Object.assign(Object.assign({},qL(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},dE),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${r}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},qL(t)),{color:t.colorTextDisabled})}),[`${l}:has(+ ${l})`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${l}`]:{borderStartStartRadius:0,borderStartEndRadius:0}},"&-rtl":{direction:"rtl"}})},hL(t,"slide-up"),hL(t,"slide-down"),fL(t,"move-up"),fL(t,"move-down")]},Toe=Aoe,Roe=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:r,INTERNAL_FIXED_ITEM_MARGIN:i}=t,o=t.max(t.calc(n).sub(r).equal(),0),s=t.max(t.calc(o).sub(i).equal(),0);return{basePadding:o,containerPadding:s,itemHeight:Ct(e),itemLineHeight:Ct(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},Poe=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:r}=t;return t.calc(n).sub(e).div(2).sub(r).equal()},Ioe=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:r,motionDurationSlow:i,paddingXS:o,multipleItemColorDisabled:s,multipleItemBorderColorDisabled:a,colorIcon:l,colorIconHover:c,INTERNAL_FIXED_ITEM_MARGIN:u}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:u,borderRadius:r,cursor:"default",transition:`font-size ${i}, line-height ${i}, height ${i}`,marginInlineEnd:t.calc(u).mul(2).equal(),paddingInlineStart:o,paddingInlineEnd:t.calc(o).div(2).equal(),[`${e}-disabled&`]:{color:s,borderColor:a,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(o).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},uS()),{display:"inline-flex",alignItems:"center",color:l,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:c}})}}}},Boe=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:r}=t,i=`${n}-selection-overflow`,o=t.multipleSelectItemHeight,s=Poe(t),a=e?`${n}-${e}`:"",l=Roe(t);return{[`${n}-multiple${a}`]:Object.assign(Object.assign({},Ioe(t)),{[`${n}-selector`]:{display:"flex",alignItems:"center",width:"100%",height:"100%",paddingInline:l.basePadding,paddingBlock:l.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${Ct(r)} 0`,lineHeight:Ct(o),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:l.itemHeight,lineHeight:Ct(l.itemLineHeight)},[`${n}-selection-wrap`]:{alignSelf:"flex-start","&:after":{lineHeight:Ct(o),marginBlock:r}},[`${n}-prefix`]:{marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal()},[`${i}-item + ${i}-item,
        ${n}-prefix + ${n}-selection-wrap
      `]:{[`${n}-selection-search`]:{marginInlineStart:0},[`${n}-selection-placeholder`]:{insetInlineStart:0}},[`${i}-item-suffix`]:{minHeight:l.itemHeight,marginBlock:r},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(s).equal(),"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:Ct(o),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l.basePadding).equal(),insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function dC(t,e){const{componentCls:n}=t,r=e?`${n}-${e}`:"",i={[`${n}-multiple${r}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[Boe(t,e),i]}const Ooe=t=>{const{componentCls:e}=t,n=or(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),r=or(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[dC(t),dC(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},dC(r,"lg")]},Loe=Ooe;function fC(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),s=e?`${n}-${e}`:"";return{[`${n}-single${s}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},aa(t,!0)),{display:"flex",borderRadius:i,flex:"1 1 auto",[`${n}-selection-wrap:after`]:{lineHeight:Ct(o)},[`${n}-selection-search`]:{position:"absolute",inset:0,width:"100%","&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{display:"block",padding:0,lineHeight:Ct(o),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-search,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",alignItems:"center",padding:`0 ${Ct(r)}`,[`${n}-selection-search-input`]:{height:o,fontSize:t.fontSize},"&:after":{lineHeight:Ct(o)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${Ct(r)}`,"&:after":{display:"none"}}}}}}}function Doe(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[fC(t),fC(or(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selector`]:{padding:`0 ${Ct(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},fC(or(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const Foe=t=>{const{fontSize:e,lineHeight:n,lineWidth:r,controlHeight:i,controlHeightSM:o,controlHeightLG:s,paddingXXS:a,controlPaddingHorizontal:l,zIndexPopupBase:c,colorText:u,fontWeightStrong:d,controlItemBgActive:f,controlItemBgHover:m,colorBgContainer:v,colorFillSecondary:x,colorBgContainerDisabled:y,colorTextDisabled:g,colorPrimaryHover:S,colorPrimary:_,controlOutline:w}=t,A=a*2,M=r*2,P=Math.min(i-A,i-M),I=Math.min(o-A,o-M),T=Math.min(s-A,s-M);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(a/2),zIndexPopup:c+50,optionSelectedColor:u,optionSelectedFontWeight:d,optionSelectedBg:f,optionActiveBg:m,optionPadding:`${(i-e*n)/2}px ${l}px`,optionFontSize:e,optionLineHeight:n,optionHeight:i,selectorBg:v,clearBg:v,singleItemHeightLG:s,multipleItemBg:x,multipleItemBorderColor:"transparent",multipleItemHeight:P,multipleItemHeightSM:I,multipleItemHeightLG:T,multipleSelectorBgDisabled:y,multipleItemColorDisabled:g,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:S,activeBorderColor:_,activeOutlineColor:w,selectAffixPadding:a}},qH=(t,e)=>{const{componentCls:n,antCls:r,controlOutlineWidth:i}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${Ct(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${Ct(i)} ${e.activeOutlineColor}`,outline:0},[`${n}-prefix`]:{color:e.color}}}},QL=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},qH(t,e))}),Noe=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},qH(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),QL(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),QL(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ct(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),QH=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${Ct(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},ZL=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},QH(t,e))}),Uoe=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},QH(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),ZL(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),ZL(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),koe=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",border:`${Ct(t.lineWidth)} ${t.lineType} transparent`},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ct(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-prefix, ${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),ZH=(t,e)=>{const{componentCls:n,antCls:r}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{borderWidth:`0 0 ${Ct(t.lineWidth)} 0`,borderStyle:`none none ${t.lineType} none`,borderColor:e.borderColor,background:t.selectorBg,borderRadius:0},[`&:not(${n}-disabled):not(${n}-customize-input):not(${r}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,outline:0},[`${n}-prefix`]:{color:e.color}}}},eD=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},ZH(t,e))}),zoe=t=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign({},ZH(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor,color:t.colorText})),eD(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline,color:t.colorError})),eD(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${Ct(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),Hoe=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign(Object.assign({},Noe(t)),Uoe(t)),koe(t)),zoe(t))}),Voe=Hoe,Goe=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},$oe=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none",appearance:"none"}}}},Woe=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:r,iconCls:i}=t,o={[`${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}};return{[n]:Object.assign(Object.assign({},aa(t)),{position:"relative",display:"inline-flex",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},Goe(t)),$oe(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},dE),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},dE),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},uS()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[i]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-selection-wrap`]:{display:"flex",width:"100%",position:"relative",minWidth:0,"&:after":{content:'"\\a0"',width:0,overflow:"hidden"}},[`${n}-prefix`]:{flex:"none",marginInlineEnd:t.selectAffixPadding},[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:r,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorIcon}},"@media(hover:none)":o,"&:hover":o}),[`${n}-status`]:{"&-error, &-warning, &-success, &-validating":{[`&${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(r).add(t.fontSize).add(t.paddingXS).equal()}}}}}},joe=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},Woe(t),Doe(t),Loe(t),Toe(t),{[`${e}-rtl`]:{direction:"rtl"}},LT(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},Xoe=Ao("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=or(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[joe(r),Voe(r)]},Foe,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var Koe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const Joe=Koe;var Yoe=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:Joe}))},qoe=C.forwardRef(Yoe);const Qoe=qoe;var Zoe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const ese=Zoe;var tse=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:ese}))},nse=C.forwardRef(tse);const rse=nse;var ise={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const ose=ise;var sse=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:ose}))},ase=C.forwardRef(sse);const e5=ase;function lse(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:r,removeIcon:i,loading:o,multiple:s,hasFeedback:a,prefixCls:l,showSuffixIcon:c,feedbackIcon:u,showArrow:d,componentName:f}=t;const m=n??C.createElement(hS,null),v=S=>e===null&&!a&&!d?null:C.createElement(C.Fragment,null,c!==!1&&S,a&&u);let x=null;if(e!==void 0)x=v(e);else if(o)x=v(C.createElement(pS,{spin:!0}));else{const S=`${l}-suffix`;x=_=>{let{open:w,showSearch:A}=_;return v(w&&A?C.createElement(e5,{className:S}):C.createElement(rse,{className:S}))}}let y=null;r!==void 0?y=r:s?y=C.createElement(Qoe,null):y=null;let g=null;return i!==void 0?g=i:g=C.createElement(Qz,null),{clearIcon:m,suffixIcon:x,itemIcon:y,removeIcon:g}}function cse(t,e){return e!==void 0?e:t!==null}var use=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const t5="SECRET_COMBOBOX_MODE_DO_NOT_USE",dse=(t,e)=>{var n,r,i,o,s;const{prefixCls:a,bordered:l,className:c,rootClassName:u,getPopupContainer:d,popupClassName:f,dropdownClassName:m,listHeight:v=256,placement:x,listItemHeight:y,size:g,disabled:S,notFoundContent:_,status:w,builtinPlacements:A,dropdownMatchSelectWidth:M,popupMatchSelectWidth:P,direction:I,style:T,allowClear:E,variant:B,dropdownStyle:F,transitionName:L,tagRender:z,maxCount:G,prefix:j,dropdownRender:X,popupRender:N,onDropdownVisibleChange:W,onOpenChange:V,styles:ee,classNames:se}=t,me=use(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount","prefix","dropdownRender","popupRender","onDropdownVisibleChange","onOpenChange","styles","classNames"]),{getPopupContainer:K,getPrefixCls:te,renderEmpty:ae,direction:de,virtual:_e,popupMatchSelectWidth:Re,popupOverflow:Te}=C.useContext(Wn),{showSearch:Y,style:Q,styles:ie,className:ye,classNames:fe}=nc("select"),[,pe]=ss(),$=y??(pe==null?void 0:pe.controlHeight),U=te("select",a),le=te(),be=I??de,{compactSize:we,compactItemClassnames:Oe}=ag(U,be),[De,ge]=WT("select",B,l),Fe=ic(U),[Xe,Ne,He]=Xoe(U,Fe),Ye=C.useMemo(()=>{const{mode:wt}=t;if(wt!=="combobox")return wt===t5?"combobox":wt},[t.mode]),Ke=Ye==="multiple"||Ye==="tags",We=cse(t.suffixIcon,t.showArrow),ot=(n=P??M)!==null&&n!==void 0?n:Re,je=((r=ee==null?void 0:ee.popup)===null||r===void 0?void 0:r.root)||((i=ie.popup)===null||i===void 0?void 0:i.root)||F,Ze=N||X,ft=V||W,{status:he,hasFeedback:Ee,isFormItemInput:Z,feedbackIcon:ze}=C.useContext(Co),Pe=bS(he,w);let ct;_!==void 0?ct=_:Ye==="combobox"?ct=null:ct=(ae==null?void 0:ae("Select"))||C.createElement(boe,{componentName:"Select"});const{suffixIcon:at,itemIcon:Ft,removeIcon:Dt,clearIcon:Lt}=lse(Object.assign(Object.assign({},me),{multiple:Ke,hasFeedback:Ee,feedbackIcon:ze,showSuffixIcon:We,prefixCls:U,componentName:"Select"})),Pt=E===!0?{clearIcon:Lt}:E,st=Ru(me,["suffixIcon","itemIcon"]),ut=nt(((o=se==null?void 0:se.popup)===null||o===void 0?void 0:o.root)||((s=fe==null?void 0:fe.popup)===null||s===void 0?void 0:s.root)||f||m,{[`${U}-dropdown-${be}`]:be==="rtl"},u,fe.root,se==null?void 0:se.root,He,Fe,Ne),lt=Pu(wt=>{var vt;return(vt=g??we)!==null&&vt!==void 0?vt:wt}),Gt=C.useContext(rc),yn=S??Gt,bt=nt({[`${U}-lg`]:lt==="large",[`${U}-sm`]:lt==="small",[`${U}-rtl`]:be==="rtl",[`${U}-${De}`]:ge,[`${U}-in-form-item`]:Z},mx(U,Pe,Ee),Oe,ye,c,fe.root,se==null?void 0:se.root,u,He,Fe,Ne),ht=C.useMemo(()=>x!==void 0?x:be==="rtl"?"bottomRight":"bottomLeft",[x,be]),[Mt]=oH("SelectLike",je==null?void 0:je.zIndex);return Xe(C.createElement(GT,Object.assign({ref:e,virtual:_e,showSearch:Y},st,{style:Object.assign(Object.assign(Object.assign(Object.assign({},ie.root),ee==null?void 0:ee.root),Q),T),dropdownMatchSelectWidth:ot,transitionName:uH(le,"slide-up",L),builtinPlacements:Moe(A,Te),listHeight:v,listItemHeight:$,mode:Ye,prefixCls:U,placement:ht,direction:be,prefix:j,suffixIcon:at,menuItemSelectedIcon:Ft,removeIcon:Dt,allowClear:Pt,notFoundContent:ct,className:bt,getPopupContainer:d||K,dropdownClassName:ut,disabled:yn,dropdownStyle:Object.assign(Object.assign({},je),{zIndex:Mt}),maxCount:Ke?G:void 0,tagRender:Ke?z:void 0,dropdownRender:Ze,onDropdownVisibleChange:ft})))},th=C.forwardRef(dse),fse=Ure(th,"dropdownAlign");th.SECRET_COMBOBOX_MODE_DO_NOT_USE=t5;th.Option=VT;th.OptGroup=HT;th._InternalPanelDoNotUseOrYouWillBeFired=fse;const hse=th,pse=(t,e)=>{typeof(t==null?void 0:t.addEventListener)<"u"?t.addEventListener("change",e):typeof(t==null?void 0:t.addListener)<"u"&&t.addListener(e)},mse=(t,e)=>{typeof(t==null?void 0:t.removeEventListener)<"u"?t.removeEventListener("change",e):typeof(t==null?void 0:t.removeListener)<"u"&&t.removeListener(e)},wm=["xxl","xl","lg","md","sm","xs"],gse=t=>({xs:`(max-width: ${t.screenXSMax}px)`,sm:`(min-width: ${t.screenSM}px)`,md:`(min-width: ${t.screenMD}px)`,lg:`(min-width: ${t.screenLG}px)`,xl:`(min-width: ${t.screenXL}px)`,xxl:`(min-width: ${t.screenXXL}px)`}),vse=t=>{const e=t,n=[].concat(wm).reverse();return n.forEach((r,i)=>{const o=r.toUpperCase(),s=`screen${o}Min`,a=`screen${o}`;if(!(e[s]<=e[a]))throw new Error(`${s}<=${a} fails : !(${e[s]}<=${e[a]})`);if(i<n.length-1){const l=`screen${o}Max`;if(!(e[a]<=e[l]))throw new Error(`${a}<=${l} fails : !(${e[a]}<=${e[l]})`);const u=`screen${n[i+1].toUpperCase()}Min`;if(!(e[l]<=e[u]))throw new Error(`${l}<=${u} fails : !(${e[l]}<=${e[u]})`)}}),t},yse=()=>{const[,t]=ss(),e=gse(vse(t));return tt.useMemo(()=>{const n=new Map;let r=-1,i={};return{responsiveMap:e,matchHandlers:{},dispatch(o){return i=o,n.forEach(s=>s(i)),n.size>=1},subscribe(o){return n.size||this.register(),r+=1,n.set(r,o),o(i),r},unsubscribe(o){n.delete(o),n.size||this.unregister()},register(){Object.entries(e).forEach(o=>{let[s,a]=o;const l=u=>{let{matches:d}=u;this.dispatch(Object.assign(Object.assign({},i),{[s]:d}))},c=window.matchMedia(a);pse(c,l),this.matchHandlers[a]={mql:c,listener:l},l(c)})},unregister(){Object.values(e).forEach(o=>{const s=this.matchHandlers[o];mse(s==null?void 0:s.mql,s==null?void 0:s.listener)}),n.clear()}}},[t])};function xse(){const[,t]=C.useReducer(e=>e+1,0);return t}function Sse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=C.useRef(e),r=xse(),i=yse();return Vn(()=>{const o=i.subscribe(s=>{n.current=s,t&&r()});return()=>i.unsubscribe(o)},[]),n.current}function n5(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.bodyClassName,s=t.className,a=t.style;return C.createElement("div",{className:nt("".concat(n,"-content"),s),style:a},C.createElement("div",{className:nt("".concat(n,"-inner"),o),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var id={shiftX:64,adjustY:1},od={adjustX:1,shiftY:!0},zo=[0,0],_se={left:{points:["cr","cl"],overflow:od,offset:[-4,0],targetOffset:zo},right:{points:["cl","cr"],overflow:od,offset:[4,0],targetOffset:zo},top:{points:["bc","tc"],overflow:id,offset:[0,-4],targetOffset:zo},bottom:{points:["tc","bc"],overflow:id,offset:[0,4],targetOffset:zo},topLeft:{points:["bl","tl"],overflow:id,offset:[0,-4],targetOffset:zo},leftTop:{points:["tr","tl"],overflow:od,offset:[-4,0],targetOffset:zo},topRight:{points:["br","tr"],overflow:id,offset:[0,-4],targetOffset:zo},rightTop:{points:["tl","tr"],overflow:od,offset:[4,0],targetOffset:zo},bottomRight:{points:["tr","br"],overflow:id,offset:[0,4],targetOffset:zo},rightBottom:{points:["bl","br"],overflow:od,offset:[4,0],targetOffset:zo},bottomLeft:{points:["tl","bl"],overflow:id,offset:[0,4],targetOffset:zo},leftBottom:{points:["br","bl"],overflow:od,offset:[-4,0],targetOffset:zo}},Cse=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],bse=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,c=l===void 0?.1:l,u=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,m=e.children,v=e.onVisibleChange,x=e.afterVisibleChange,y=e.transitionName,g=e.animation,S=e.motion,_=e.placement,w=_===void 0?"right":_,A=e.align,M=A===void 0?{}:A,P=e.destroyTooltipOnHide,I=P===void 0?!1:P,T=e.defaultVisible,E=e.getTooltipContainer,B=e.overlayInnerStyle;e.arrowContent;var F=e.overlay,L=e.id,z=e.showArrow,G=z===void 0?!0:z,j=e.classNames,X=e.styles,N=On(e,Cse),W=bH(L),V=C.useRef(null);C.useImperativeHandle(n,function(){return V.current});var ee=Ce({},N);"visible"in e&&(ee.popupVisible=e.visible);var se=function(){return C.createElement(n5,{key:"content",prefixCls:f,id:W,bodyClassName:j==null?void 0:j.body,overlayInnerStyle:Ce(Ce({},B),X==null?void 0:X.body)},F)},me=function(){var te=C.Children.only(m),ae=(te==null?void 0:te.props)||{},de=Ce(Ce({},ae),{},{"aria-describedby":F?W:null});return C.cloneElement(m,de)};return C.createElement(GH,Xt({popupClassName:nt(r,j==null?void 0:j.root),prefixCls:f,popup:se,action:o,builtinPlacements:_se,popupPlacement:w,ref:V,popupAlign:M,getPopupContainer:E,onPopupVisibleChange:v,afterPopupVisibleChange:x,popupTransitionName:y,popupAnimation:g,popupMotion:S,defaultPopupVisible:T,autoDestroy:I,mouseLeaveDelay:c,popupStyle:Ce(Ce({},u),X==null?void 0:X.root),mouseEnterDelay:a,arrow:G},ee),me())};const wse=C.forwardRef(bse);function Ese(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:r}=t,i=e/2,o=0,s=i,a=r*1/Math.sqrt(2),l=i-r*(1-1/Math.sqrt(2)),c=i-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),d=2*i-c,f=u,m=2*i-a,v=l,x=2*i-o,y=s,g=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),S=r*(Math.sqrt(2)-1),_=`polygon(${S}px 100%, 50% ${S}px, ${2*i-S}px 100%, ${S}px 100%)`,w=`path('M ${o} ${s} A ${r} ${r} 0 0 0 ${a} ${l} L ${c} ${u} A ${n} ${n} 0 0 1 ${d} ${f} L ${m} ${v} A ${r} ${r} 0 0 0 ${x} ${y} Z')`;return{arrowShadowWidth:g,arrowPath:w,arrowPolygon:_}}const Mse=(t,e,n)=>{const{sizePopupArrow:r,arrowPolygon:i,arrowPath:o,arrowShadowWidth:s,borderRadiusXS:a,calc:l}=t;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:l(r).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[i,o]},content:'""'},"&::after":{content:'""',position:"absolute",width:s,height:s,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${Ct(a)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},r5=8;function i5(t){const{contentRadius:e,limitVerticalRadius:n}=t,r=e>12?e+2:12;return{arrowOffsetHorizontal:r,arrowOffsetVertical:n?r5:r}}function Xv(t,e){return t?e:{}}function Ase(t,e,n){const{componentCls:r,boxShadowPopoverArrow:i,arrowOffsetVertical:o,arrowOffsetHorizontal:s}=t,{arrowDistance:a=0,arrowPlacement:l={left:!0,right:!0,top:!0,bottom:!0}}=n||{};return{[r]:Object.assign(Object.assign(Object.assign(Object.assign({[`${r}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},Mse(t,e,i)),{"&:before":{background:e}})]},Xv(!!l.top,{[[`&-placement-top > ${r}-arrow`,`&-placement-topLeft > ${r}-arrow`,`&-placement-topRight > ${r}-arrow`].join(",")]:{bottom:a,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${Ct(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),Xv(!!l.bottom,{[[`&-placement-bottom > ${r}-arrow`,`&-placement-bottomLeft > ${r}-arrow`,`&-placement-bottomRight > ${r}-arrow`].join(",")]:{top:a,transform:"translateY(-100%)"},[`&-placement-bottom > ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":s,[`> ${r}-arrow`]:{left:{_skip_check_:!0,value:s}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${Ct(s)})`,[`> ${r}-arrow`]:{right:{_skip_check_:!0,value:s}}}})),Xv(!!l.left,{[[`&-placement-left > ${r}-arrow`,`&-placement-leftTop > ${r}-arrow`,`&-placement-leftBottom > ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:a},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${r}-arrow`]:{top:o},[`&-placement-leftBottom > ${r}-arrow`]:{bottom:o}})),Xv(!!l.right,{[[`&-placement-right > ${r}-arrow`,`&-placement-rightTop > ${r}-arrow`,`&-placement-rightBottom > ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:a},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${r}-arrow`]:{top:o},[`&-placement-rightBottom > ${r}-arrow`]:{bottom:o}}))}}function Tse(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.arrowOffsetHorizontal*2+n,o.shiftY=!0,o.adjustY=!0;break;case"left":case"right":o.shiftY=e.arrowOffsetVertical*2+n,o.shiftX=!0,o.adjustX=!0;break}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const tD={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},Rse={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},Pse=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function Ise(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=t,a=e/2,l={};return Object.keys(tD).forEach(c=>{const u=r&&Rse[c]||tD[c],d=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(l[c]=d,Pse.has(c)&&(d.autoArrow=!1),c){case"top":case"topLeft":case"topRight":d.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=a+i;break}const f=i5({contentRadius:o,limitVerticalRadius:!0});if(r)switch(c){case"topLeft":case"bottomLeft":d.offset[0]=-f.arrowOffsetHorizontal-a;break;case"topRight":case"bottomRight":d.offset[0]=f.arrowOffsetHorizontal+a;break;case"leftTop":case"rightTop":d.offset[1]=-f.arrowOffsetHorizontal*2+a;break;case"leftBottom":case"rightBottom":d.offset[1]=f.arrowOffsetHorizontal*2-a;break}d.overflow=Tse(c,f,e,n),s&&(d.htmlRegion="visibleFirst")}),l}const Bse=t=>{const{calc:e,componentCls:n,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:o,tooltipBorderRadius:s,zIndexPopup:a,controlHeight:l,boxShadowSecondary:c,paddingSM:u,paddingXS:d,arrowOffsetHorizontal:f,sizePopupArrow:m}=t,v=e(s).add(m).add(f).equal(),x=e(s).mul(2).add(m).equal();return[{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},aa(t)),{position:"absolute",zIndex:a,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":o,[`${n}-inner`]:{minWidth:x,minHeight:l,padding:`${Ct(t.calc(u).div(2).equal())} ${Ct(d)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:o,borderRadius:s,boxShadow:c,boxSizing:"border-box"},[["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(",")]:{minWidth:v},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${n}-inner`]:{borderRadius:t.min(s,r5)}},[`${n}-content`]:{position:"relative"}}),RQ(t,(y,g)=>{let{darkColor:S}=g;return{[`&${n}-${y}`]:{[`${n}-inner`]:{backgroundColor:S},[`${n}-arrow`]:{"--antd-arrow-background-color":S}}}})),{"&-rtl":{direction:"rtl"}})},Ase(t,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},Ose=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},i5({contentRadius:t.borderRadius,limitVerticalRadius:!0})),Ese(or(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),o5=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Ao("Tooltip",r=>{const{borderRadius:i,colorTextLightSolid:o,colorBgSpotlight:s}=r,a=or(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s});return[Bse(a),Xte(r,"zoom-big-fast")]},Ose,{resetStyle:!1,injectStyle:e})(t)},Lse=_u.map(t=>`${t}-inverse`);function Dse(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(pt(Lse),pt(_u)).includes(t):_u.includes(t)}function s5(t,e){const n=Dse(e),r=nt({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}const Fse=t=>{const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:s}=t,{getPrefixCls:a}=C.useContext(Wn),l=a("tooltip",e),[c,u,d]=o5(l),f=s5(l,o),m=f.arrowStyle,v=Object.assign(Object.assign({},s),f.overlayStyle),x=nt(u,d,l,`${l}-pure`,`${l}-placement-${r}`,n,f.className);return c(C.createElement("div",{className:x,style:m},C.createElement("div",{className:`${l}-arrow`}),C.createElement(n5,Object.assign({},t,{className:u,prefixCls:l,overlayInnerStyle:v}),i)))},Nse=Fse;var Use=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kse=C.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:s,color:a,overlayInnerStyle:l,children:c,afterOpenChange:u,afterVisibleChange:d,destroyTooltipOnHide:f,destroyOnHidden:m,arrow:v=!0,title:x,overlay:y,builtinPlacements:g,arrowPointAtCenter:S=!1,autoAdjustOverflow:_=!0,motion:w,getPopupContainer:A,placement:M="top",mouseEnterDelay:P=.1,mouseLeaveDelay:I=.1,overlayStyle:T,rootClassName:E,overlayClassName:B,styles:F,classNames:L}=t,z=Use(t,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","destroyOnHidden","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),G=!!v,[,j]=ss(),{getPopupContainer:X,getPrefixCls:N,direction:W,className:V,style:ee,classNames:se,styles:me}=nc("tooltip"),K=aS(),te=C.useRef(null),ae=()=>{var We;(We=te.current)===null||We===void 0||We.forceAlign()};C.useImperativeHandle(e,()=>{var We,ot;return{forceAlign:ae,forcePopupAlign:()=>{K.deprecated(!1,"forcePopupAlign","forceAlign"),ae()},nativeElement:(We=te.current)===null||We===void 0?void 0:We.nativeElement,popupElement:(ot=te.current)===null||ot===void 0?void 0:ot.popupElement}});const[de,_e]=Va(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),Re=!x&&!y&&x!==0,Te=We=>{var ot,je;_e(Re?!1:We),Re||((ot=t.onOpenChange)===null||ot===void 0||ot.call(t,We),(je=t.onVisibleChange)===null||je===void 0||je.call(t,We))},Y=C.useMemo(()=>{var We,ot;let je=S;return typeof v=="object"&&(je=(ot=(We=v.pointAtCenter)!==null&&We!==void 0?We:v.arrowPointAtCenter)!==null&&ot!==void 0?ot:S),g||Ise({arrowPointAtCenter:je,autoAdjustOverflow:_,arrowWidth:G?j.sizePopupArrow:0,borderRadius:j.borderRadius,offset:j.marginXXS,visibleFirst:!0})},[S,v,g,j]),Q=C.useMemo(()=>x===0?x:y||x||"",[y,x]),ie=C.createElement(IE,{space:!0},typeof Q=="function"?Q():Q),ye=N("tooltip",i),fe=N(),pe=t["data-popover-inject"];let $=de;!("open"in t)&&!("visible"in t)&&Re&&($=!1);const U=C.isValidElement(c)&&!eH(c)?c:C.createElement("span",null,c),le=U.props,be=!le.className||typeof le.className=="string"?nt(le.className,o||`${ye}-open`):le.className,[we,Oe,De]=o5(ye,!pe),ge=s5(ye,a),Fe=ge.arrowStyle,Xe=nt(B,{[`${ye}-rtl`]:W==="rtl"},ge.className,E,Oe,De,V,se.root,L==null?void 0:L.root),Ne=nt(se.body,L==null?void 0:L.body),[He,Ye]=oH("Tooltip",z.zIndex),Ke=C.createElement(wse,Object.assign({},z,{zIndex:He,showArrow:G,placement:M,mouseEnterDelay:P,mouseLeaveDelay:I,prefixCls:ye,classNames:{root:Xe,body:Ne},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Fe),me.root),ee),T),F==null?void 0:F.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},me.body),l),F==null?void 0:F.body),ge.overlayStyle)},getTooltipContainer:A||s||X,ref:te,builtinPlacements:Y,overlay:ie,visible:$,onVisibleChange:Te,afterVisibleChange:u??d,arrowContent:C.createElement("span",{className:`${ye}-arrow-content`}),motion:{motionName:uH(fe,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:m??!!f}),$?If(U,{className:be}):U);return we(C.createElement(rH.Provider,{value:Ye},Ke))}),a5=kse;a5._InternalPanelDoNotUseOrYouWillBeFired=Nse;const l5=a5;function wS(t){return or(t,{inputAffixPadding:t.paddingXXS})}const ES=t=>{const{controlHeight:e,fontSize:n,lineHeight:r,lineWidth:i,controlHeightSM:o,controlHeightLG:s,fontSizeLG:a,lineHeightLG:l,paddingSM:c,controlPaddingHorizontalSM:u,controlPaddingHorizontal:d,colorFillAlter:f,colorPrimaryHover:m,colorPrimary:v,controlOutlineWidth:x,controlOutline:y,colorErrorOutline:g,colorWarningOutline:S,colorBgContainer:_,inputFontSize:w,inputFontSizeLG:A,inputFontSizeSM:M}=t,P=w||n,I=M||P,T=A||a,E=Math.round((e-P*r)/2*10)/10-i,B=Math.round((o-I*r)/2*10)/10-i,F=Math.ceil((s-T*l)/2*10)/10-i;return{paddingBlock:Math.max(E,0),paddingBlockSM:Math.max(B,0),paddingBlockLG:Math.max(F,0),paddingInline:c-i,paddingInlineSM:u-i,paddingInlineLG:d-i,addonBg:f,activeBorderColor:v,hoverBorderColor:m,activeShadow:`0 0 0 ${x}px ${y}`,errorActiveShadow:`0 0 0 ${x}px ${g}`,warningActiveShadow:`0 0 0 ${x}px ${S}`,hoverBg:_,activeBg:_,inputFontSize:P,inputFontSizeLG:T,inputFontSizeSM:I}},zse=t=>({borderColor:t.hoverBorderColor,backgroundColor:t.hoverBg}),jT=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"input[disabled], textarea[disabled]":{cursor:"not-allowed"},"&:hover:not([disabled])":Object.assign({},zse(or(t,{hoverBorderColor:t.colorBorder,hoverBg:t.colorBgContainerDisabled})))}),c5=(t,e)=>({background:t.colorBgContainer,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:e.borderColor,"&:hover":{borderColor:e.hoverBorderColor,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:e.activeBorderColor,boxShadow:e.activeShadow,outline:0,backgroundColor:t.activeBg}}),nD=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},c5(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:e.borderColor}}),Hse=(t,e)=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},c5(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},jT(t))}),nD(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),nD(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),rD=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{borderColor:e.addonBorderColor,color:e.addonColor}}}),Vse=t=>({"&-outlined":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.addonBg,border:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}}},rD(t,{status:"error",addonBorderColor:t.colorError,addonColor:t.colorErrorText})),rD(t,{status:"warning",addonBorderColor:t.colorWarning,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group-addon`]:Object.assign({},jT(t))}})}),Gse=(t,e)=>{const{componentCls:n}=t;return{"&-borderless":Object.assign({background:"transparent",border:"none","&:focus, &:focus-within":{outline:"none"},[`&${n}-disabled, &[disabled]`]:{color:t.colorTextDisabled,cursor:"not-allowed"},[`&${n}-status-error`]:{"&, & input, & textarea":{color:t.colorError}},[`&${n}-status-warning`]:{"&, & input, & textarea":{color:t.colorWarning}}},e)}},u5=(t,e)=>{var n;return{background:e.bg,borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:"transparent","input&, & input, textarea&, & textarea":{color:(n=e==null?void 0:e.inputColor)!==null&&n!==void 0?n:"unset"},"&:hover":{background:e.hoverBg},"&:focus, &:focus-within":{outline:0,borderColor:e.activeBorderColor,backgroundColor:t.activeBg}}},iD=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},u5(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}})}),$se=(t,e)=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},u5(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor})),{[`&${t.componentCls}-disabled, &[disabled]`]:Object.assign({},jT(t))}),iD(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,inputColor:t.colorErrorText,affixColor:t.colorError})),iD(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,inputColor:t.colorWarningText,affixColor:t.colorWarning})),e)}),oD=(t,e)=>({[`&${t.componentCls}-group-wrapper-status-${e.status}`]:{[`${t.componentCls}-group-addon`]:{background:e.addonBg,color:e.addonColor}}}),Wse=t=>({"&-filled":Object.assign(Object.assign(Object.assign({[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary},[`${t.componentCls}-filled:not(:focus):not(:focus-within)`]:{"&:not(:first-child)":{borderInlineStart:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorSplit}`},"&:not(:last-child)":{borderInlineEnd:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}}}},oD(t,{status:"error",addonBg:t.colorErrorBg,addonColor:t.colorErrorText})),oD(t,{status:"warning",addonBg:t.colorWarningBg,addonColor:t.colorWarningText})),{[`&${t.componentCls}-group-wrapper-disabled`]:{[`${t.componentCls}-group`]:{"&-addon":{background:t.colorFillTertiary,color:t.colorTextDisabled},"&-addon:first-child":{borderInlineStart:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},"&-addon:last-child":{borderInlineEnd:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderTop:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderBottom:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`}}}})}),d5=(t,e)=>({background:t.colorBgContainer,borderWidth:`${Ct(t.lineWidth)} 0`,borderStyle:`${t.lineType} none`,borderColor:`transparent transparent ${e.borderColor} transparent`,borderRadius:0,"&:hover":{borderColor:`transparent transparent ${e.borderColor} transparent`,backgroundColor:t.hoverBg},"&:focus, &:focus-within":{borderColor:`transparent transparent ${e.borderColor} transparent`,outline:0,backgroundColor:t.activeBg}}),sD=(t,e)=>({[`&${t.componentCls}-status-${e.status}:not(${t.componentCls}-disabled)`]:Object.assign(Object.assign({},d5(t,e)),{[`${t.componentCls}-prefix, ${t.componentCls}-suffix`]:{color:e.affixColor}}),[`&${t.componentCls}-status-${e.status}${t.componentCls}-disabled`]:{borderColor:`transparent transparent ${e.borderColor} transparent`}}),jse=(t,e)=>({"&-underlined":Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d5(t,{borderColor:t.colorBorder,hoverBorderColor:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeShadow:t.activeShadow})),{[`&${t.componentCls}-disabled, &[disabled]`]:{color:t.colorTextDisabled,boxShadow:"none",cursor:"not-allowed","&:hover":{borderColor:`transparent transparent ${t.colorBorder} transparent`}},"input[disabled], textarea[disabled]":{cursor:"not-allowed"}}),sD(t,{status:"error",borderColor:t.colorError,hoverBorderColor:t.colorErrorBorderHover,activeBorderColor:t.colorError,activeShadow:t.errorActiveShadow,affixColor:t.colorError})),sD(t,{status:"warning",borderColor:t.colorWarning,hoverBorderColor:t.colorWarningBorderHover,activeBorderColor:t.colorWarning,activeShadow:t.warningActiveShadow,affixColor:t.colorWarning})),e)}),Xse=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),f5=t=>{const{paddingBlockLG:e,lineHeightLG:n,borderRadiusLG:r,paddingInlineLG:i}=t;return{padding:`${Ct(e)} ${Ct(i)}`,fontSize:t.inputFontSizeLG,lineHeight:n,borderRadius:r}},h5=t=>({padding:`${Ct(t.paddingBlockSM)} ${Ct(t.paddingInlineSM)}`,fontSize:t.inputFontSizeSM,borderRadius:t.borderRadiusSM}),p5=t=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${Ct(t.paddingBlock)} ${Ct(t.paddingInline)}`,color:t.colorText,fontSize:t.inputFontSize,lineHeight:t.lineHeight,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},Xse(t.colorTextPlaceholder)),{"&-lg":Object.assign({},f5(t)),"&-sm":Object.assign({},h5(t)),"&-rtl, &-textarea-rtl":{direction:"rtl"}}),Kse=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:Object.assign({},f5(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:Object.assign({},h5(t)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:t.controlHeightSM},[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${Ct(t.paddingInline)}`,color:t.colorText,fontWeight:"normal",fontSize:t.inputFontSize,textAlign:"center",borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`${Ct(t.calc(t.paddingBlock).add(1).mul(-1).equal())} ${Ct(t.calc(t.paddingInline).mul(-1).equal())}`,[`&${n}-select-single:not(${n}-select-customize-input):not(${n}-pagination-size-changer)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${Ct(t.lineWidth)} ${t.lineType} transparent`,boxShadow:"none"}}},[`${n}-cascader-picker`]:{margin:`-9px ${Ct(t.calc(t.paddingInline).mul(-1).equal())}`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}}},[e]:{width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:Object.assign(Object.assign({display:"block"},bQ()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover, &:focus":{zIndex:1}}},"& > *":{display:"inline-flex",float:"none",verticalAlign:"top",borderRadius:0},[`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderInlineEndWidth:t.lineWidth},[e]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover, &:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:t.calc(t.lineWidth).mul(-1).equal(),[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}})}},Jse=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r,calc:i}=t,o=16,s=i(n).sub(i(r).mul(2)).sub(o).div(2).equal();return{[e]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aa(t)),p5(t)),Hse(t)),$se(t)),Gse(t)),jse(t)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:s,paddingBottom:s}},'&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration':{appearance:"none"}})}},Yse=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,padding:0,lineHeight:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,border:"none",outline:"none",backgroundColor:"transparent","&:hover":{color:t.colorIcon},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${Ct(t.inputAffixPadding)}`}}}},qse=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:s,iconCls:a}=t,l=`${e}-affix-wrapper`,c=`${e}-affix-wrapper-disabled`;return{[l]:Object.assign(Object.assign(Object.assign(Object.assign({},p5(t)),{display:"inline-flex",[`&:not(${e}-disabled):hover`]:{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}},"&-focused, &:focus":{zIndex:1},[`> input${e}`]:{padding:0},[`> input${e}, > textarea${e}`]:{fontSize:"inherit",border:"none",borderRadius:0,outline:"none",background:"transparent",color:"inherit","&::-ms-reveal":{display:"none"},"&:focus":{boxShadow:"none !important"}},"&::before":{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'},[e]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r,direction:"ltr"},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),Yse(t)),{[`${a}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:s}}}),[`${e}-underlined`]:{borderRadius:0},[c]:{[`${a}${e}-password-icon`]:{color:o,cursor:"not-allowed","&:hover":{color:o}}}}},Qse=t=>{const{componentCls:e,borderRadiusLG:n,borderRadiusSM:r}=t;return{[`${e}-group`]:Object.assign(Object.assign(Object.assign({},aa(t)),Kse(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":Object.assign(Object.assign(Object.assign({display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:n,fontSize:t.inputFontSizeLG}},"&-sm":{[`${e}-group-addon`]:{borderRadius:r}}},Vse(t)),Wse(t)),{[`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}, ${e}-group-addon`]:{borderRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-first-item`]:{[`${e}, ${e}-group-addon`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-last-item`]:{[`${e}, ${e}-group-addon`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&:not(${e}-compact-last-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&:not(${e}-compact-first-item)${e}-compact-item`]:{[`${e}-affix-wrapper`]:{borderStartStartRadius:0,borderEndStartRadius:0}}})})}},Zse=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[e]:{"&:hover, &:focus":{[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{height:t.controlHeight,borderRadius:0},[`${e}-lg`]:{lineHeight:t.calc(t.lineHeightLG).sub(2e-4).equal()},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{marginInlineEnd:-1,borderStartStartRadius:0,borderEndStartRadius:0,boxShadow:"none"},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},"&-large":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightLG}},"&-small":{[`${e}-affix-wrapper, ${r}-button`]:{height:t.controlHeightSM}},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal(),borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover, &:focus, &:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}},eae=t=>{const{componentCls:e}=t;return{[`${e}-out-of-range`]:{[`&, & input, & textarea, ${e}-show-count-suffix, ${e}-data-count`]:{color:t.colorError}}}},m5=Ao(["Input","Shared"],t=>{const e=or(t,wS(t));return[Jse(e),qse(e)]},ES,{resetFont:!1}),g5=Ao(["Input","Component"],t=>{const e=or(t,wS(t));return[Qse(e),Zse(e),eae(e),LT(e)]},ES,{resetFont:!1}),tae=C.createContext({}),v5=tae;var nae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function aD(t){return typeof t=="number"?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const rae=["xs","sm","md","lg","xl","xxl"],iae=C.forwardRef((t,e)=>{const{getPrefixCls:n,direction:r}=C.useContext(Wn),{gutter:i,wrap:o}=C.useContext(v5),{prefixCls:s,span:a,order:l,offset:c,push:u,pull:d,className:f,children:m,flex:v,style:x}=t,y=nae(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),g=n("col",s),[S,_,w]=Lre(g),A={};let M={};rae.forEach(T=>{let E={};const B=t[T];typeof B=="number"?E.span=B:typeof B=="object"&&(E=B||{}),delete y[T],M=Object.assign(Object.assign({},M),{[`${g}-${T}-${E.span}`]:E.span!==void 0,[`${g}-${T}-order-${E.order}`]:E.order||E.order===0,[`${g}-${T}-offset-${E.offset}`]:E.offset||E.offset===0,[`${g}-${T}-push-${E.push}`]:E.push||E.push===0,[`${g}-${T}-pull-${E.pull}`]:E.pull||E.pull===0,[`${g}-rtl`]:r==="rtl"}),E.flex&&(M[`${g}-${T}-flex`]=!0,A[`--${g}-${T}-flex`]=aD(E.flex))});const P=nt(g,{[`${g}-${a}`]:a!==void 0,[`${g}-order-${l}`]:l,[`${g}-offset-${c}`]:c,[`${g}-push-${u}`]:u,[`${g}-pull-${d}`]:d},f,M,_,w),I={};if(i&&i[0]>0){const T=i[0]/2;I.paddingLeft=T,I.paddingRight=T}return v&&(I.flex=aD(v),o===!1&&!I.minWidth&&(I.minWidth=0)),S(C.createElement("div",Object.assign({},y,{style:Object.assign(Object.assign(Object.assign({},I),x),A),className:P,ref:e}),m))}),y5=iae;function oae(t,e){const n=[void 0,void 0],r=Array.isArray(t)?t:[t,void 0],i=e||{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0};return r.forEach((o,s)=>{if(typeof o=="object"&&o!==null)for(let a=0;a<wm.length;a++){const l=wm[a];if(i[l]&&o[l]!==void 0){n[s]=o[l];break}}else n[s]=o}),n}var sae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function lD(t,e){const[n,r]=C.useState(typeof t=="string"?t:""),i=()=>{if(typeof t=="string"&&r(t),typeof t=="object")for(let o=0;o<wm.length;o++){const s=wm[o];if(!e||!e[s])continue;const a=t[s];if(a!==void 0){r(a);return}}};return C.useEffect(()=>{i()},[JSON.stringify(t),e]),n}const aae=C.forwardRef((t,e)=>{const{prefixCls:n,justify:r,align:i,className:o,style:s,children:a,gutter:l=0,wrap:c}=t,u=sae(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:d,direction:f}=C.useContext(Wn),m=Sse(!0,null),v=lD(i,m),x=lD(r,m),y=d("row",n),[g,S,_]=Bre(y),w=oae(l,m),A=nt(y,{[`${y}-no-wrap`]:c===!1,[`${y}-${x}`]:x,[`${y}-${v}`]:v,[`${y}-rtl`]:f==="rtl"},o,S,_),M={},P=w[0]!=null&&w[0]>0?w[0]/-2:void 0;P&&(M.marginLeft=P,M.marginRight=P);const[I,T]=w;M.rowGap=T;const E=C.useMemo(()=>({gutter:[I,T],wrap:c}),[I,T,c]);return g(C.createElement(v5.Provider,{value:E},C.createElement("div",Object.assign({},u,{className:A,style:Object.assign(Object.assign({},M),s),ref:e}),a)))}),lae=aae;function cae(t){return!!(t.addonBefore||t.addonAfter)}function uae(t){return!!(t.prefix||t.suffix||t.allowClear)}function cD(t,e,n){var r=e.cloneNode(!0),i=Object.create(t,{target:{value:r},currentTarget:{value:r}});return r.value=n,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},i}function gx(t,e,n,r){if(n){var i=e;if(e.type==="click"){i=cD(e,t,""),n(i);return}if(t.type!=="file"&&r!==void 0){i=cD(e,t,r),n(i);return}n(i)}}function x5(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}var S5=tt.forwardRef(function(t,e){var n,r,i,o=t.inputElement,s=t.children,a=t.prefixCls,l=t.prefix,c=t.suffix,u=t.addonBefore,d=t.addonAfter,f=t.className,m=t.style,v=t.disabled,x=t.readOnly,y=t.focused,g=t.triggerFocus,S=t.allowClear,_=t.value,w=t.handleReset,A=t.hidden,M=t.classes,P=t.classNames,I=t.dataAttrs,T=t.styles,E=t.components,B=t.onClear,F=s??o,L=(E==null?void 0:E.affixWrapper)||"span",z=(E==null?void 0:E.groupWrapper)||"span",G=(E==null?void 0:E.wrapper)||"span",j=(E==null?void 0:E.groupAddon)||"span",X=C.useRef(null),N=function(fe){var pe;(pe=X.current)!==null&&pe!==void 0&&pe.contains(fe.target)&&(g==null||g())},W=uae(t),V=C.cloneElement(F,{value:_,className:nt((n=F.props)===null||n===void 0?void 0:n.className,!W&&(P==null?void 0:P.variant))||null}),ee=C.useRef(null);if(tt.useImperativeHandle(e,function(){return{nativeElement:ee.current||X.current}}),W){var se=null;if(S){var me=!v&&!x&&_,K="".concat(a,"-clear-icon"),te=$t(S)==="object"&&S!==null&&S!==void 0&&S.clearIcon?S.clearIcon:"✖";se=tt.createElement("button",{type:"button",tabIndex:-1,onClick:function(fe){w==null||w(fe),B==null||B()},onMouseDown:function(fe){return fe.preventDefault()},className:nt(K,xe(xe({},"".concat(K,"-hidden"),!me),"".concat(K,"-has-suffix"),!!c))},te)}var ae="".concat(a,"-affix-wrapper"),de=nt(ae,xe(xe(xe(xe(xe({},"".concat(a,"-disabled"),v),"".concat(ae,"-disabled"),v),"".concat(ae,"-focused"),y),"".concat(ae,"-readonly"),x),"".concat(ae,"-input-with-clear-btn"),c&&S&&_),M==null?void 0:M.affixWrapper,P==null?void 0:P.affixWrapper,P==null?void 0:P.variant),_e=(c||S)&&tt.createElement("span",{className:nt("".concat(a,"-suffix"),P==null?void 0:P.suffix),style:T==null?void 0:T.suffix},se,c);V=tt.createElement(L,Xt({className:de,style:T==null?void 0:T.affixWrapper,onClick:N},I==null?void 0:I.affixWrapper,{ref:X}),l&&tt.createElement("span",{className:nt("".concat(a,"-prefix"),P==null?void 0:P.prefix),style:T==null?void 0:T.prefix},l),V,_e)}if(cae(t)){var Re="".concat(a,"-group"),Te="".concat(Re,"-addon"),Y="".concat(Re,"-wrapper"),Q=nt("".concat(a,"-wrapper"),Re,M==null?void 0:M.wrapper,P==null?void 0:P.wrapper),ie=nt(Y,xe({},"".concat(Y,"-disabled"),v),M==null?void 0:M.group,P==null?void 0:P.groupWrapper);V=tt.createElement(z,{className:ie,ref:ee},tt.createElement(G,{className:Q},u&&tt.createElement(j,{className:Te},u),V,d&&tt.createElement(j,{className:Te},d)))}return tt.cloneElement(V,{className:nt((r=V.props)===null||r===void 0?void 0:r.className,f)||null,style:Ce(Ce({},(i=V.props)===null||i===void 0?void 0:i.style),m),hidden:A})}),dae=["show"];function _5(t,e){return C.useMemo(function(){var n={};e&&(n.show=$t(e)==="object"&&e.formatter?e.formatter:!!e),n=Ce(Ce({},n),t);var r=n,i=r.show,o=On(r,dae);return Ce(Ce({},o),{},{show:!!i,showFormatter:typeof i=="function"?i:void 0,strategy:o.strategy||function(s){return s.length}})},[t,e])}var fae=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],hae=C.forwardRef(function(t,e){var n=t.autoComplete,r=t.onChange,i=t.onFocus,o=t.onBlur,s=t.onPressEnter,a=t.onKeyDown,l=t.onKeyUp,c=t.prefixCls,u=c===void 0?"rc-input":c,d=t.disabled,f=t.htmlSize,m=t.className,v=t.maxLength,x=t.suffix,y=t.showCount,g=t.count,S=t.type,_=S===void 0?"text":S,w=t.classes,A=t.classNames,M=t.styles,P=t.onCompositionStart,I=t.onCompositionEnd,T=On(t,fae),E=C.useState(!1),B=ke(E,2),F=B[0],L=B[1],z=C.useRef(!1),G=C.useRef(!1),j=C.useRef(null),X=C.useRef(null),N=function(ge){j.current&&x5(j.current,ge)},W=Va(t.defaultValue,{value:t.value}),V=ke(W,2),ee=V[0],se=V[1],me=ee==null?"":String(ee),K=C.useState(null),te=ke(K,2),ae=te[0],de=te[1],_e=_5(g,y),Re=_e.max||v,Te=_e.strategy(me),Y=!!Re&&Te>Re;C.useImperativeHandle(e,function(){var De;return{focus:N,blur:function(){var Fe;(Fe=j.current)===null||Fe===void 0||Fe.blur()},setSelectionRange:function(Fe,Xe,Ne){var He;(He=j.current)===null||He===void 0||He.setSelectionRange(Fe,Xe,Ne)},select:function(){var Fe;(Fe=j.current)===null||Fe===void 0||Fe.select()},input:j.current,nativeElement:((De=X.current)===null||De===void 0?void 0:De.nativeElement)||j.current}}),C.useEffect(function(){G.current&&(G.current=!1),L(function(De){return De&&d?!1:De})},[d]);var Q=function(ge,Fe,Xe){var Ne=Fe;if(!z.current&&_e.exceedFormatter&&_e.max&&_e.strategy(Fe)>_e.max){if(Ne=_e.exceedFormatter(Fe,{max:_e.max}),Fe!==Ne){var He,Ye;de([((He=j.current)===null||He===void 0?void 0:He.selectionStart)||0,((Ye=j.current)===null||Ye===void 0?void 0:Ye.selectionEnd)||0])}}else if(Xe.source==="compositionEnd")return;se(Ne),j.current&&gx(j.current,ge,r,Ne)};C.useEffect(function(){if(ae){var De;(De=j.current)===null||De===void 0||De.setSelectionRange.apply(De,pt(ae))}},[ae]);var ie=function(ge){Q(ge,ge.target.value,{source:"change"})},ye=function(ge){z.current=!1,Q(ge,ge.currentTarget.value,{source:"compositionEnd"}),I==null||I(ge)},fe=function(ge){s&&ge.key==="Enter"&&!G.current&&(G.current=!0,s(ge)),a==null||a(ge)},pe=function(ge){ge.key==="Enter"&&(G.current=!1),l==null||l(ge)},$=function(ge){L(!0),i==null||i(ge)},U=function(ge){G.current&&(G.current=!1),L(!1),o==null||o(ge)},le=function(ge){se(""),N(),j.current&&gx(j.current,ge,r)},be=Y&&"".concat(u,"-out-of-range"),we=function(){var ge=Ru(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return tt.createElement("input",Xt({autoComplete:n},ge,{onChange:ie,onFocus:$,onBlur:U,onKeyDown:fe,onKeyUp:pe,className:nt(u,xe({},"".concat(u,"-disabled"),d),A==null?void 0:A.input),style:M==null?void 0:M.input,ref:j,size:f,type:_,onCompositionStart:function(Xe){z.current=!0,P==null||P(Xe)},onCompositionEnd:ye}))},Oe=function(){var ge=Number(Re)>0;if(x||_e.show){var Fe=_e.showFormatter?_e.showFormatter({value:me,count:Te,maxLength:Re}):"".concat(Te).concat(ge?" / ".concat(Re):"");return tt.createElement(tt.Fragment,null,_e.show&&tt.createElement("span",{className:nt("".concat(u,"-show-count-suffix"),xe({},"".concat(u,"-show-count-has-suffix"),!!x),A==null?void 0:A.count),style:Ce({},M==null?void 0:M.count)},Fe),x)}return null};return tt.createElement(S5,Xt({},T,{prefixCls:u,className:nt(m,be),handleReset:le,value:me,focused:F,triggerFocus:N,suffix:Oe(),disabled:d,classes:w,classNames:A,styles:M,ref:X}),we())});const pae=t=>{let e;return typeof t=="object"&&(t!=null&&t.clearIcon)?e=t:t&&(e={clearIcon:tt.createElement(hS,null)}),e},C5=pae;function b5(t,e){const n=C.useRef([]),r=()=>{n.current.push(setTimeout(()=>{var i,o,s,a;!((i=t.current)===null||i===void 0)&&i.input&&((o=t.current)===null||o===void 0?void 0:o.input.getAttribute("type"))==="password"&&(!((s=t.current)===null||s===void 0)&&s.input.hasAttribute("value"))&&((a=t.current)===null||a===void 0||a.input.removeAttribute("value"))}))};return C.useEffect(()=>(e&&r(),()=>n.current.forEach(i=>{i&&clearTimeout(i)})),[]),r}function mae(t){return!!(t.prefix||t.suffix||t.allowClear||t.showCount)}var gae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const vae=C.forwardRef((t,e)=>{const{prefixCls:n,bordered:r=!0,status:i,size:o,disabled:s,onBlur:a,onFocus:l,suffix:c,allowClear:u,addonAfter:d,addonBefore:f,className:m,style:v,styles:x,rootClassName:y,onChange:g,classNames:S,variant:_}=t,w=gae(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:A,direction:M,allowClear:P,autoComplete:I,className:T,style:E,classNames:B,styles:F}=nc("input"),L=A("input",n),z=C.useRef(null),G=ic(L),[j,X,N]=m5(L,y),[W]=g5(L,G),{compactSize:V,compactItemClassnames:ee}=ag(L,M),se=Pu(U=>{var le;return(le=o??V)!==null&&le!==void 0?le:U}),me=tt.useContext(rc),K=s??me,{status:te,hasFeedback:ae,feedbackIcon:de}=C.useContext(Co),_e=bS(te,i),Re=mae(t)||!!ae;C.useRef(Re);const Te=b5(z,!0),Y=U=>{Te(),a==null||a(U)},Q=U=>{Te(),l==null||l(U)},ie=U=>{Te(),g==null||g(U)},ye=(ae||c)&&tt.createElement(tt.Fragment,null,c,ae&&de),fe=C5(u??P),[pe,$]=WT("input",_,r);return j(W(tt.createElement(hae,Object.assign({ref:sa(e,z),prefixCls:L,autoComplete:I},w,{disabled:K,onBlur:Y,onFocus:Q,style:Object.assign(Object.assign({},E),v),styles:Object.assign(Object.assign({},F),x),suffix:ye,allowClear:fe,className:nt(m,y,N,G,ee,T),onChange:ie,addonBefore:f&&tt.createElement(IE,{form:!0,space:!0},f),addonAfter:d&&tt.createElement(IE,{form:!0,space:!0},d),classNames:Object.assign(Object.assign(Object.assign({},S),B),{input:nt({[`${L}-sm`]:se==="small",[`${L}-lg`]:se==="large",[`${L}-rtl`]:M==="rtl"},S==null?void 0:S.input,B.input,X),variant:nt({[`${L}-${pe}`]:$},mx(L,_e)),affixWrapper:nt({[`${L}-affix-wrapper-sm`]:se==="small",[`${L}-affix-wrapper-lg`]:se==="large",[`${L}-affix-wrapper-rtl`]:M==="rtl"},X),wrapper:nt({[`${L}-group-rtl`]:M==="rtl"},X),groupWrapper:nt({[`${L}-group-wrapper-sm`]:se==="small",[`${L}-group-wrapper-lg`]:se==="large",[`${L}-group-wrapper-rtl`]:M==="rtl",[`${L}-group-wrapper-${pe}`]:$},mx(`${L}-group-wrapper`,_e,ae),X)})}))))}),MS=vae;function UE(t,e,n){return(t-e)/(n-e)}function XT(t,e,n,r){var i=UE(e,n,r),o={};switch(t){case"rtl":o.right="".concat(i*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(i*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(i*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(i*100,"%"),o.transform="translateX(-50%)";break}return o}function Gc(t,e){return Array.isArray(t)?t[e]:t}var Iu=C.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),yae=C.createContext({}),xae=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],uD=C.forwardRef(function(t,e){var n=t.prefixCls,r=t.value,i=t.valueIndex,o=t.onStartMove,s=t.onDelete,a=t.style,l=t.render,c=t.dragging,u=t.draggingDelete,d=t.onOffsetChange,f=t.onChangeComplete,m=t.onFocus,v=t.onMouseEnter,x=On(t,xae),y=C.useContext(Iu),g=y.min,S=y.max,_=y.direction,w=y.disabled,A=y.keyboard,M=y.range,P=y.tabIndex,I=y.ariaLabelForHandle,T=y.ariaLabelledByForHandle,E=y.ariaRequired,B=y.ariaValueTextFormatterForHandle,F=y.styles,L=y.classNames,z="".concat(n,"-handle"),G=function(te){w||o(te,i)},j=function(te){m==null||m(te,i)},X=function(te){v(te,i)},N=function(te){if(!w&&A){var ae=null;switch(te.which||te.keyCode){case rt.LEFT:ae=_==="ltr"||_==="btt"?-1:1;break;case rt.RIGHT:ae=_==="ltr"||_==="btt"?1:-1;break;case rt.UP:ae=_!=="ttb"?1:-1;break;case rt.DOWN:ae=_!=="ttb"?-1:1;break;case rt.HOME:ae="min";break;case rt.END:ae="max";break;case rt.PAGE_UP:ae=2;break;case rt.PAGE_DOWN:ae=-2;break;case rt.BACKSPACE:case rt.DELETE:s(i);break}ae!==null&&(te.preventDefault(),d(ae,i))}},W=function(te){switch(te.which||te.keyCode){case rt.LEFT:case rt.RIGHT:case rt.UP:case rt.DOWN:case rt.HOME:case rt.END:case rt.PAGE_UP:case rt.PAGE_DOWN:f==null||f();break}},V=XT(_,r,g,S),ee={};if(i!==null){var se;ee={tabIndex:w?null:Gc(P,i),role:"slider","aria-valuemin":g,"aria-valuemax":S,"aria-valuenow":r,"aria-disabled":w,"aria-label":Gc(I,i),"aria-labelledby":Gc(T,i),"aria-required":Gc(E,i),"aria-valuetext":(se=Gc(B,i))===null||se===void 0?void 0:se(r),"aria-orientation":_==="ltr"||_==="rtl"?"horizontal":"vertical",onMouseDown:G,onTouchStart:G,onFocus:j,onMouseEnter:X,onKeyDown:N,onKeyUp:W}}var me=C.createElement("div",Xt({ref:e,className:nt(z,xe(xe(xe({},"".concat(z,"-").concat(i+1),i!==null&&M),"".concat(z,"-dragging"),c),"".concat(z,"-dragging-delete"),u),L.handle),style:Ce(Ce(Ce({},V),a),F.handle)},ee,x));return l&&(me=l(me,{index:i,prefixCls:n,value:r,dragging:c,draggingDelete:u})),me}),Sae=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],_ae=C.forwardRef(function(t,e){var n=t.prefixCls,r=t.style,i=t.onStartMove,o=t.onOffsetChange,s=t.values,a=t.handleRender,l=t.activeHandleRender,c=t.draggingIndex,u=t.draggingDelete,d=t.onFocus,f=On(t,Sae),m=C.useRef({}),v=C.useState(!1),x=ke(v,2),y=x[0],g=x[1],S=C.useState(-1),_=ke(S,2),w=_[0],A=_[1],M=function(B){A(B),g(!0)},P=function(B,F){M(F),d==null||d(B)},I=function(B,F){M(F)};C.useImperativeHandle(e,function(){return{focus:function(B){var F;(F=m.current[B])===null||F===void 0||F.focus()},hideHelp:function(){ka.flushSync(function(){g(!1)})}}});var T=Ce({prefixCls:n,onStartMove:i,onOffsetChange:o,render:a,onFocus:P,onMouseEnter:I},f);return C.createElement(C.Fragment,null,s.map(function(E,B){var F=c===B;return C.createElement(uD,Xt({ref:function(z){z?m.current[B]=z:delete m.current[B]},dragging:F,draggingDelete:F&&u,style:Gc(r,B),key:B,value:E,valueIndex:B},T))}),l&&y&&C.createElement(uD,Xt({key:"a11y"},T,{value:s[w],valueIndex:null,dragging:c!==-1,draggingDelete:u,render:l,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Cae=function(e){var n=e.prefixCls,r=e.style,i=e.children,o=e.value,s=e.onClick,a=C.useContext(Iu),l=a.min,c=a.max,u=a.direction,d=a.includedStart,f=a.includedEnd,m=a.included,v="".concat(n,"-text"),x=XT(u,o,l,c);return C.createElement("span",{className:nt(v,xe({},"".concat(v,"-active"),m&&d<=o&&o<=f)),style:Ce(Ce({},x),r),onMouseDown:function(g){g.stopPropagation()},onClick:function(){s(o)}},i)},bae=function(e){var n=e.prefixCls,r=e.marks,i=e.onClick,o="".concat(n,"-mark");return r.length?C.createElement("div",{className:o},r.map(function(s){var a=s.value,l=s.style,c=s.label;return C.createElement(Cae,{key:a,prefixCls:o,style:l,value:a,onClick:i},c)})):null},wae=function(e){var n=e.prefixCls,r=e.value,i=e.style,o=e.activeStyle,s=C.useContext(Iu),a=s.min,l=s.max,c=s.direction,u=s.included,d=s.includedStart,f=s.includedEnd,m="".concat(n,"-dot"),v=u&&d<=r&&r<=f,x=Ce(Ce({},XT(c,r,a,l)),typeof i=="function"?i(r):i);return v&&(x=Ce(Ce({},x),typeof o=="function"?o(r):o)),C.createElement("span",{className:nt(m,xe({},"".concat(m,"-active"),v)),style:x})},Eae=function(e){var n=e.prefixCls,r=e.marks,i=e.dots,o=e.style,s=e.activeStyle,a=C.useContext(Iu),l=a.min,c=a.max,u=a.step,d=C.useMemo(function(){var f=new Set;if(r.forEach(function(v){f.add(v.value)}),i&&u!==null)for(var m=l;m<=c;)f.add(m),m+=u;return Array.from(f)},[l,c,u,i,r]);return C.createElement("div",{className:"".concat(n,"-step")},d.map(function(f){return C.createElement(wae,{prefixCls:n,key:f,value:f,style:o,activeStyle:s})}))},dD=function(e){var n=e.prefixCls,r=e.style,i=e.start,o=e.end,s=e.index,a=e.onStartMove,l=e.replaceCls,c=C.useContext(Iu),u=c.direction,d=c.min,f=c.max,m=c.disabled,v=c.range,x=c.classNames,y="".concat(n,"-track"),g=UE(i,d,f),S=UE(o,d,f),_=function(P){!m&&a&&a(P,-1)},w={};switch(u){case"rtl":w.right="".concat(g*100,"%"),w.width="".concat(S*100-g*100,"%");break;case"btt":w.bottom="".concat(g*100,"%"),w.height="".concat(S*100-g*100,"%");break;case"ttb":w.top="".concat(g*100,"%"),w.height="".concat(S*100-g*100,"%");break;default:w.left="".concat(g*100,"%"),w.width="".concat(S*100-g*100,"%")}var A=l||nt(y,xe(xe({},"".concat(y,"-").concat(s+1),s!==null&&v),"".concat(n,"-track-draggable"),a),x.track);return C.createElement("div",{className:A,style:Ce(Ce({},w),r),onMouseDown:_,onTouchStart:_})},Mae=function(e){var n=e.prefixCls,r=e.style,i=e.values,o=e.startPoint,s=e.onStartMove,a=C.useContext(Iu),l=a.included,c=a.range,u=a.min,d=a.styles,f=a.classNames,m=C.useMemo(function(){if(!c){if(i.length===0)return[];var x=o??u,y=i[0];return[{start:Math.min(x,y),end:Math.max(x,y)}]}for(var g=[],S=0;S<i.length-1;S+=1)g.push({start:i[S],end:i[S+1]});return g},[i,c,o,u]);if(!l)return null;var v=m!=null&&m.length&&(f.tracks||d.tracks)?C.createElement(dD,{index:null,prefixCls:n,start:m[0].start,end:m[m.length-1].end,replaceCls:nt(f.tracks,"".concat(n,"-tracks")),style:d.tracks}):null;return C.createElement(C.Fragment,null,v,m.map(function(x,y){var g=x.start,S=x.end;return C.createElement(dD,{index:y,prefixCls:n,style:Ce(Ce({},Gc(r,y)),d.track),start:g,end:S,key:y,onStartMove:s})}))},Aae=130;function fD(t){var e="targetTouches"in t?t.targetTouches[0]:t;return{pageX:e.pageX,pageY:e.pageY}}function Tae(t,e,n,r,i,o,s,a,l,c,u){var d=C.useState(null),f=ke(d,2),m=f[0],v=f[1],x=C.useState(-1),y=ke(x,2),g=y[0],S=y[1],_=C.useState(!1),w=ke(_,2),A=w[0],M=w[1],P=C.useState(n),I=ke(P,2),T=I[0],E=I[1],B=C.useState(n),F=ke(B,2),L=F[0],z=F[1],G=C.useRef(null),j=C.useRef(null),X=C.useRef(null),N=C.useContext(yae),W=N.onDragStart,V=N.onDragChange;Vn(function(){g===-1&&E(n)},[n,g]),C.useEffect(function(){return function(){document.removeEventListener("mousemove",G.current),document.removeEventListener("mouseup",j.current),X.current&&(X.current.removeEventListener("touchmove",G.current),X.current.removeEventListener("touchend",j.current))}},[]);var ee=function(ae,de,_e){de!==void 0&&v(de),E(ae);var Re=ae;_e&&(Re=ae.filter(function(Te,Y){return Y!==g})),s(Re),V&&V({rawValues:ae,deleteIndex:_e?g:-1,draggingIndex:g,draggingValue:de})},se=lr(function(te,ae,de){if(te===-1){var _e=L[0],Re=L[L.length-1],Te=r-_e,Y=i-Re,Q=ae*(i-r);Q=Math.max(Q,Te),Q=Math.min(Q,Y);var ie=o(_e+Q);Q=ie-_e;var ye=L.map(function(U){return U+Q});ee(ye)}else{var fe=(i-r)*ae,pe=pt(T);pe[te]=L[te];var $=l(pe,fe,te,"dist");ee($.values,$.value,de)}}),me=function(ae,de,_e){ae.stopPropagation();var Re=_e||n,Te=Re[de];S(de),v(Te),z(Re),E(Re),M(!1);var Y=fD(ae),Q=Y.pageX,ie=Y.pageY,ye=!1;W&&W({rawValues:Re,draggingIndex:de,draggingValue:Te});var fe=function(U){U.preventDefault();var le=fD(U),be=le.pageX,we=le.pageY,Oe=be-Q,De=we-ie,ge=t.current.getBoundingClientRect(),Fe=ge.width,Xe=ge.height,Ne,He;switch(e){case"btt":Ne=-De/Xe,He=Oe;break;case"ttb":Ne=De/Xe,He=Oe;break;case"rtl":Ne=-Oe/Fe,He=De;break;default:Ne=Oe/Fe,He=De}ye=c?Math.abs(He)>Aae&&u<T.length:!1,M(ye),se(de,Ne,ye)},pe=function $(U){U.preventDefault(),document.removeEventListener("mouseup",$),document.removeEventListener("mousemove",fe),X.current&&(X.current.removeEventListener("touchmove",G.current),X.current.removeEventListener("touchend",j.current)),G.current=null,j.current=null,X.current=null,a(ye),S(-1),M(!1)};document.addEventListener("mouseup",pe),document.addEventListener("mousemove",fe),ae.currentTarget.addEventListener("touchend",pe),ae.currentTarget.addEventListener("touchmove",fe),G.current=fe,j.current=pe,X.current=ae.currentTarget},K=C.useMemo(function(){var te=pt(n).sort(function(Te,Y){return Te-Y}),ae=pt(T).sort(function(Te,Y){return Te-Y}),de={};ae.forEach(function(Te){de[Te]=(de[Te]||0)+1}),te.forEach(function(Te){de[Te]=(de[Te]||0)-1});var _e=c?1:0,Re=Object.values(de).reduce(function(Te,Y){return Te+Math.abs(Y)},0);return Re<=_e?T:n},[n,T,c]);return[g,m,A,K,me]}function Rae(t,e,n,r,i,o){var s=C.useCallback(function(m){return Math.max(t,Math.min(e,m))},[t,e]),a=C.useCallback(function(m){if(n!==null){var v=t+Math.round((s(m)-t)/n)*n,x=function(_){return(String(_).split(".")[1]||"").length},y=Math.max(x(n),x(e),x(t)),g=Number(v.toFixed(y));return t<=g&&g<=e?g:null}return null},[n,t,e,s]),l=C.useCallback(function(m){var v=s(m),x=r.map(function(S){return S.value});n!==null&&x.push(a(m)),x.push(t,e);var y=x[0],g=e-t;return x.forEach(function(S){var _=Math.abs(v-S);_<=g&&(y=S,g=_)}),y},[t,e,r,n,s,a]),c=function m(v,x,y){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof x=="number"){var S,_=v[y],w=_+x,A=[];r.forEach(function(E){A.push(E.value)}),A.push(t,e),A.push(a(_));var M=x>0?1:-1;g==="unit"?A.push(a(_+M*n)):A.push(a(w)),A=A.filter(function(E){return E!==null}).filter(function(E){return x<0?E<=_:E>=_}),g==="unit"&&(A=A.filter(function(E){return E!==_}));var P=g==="unit"?_:w;S=A[0];var I=Math.abs(S-P);if(A.forEach(function(E){var B=Math.abs(E-P);B<I&&(S=E,I=B)}),S===void 0)return x<0?t:e;if(g==="dist")return S;if(Math.abs(x)>1){var T=pt(v);return T[y]=S,m(T,x-M,y,g)}return S}else{if(x==="min")return t;if(x==="max")return e}},u=function(v,x,y){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",S=v[y],_=c(v,x,y,g);return{value:_,changed:_!==S}},d=function(v){return o===null&&v===0||typeof o=="number"&&v<o},f=function(v,x,y){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",S=v.map(l),_=S[y],w=c(S,x,y,g);if(S[y]=w,i===!1){var A=o||0;y>0&&S[y-1]!==_&&(S[y]=Math.max(S[y],S[y-1]+A)),y<S.length-1&&S[y+1]!==_&&(S[y]=Math.min(S[y],S[y+1]-A))}else if(typeof o=="number"||o===null){for(var M=y+1;M<S.length;M+=1)for(var P=!0;d(S[M]-S[M-1])&&P;){var I=u(S,1,M);S[M]=I.value,P=I.changed}for(var T=y;T>0;T-=1)for(var E=!0;d(S[T]-S[T-1])&&E;){var B=u(S,-1,T-1);S[T-1]=B.value,E=B.changed}for(var F=S.length-1;F>0;F-=1)for(var L=!0;d(S[F]-S[F-1])&&L;){var z=u(S,-1,F-1);S[F-1]=z.value,L=z.changed}for(var G=0;G<S.length-1;G+=1)for(var j=!0;d(S[G+1]-S[G])&&j;){var X=u(S,1,G+1);S[G+1]=X.value,j=X.changed}}return{value:S[y],values:S}};return[l,f]}function Pae(t){return C.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var e=t.editable,n=t.draggableTrack,r=t.minCount,i=t.maxCount;return[!0,e,!e&&n,r||0,i]},[t])}var Iae=C.forwardRef(function(t,e){var n=t.prefixCls,r=n===void 0?"rc-slider":n,i=t.className,o=t.style,s=t.classNames,a=t.styles,l=t.id,c=t.disabled,u=c===void 0?!1:c,d=t.keyboard,f=d===void 0?!0:d,m=t.autoFocus,v=t.onFocus,x=t.onBlur,y=t.min,g=y===void 0?0:y,S=t.max,_=S===void 0?100:S,w=t.step,A=w===void 0?1:w,M=t.value,P=t.defaultValue,I=t.range,T=t.count,E=t.onChange,B=t.onBeforeChange,F=t.onAfterChange,L=t.onChangeComplete,z=t.allowCross,G=z===void 0?!0:z,j=t.pushable,X=j===void 0?!1:j,N=t.reverse,W=t.vertical,V=t.included,ee=V===void 0?!0:V,se=t.startPoint,me=t.trackStyle,K=t.handleStyle,te=t.railStyle,ae=t.dotStyle,de=t.activeDotStyle,_e=t.marks,Re=t.dots,Te=t.handleRender,Y=t.activeHandleRender,Q=t.track,ie=t.tabIndex,ye=ie===void 0?0:ie,fe=t.ariaLabelForHandle,pe=t.ariaLabelledByForHandle,$=t.ariaRequired,U=t.ariaValueTextFormatterForHandle,le=C.useRef(null),be=C.useRef(null),we=C.useMemo(function(){return W?N?"ttb":"btt":N?"rtl":"ltr"},[N,W]),Oe=Pae(I),De=ke(Oe,5),ge=De[0],Fe=De[1],Xe=De[2],Ne=De[3],He=De[4],Ye=C.useMemo(function(){return isFinite(g)?g:0},[g]),Ke=C.useMemo(function(){return isFinite(_)?_:100},[_]),We=C.useMemo(function(){return A!==null&&A<=0?1:A},[A]),ot=C.useMemo(function(){return typeof X=="boolean"?X?We:!1:X>=0?X:!1},[X,We]),je=C.useMemo(function(){return Object.keys(_e||{}).map(function(Ae){var Se=_e[Ae],qe={value:Number(Ae)};return Se&&$t(Se)==="object"&&!C.isValidElement(Se)&&("label"in Se||"style"in Se)?(qe.style=Se.style,qe.label=Se.label):qe.label=Se,qe}).filter(function(Ae){var Se=Ae.label;return Se||typeof Se=="number"}).sort(function(Ae,Se){return Ae.value-Se.value})},[_e]),Ze=Rae(Ye,Ke,We,je,G,ot),ft=ke(Ze,2),he=ft[0],Ee=ft[1],Z=Va(P,{value:M}),ze=ke(Z,2),Pe=ze[0],ct=ze[1],at=C.useMemo(function(){var Ae=Pe==null?[]:Array.isArray(Pe)?Pe:[Pe],Se=ke(Ae,1),qe=Se[0],Ge=qe===void 0?Ye:qe,et=Pe===null?[]:[Ge];if(ge){if(et=pt(Ae),T||Pe===void 0){var Et=T>=0?T+1:2;for(et=et.slice(0,Et);et.length<Et;){var yt;et.push((yt=et[et.length-1])!==null&&yt!==void 0?yt:Ye)}}et.sort(function(Ut,St){return Ut-St})}return et.forEach(function(Ut,St){et[St]=he(Ut)}),et},[Pe,ge,Ye,T,he]),Ft=function(Se){return ge?Se:Se[0]},Dt=lr(function(Ae){var Se=pt(Ae).sort(function(qe,Ge){return qe-Ge});E&&!lx(Se,at,!0)&&E(Ft(Se)),ct(Se)}),Lt=lr(function(Ae){Ae&&le.current.hideHelp();var Se=Ft(at);F==null||F(Se),wi(!F,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(Se)}),Pt=function(Se){if(!(u||!Fe||at.length<=Ne)){var qe=pt(at);qe.splice(Se,1),B==null||B(Ft(qe)),Dt(qe);var Ge=Math.max(0,Se-1);le.current.hideHelp(),le.current.focus(Ge)}},st=Tae(be,we,at,Ye,Ke,he,Dt,Lt,Ee,Fe,Ne),ut=ke(st,5),lt=ut[0],Gt=ut[1],yn=ut[2],bt=ut[3],ht=ut[4],Mt=function(Se,qe){if(!u){var Ge=pt(at),et=0,Et=0,yt=Ke-Ye;at.forEach(function(At,Kt){var Vt=Math.abs(Se-At);Vt<=yt&&(yt=Vt,et=Kt),At<Se&&(Et=Kt)});var Ut=et;Fe&&yt!==0&&(!He||at.length<He)?(Ge.splice(Et+1,0,Se),Ut=Et+1):Ge[et]=Se,ge&&!at.length&&T===void 0&&Ge.push(Se);var St=Ft(Ge);if(B==null||B(St),Dt(Ge),qe){var it,zt;(it=document.activeElement)===null||it===void 0||(zt=it.blur)===null||zt===void 0||zt.call(it),le.current.focus(Ut),ht(qe,Ut,Ge)}else F==null||F(St),wi(!F,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),L==null||L(St)}},wt=function(Se){Se.preventDefault();var qe=be.current.getBoundingClientRect(),Ge=qe.width,et=qe.height,Et=qe.left,yt=qe.top,Ut=qe.bottom,St=qe.right,it=Se.clientX,zt=Se.clientY,At;switch(we){case"btt":At=(Ut-zt)/et;break;case"ttb":At=(zt-yt)/et;break;case"rtl":At=(St-it)/Ge;break;default:At=(it-Et)/Ge}var Kt=Ye+At*(Ke-Ye);Mt(he(Kt),Se)},vt=C.useState(null),dt=ke(vt,2),pn=dt[0],fn=dt[1],H=function(Se,qe){if(!u){var Ge=Ee(at,Se,qe);B==null||B(Ft(at)),Dt(Ge.values),fn(Ge.value)}};C.useEffect(function(){if(pn!==null){var Ae=at.indexOf(pn);Ae>=0&&le.current.focus(Ae)}fn(null)},[pn]);var J=C.useMemo(function(){return Xe&&We===null?!1:Xe},[Xe,We]),D=lr(function(Ae,Se){ht(Ae,Se),B==null||B(Ft(at))}),q=lt!==-1;C.useEffect(function(){if(!q){var Ae=at.lastIndexOf(Gt);le.current.focus(Ae)}},[q]);var ne=C.useMemo(function(){return pt(bt).sort(function(Ae,Se){return Ae-Se})},[bt]),oe=C.useMemo(function(){return ge?[ne[0],ne[ne.length-1]]:[Ye,ne[0]]},[ne,ge,Ye]),ue=ke(oe,2),Ie=ue[0],ve=ue[1];C.useImperativeHandle(e,function(){return{focus:function(){le.current.focus(0)},blur:function(){var Se,qe=document,Ge=qe.activeElement;(Se=be.current)!==null&&Se!==void 0&&Se.contains(Ge)&&(Ge==null||Ge.blur())}}}),C.useEffect(function(){m&&le.current.focus(0)},[]);var Me=C.useMemo(function(){return{min:Ye,max:Ke,direction:we,disabled:u,keyboard:f,step:We,included:ee,includedStart:Ie,includedEnd:ve,range:ge,tabIndex:ye,ariaLabelForHandle:fe,ariaLabelledByForHandle:pe,ariaRequired:$,ariaValueTextFormatterForHandle:U,styles:a||{},classNames:s||{}}},[Ye,Ke,we,u,f,We,ee,Ie,ve,ge,ye,fe,pe,$,U,a,s]);return C.createElement(Iu.Provider,{value:Me},C.createElement("div",{ref:be,className:nt(r,i,xe(xe(xe(xe({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),W),"".concat(r,"-horizontal"),!W),"".concat(r,"-with-marks"),je.length)),style:o,onMouseDown:wt,id:l},C.createElement("div",{className:nt("".concat(r,"-rail"),s==null?void 0:s.rail),style:Ce(Ce({},te),a==null?void 0:a.rail)}),Q!==!1&&C.createElement(Mae,{prefixCls:r,style:me,values:at,startPoint:se,onStartMove:J?D:void 0}),C.createElement(Eae,{prefixCls:r,marks:je,dots:Re,style:ae,activeStyle:de}),C.createElement(_ae,{ref:le,prefixCls:r,style:K,values:bt,draggingIndex:lt,draggingDelete:yn,onStartMove:D,onOffsetChange:H,onFocus:v,onBlur:x,handleRender:Te,activeHandleRender:Y,onChangeComplete:Lt,onDelete:Fe?Pt:void 0}),C.createElement(bae,{prefixCls:r,marks:je,onClick:Mt})))});const Bae=C.createContext({}),Oae=Bae,Lae=C.forwardRef((t,e)=>{const{open:n,draggingDelete:r,value:i}=t,o=C.useRef(null),s=n&&!r,a=C.useRef(null);function l(){Gn.cancel(a.current),a.current=null}function c(){a.current=Gn(()=>{var u;(u=o.current)===null||u===void 0||u.forceAlign(),a.current=null})}return C.useEffect(()=>(s?c():l(),l),[s,t.title,i]),C.createElement(l5,Object.assign({ref:sa(o,e)},t,{open:s}))}),hD=Lae,Dae=t=>{const{componentCls:e,antCls:n,controlSize:r,dotSize:i,marginFull:o,marginPart:s,colorFillContentHover:a,handleColorDisabled:l,calc:c,handleSize:u,handleSizeHover:d,handleActiveColor:f,handleActiveOutlineColor:m,handleLineWidth:v,handleLineWidthHover:x,motionDurationMid:y}=t;return{[e]:Object.assign(Object.assign({},aa(t)),{position:"relative",height:r,margin:`${Ct(s)} ${Ct(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${Ct(o)} ${Ct(s)}`},[`${e}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${y}`},[`${e}-track,${e}-tracks`]:{position:"absolute",transition:`background-color ${y}`},[`${e}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${e}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${e}-rail`]:{backgroundColor:t.railHoverBg},[`${e}-track`]:{backgroundColor:t.trackHoverBg},[`${e}-dot`]:{borderColor:a},[`${e}-handle::after`]:{boxShadow:`0 0 0 ${Ct(v)} ${t.colorPrimaryBorderHover}`},[`${e}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${e}-handle`]:{position:"absolute",width:u,height:u,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(v).mul(-1).equal(),insetBlockStart:c(v).mul(-1).equal(),width:c(u).add(c(v).mul(2)).equal(),height:c(u).add(c(v).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:u,height:u,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${Ct(v)} ${t.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${y},
            inset-block-start ${y},
            width ${y},
            height ${y},
            box-shadow ${y},
            outline ${y}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(d).sub(u).div(2).add(x).mul(-1).equal(),insetBlockStart:c(d).sub(u).div(2).add(x).mul(-1).equal(),width:c(d).add(c(x).mul(2)).equal(),height:c(d).add(c(x).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${Ct(x)} ${f}`,outline:`6px solid ${m}`,width:d,height:d,insetInlineStart:t.calc(u).sub(d).div(2).equal(),insetBlockStart:t.calc(u).sub(d).div(2).equal()}}},[`&-lock ${e}-handle`]:{"&::before, &::after":{transition:"none"}},[`${e}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${e}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${e}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${e}-dot`]:{position:"absolute",width:i,height:i,backgroundColor:t.colorBgElevated,border:`${Ct(v)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${e}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${e}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${e}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:u,height:u,boxShadow:`0 0 0 ${Ct(v)} ${l}`,insetInlineStart:0,insetBlockStart:0},[`
          ${e}-mark-text,
          ${e}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},w5=(t,e)=>{const{componentCls:n,railSize:r,handleSize:i,dotSize:o,marginFull:s,calc:a}=t,l=e?"paddingBlock":"paddingInline",c=e?"width":"height",u=e?"height":"width",d=e?"insetBlockStart":"insetInlineStart",f=e?"top":"insetInlineStart",m=a(r).mul(3).sub(i).div(2).equal(),v=a(i).sub(r).div(2).equal(),x=e?{borderWidth:`${Ct(v)} 0`,transform:`translateY(${Ct(a(v).mul(-1).equal())})`}:{borderWidth:`0 ${Ct(v)}`,transform:`translateX(${Ct(t.calc(v).mul(-1).equal())})`};return{[l]:r,[u]:a(r).mul(3).equal(),[`${n}-rail`]:{[c]:"100%",[u]:r},[`${n}-track,${n}-tracks`]:{[u]:r},[`${n}-track-draggable`]:Object.assign({},x),[`${n}-handle`]:{[d]:m},[`${n}-mark`]:{insetInlineStart:0,top:0,[f]:a(r).mul(3).add(e?0:s).equal(),[c]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[f]:r,[c]:"100%",[u]:r},[`${n}-dot`]:{position:"absolute",[d]:a(r).sub(o).div(2).equal()}}},Fae=t=>{const{componentCls:e,marginPartWithMark:n}=t;return{[`${e}-horizontal`]:Object.assign(Object.assign({},w5(t,!0)),{[`&${e}-with-marks`]:{marginBottom:n}})}},Nae=t=>{const{componentCls:e}=t;return{[`${e}-vertical`]:Object.assign(Object.assign({},w5(t,!1)),{height:"100%"})}},Uae=t=>{const n=t.controlHeightLG/4,r=t.controlHeightSM/2,i=t.lineWidth+1,o=t.lineWidth+1*1.5,s=t.colorPrimary,a=new Un(s).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:i,handleLineWidthHover:o,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:s,handleActiveOutlineColor:a,handleColorDisabled:new Un(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},kae=Ao("Slider",t=>{const e=or(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[Dae(e),Fae(e),Nae(e)]},Uae);function hC(){const[t,e]=C.useState(!1),n=C.useRef(null),r=()=>{Gn.cancel(n.current)},i=o=>{r(),o?e(o):n.current=Gn(()=>{e(o)})};return C.useEffect(()=>r,[]),[t,i]}var zae=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Hae(t,e){return t||t===null?t:e||e===null?e:n=>typeof n=="number"?n.toString():""}const Vae=tt.forwardRef((t,e)=>{const{prefixCls:n,range:r,className:i,rootClassName:o,style:s,disabled:a,tooltipPrefixCls:l,tipFormatter:c,tooltipVisible:u,getTooltipPopupContainer:d,tooltipPlacement:f,tooltip:m={},onChangeComplete:v,classNames:x,styles:y}=t,g=zae(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:S}=t,{getPrefixCls:_,direction:w,className:A,style:M,classNames:P,styles:I,getPopupContainer:T}=nc("slider"),E=tt.useContext(rc),B=a??E,{handleRender:F,direction:L}=tt.useContext(Oae),G=(L||w)==="rtl",[j,X]=hC(),[N,W]=hC(),V=Object.assign({},m),{open:ee,placement:se,getPopupContainer:me,prefixCls:K,formatter:te}=V,ae=ee??u,de=(j||N)&&ae!==!1,_e=Hae(te,c),[Re,Te]=hC(),Y=ge=>{v==null||v(ge),Te(!1)},Q=(ge,Fe)=>ge||(Fe?G?"left":"right":"top"),ie=_("slider",n),[ye,fe,pe]=kae(ie),$=nt(i,A,P.root,x==null?void 0:x.root,o,{[`${ie}-rtl`]:G,[`${ie}-lock`]:Re},fe,pe);G&&!g.vertical&&(g.reverse=!g.reverse),tt.useEffect(()=>{const ge=()=>{Gn(()=>{W(!1)},1)};return document.addEventListener("mouseup",ge),()=>{document.removeEventListener("mouseup",ge)}},[]);const U=r&&!ae,le=F||((ge,Fe)=>{const{index:Xe}=Fe,Ne=ge.props;function He(ot,je,Ze){var ft,he,Ee,Z;Ze&&((he=(ft=g)[ot])===null||he===void 0||he.call(ft,je)),(Z=(Ee=Ne)[ot])===null||Z===void 0||Z.call(Ee,je)}const Ye=Object.assign(Object.assign({},Ne),{onMouseEnter:ot=>{X(!0),He("onMouseEnter",ot)},onMouseLeave:ot=>{X(!1),He("onMouseLeave",ot)},onMouseDown:ot=>{W(!0),Te(!0),He("onMouseDown",ot)},onFocus:ot=>{var je;W(!0),(je=g.onFocus)===null||je===void 0||je.call(g,ot),He("onFocus",ot,!0)},onBlur:ot=>{var je;W(!1),(je=g.onBlur)===null||je===void 0||je.call(g,ot),He("onBlur",ot,!0)}}),Ke=tt.cloneElement(ge,Ye),We=(!!ae||de)&&_e!==null;return U?Ke:tt.createElement(hD,Object.assign({},V,{prefixCls:_("tooltip",K??l),title:_e?_e(Fe.value):"",value:Fe.value,open:We,placement:Q(se??f,S),key:Xe,classNames:{root:`${ie}-tooltip`},getPopupContainer:me||d||T}),Ke)}),be=U?(ge,Fe)=>{const Xe=tt.cloneElement(ge,{style:Object.assign(Object.assign({},ge.props.style),{visibility:"hidden"})});return tt.createElement(hD,Object.assign({},V,{prefixCls:_("tooltip",K??l),title:_e?_e(Fe.value):"",open:_e!==null&&de,placement:Q(se??f,S),key:"tooltip",classNames:{root:`${ie}-tooltip`},getPopupContainer:me||d||T,draggingDelete:Fe.draggingDelete}),Xe)}:void 0,we=Object.assign(Object.assign(Object.assign(Object.assign({},I.root),M),y==null?void 0:y.root),s),Oe=Object.assign(Object.assign({},I.tracks),y==null?void 0:y.tracks),De=nt(P.tracks,x==null?void 0:x.tracks);return ye(tt.createElement(Iae,Object.assign({},g,{classNames:Object.assign({handle:nt(P.handle,x==null?void 0:x.handle),rail:nt(P.rail,x==null?void 0:x.rail),track:nt(P.track,x==null?void 0:x.track)},De?{tracks:De}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},I.handle),y==null?void 0:y.handle),rail:Object.assign(Object.assign({},I.rail),y==null?void 0:y.rail),track:Object.assign(Object.assign({},I.track),y==null?void 0:y.track)},Object.keys(Oe).length?{tracks:Oe}:{}),step:g.step,range:r,className:$,style:we,disabled:B,ref:e,prefixCls:ie,handleRender:le,activeHandleRender:be,onChangeComplete:Y})))}),Gae=Vae;function $ae(t){return t==null?null:typeof t=="object"&&!C.isValidElement(t)?t:{title:t}}function vx(t){const[e,n]=C.useState(t);return C.useEffect(()=>{const r=setTimeout(()=>{n(t)},t.length?0:10);return()=>{clearTimeout(r)}},[t]),e}const Wae=t=>{const{componentCls:e}=t,n=`${e}-show-help`,r=`${e}-show-help-item`;return{[n]:{transition:`opacity ${t.motionDurationFast} ${t.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${t.motionDurationFast} ${t.motionEaseInOut},
                     opacity ${t.motionDurationFast} ${t.motionEaseInOut},
                     transform ${t.motionDurationFast} ${t.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},jae=Wae,Xae=t=>({legend:{display:"block",width:"100%",marginBottom:t.marginLG,padding:0,color:t.colorTextDescription,fontSize:t.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${Ct(t.lineWidth)} ${t.lineType} ${t.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${Ct(t.controlOutlineWidth)} ${t.controlOutline}`},output:{display:"block",paddingTop:15,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight}}),pD=(t,e)=>{const{formItemCls:n}=t;return{[n]:{[`${n}-label > label`]:{height:e},[`${n}-control-input`]:{minHeight:e}}}},Kae=t=>{const{componentCls:e}=t;return{[t.componentCls]:Object.assign(Object.assign(Object.assign({},aa(t)),Xae(t)),{[`${e}-text`]:{display:"inline-block",paddingInlineEnd:t.paddingSM},"&-small":Object.assign({},pD(t,t.controlHeightSM)),"&-large":Object.assign({},pD(t,t.controlHeightLG))})}},Jae=t=>{const{formItemCls:e,iconCls:n,rootPrefixCls:r,antCls:i,labelRequiredMarkColor:o,labelColor:s,labelFontSize:a,labelHeight:l,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:u,itemMarginBottom:d}=t;return{[e]:Object.assign(Object.assign({},aa(t)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden${i}-row`]:{display:"none"},"&-has-warning":{[`${e}-split`]:{color:t.colorError}},"&-has-error":{[`${e}-split`]:{color:t.colorWarning}},[`${e}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:t.lineHeight,whiteSpace:"unset","> label":{verticalAlign:"middle",textWrap:"balance"}},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:l,color:s,fontSize:a,[`> ${n}`]:{fontSize:t.fontSize,verticalAlign:"top"},[`&${e}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:t.marginXXS,color:o,fontSize:t.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${e}-required-mark-hidden, &${e}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${e}-optional`]:{display:"inline-block",marginInlineStart:t.marginXXS,color:t.colorTextDescription,[`&${e}-required-mark-hidden`]:{display:"none"}},[`${e}-tooltip`]:{color:t.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:t.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:u},[`&${e}-no-colon::after`]:{content:'"\\a0"'}}},[`${e}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:t.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[e]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:t.colorTextDescription,fontSize:t.fontSize,lineHeight:t.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:t.controlHeightSM,transition:`color ${t.motionDurationMid} ${t.motionEaseOut}`},"&-explain":{"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning}}},[`&-with-help ${e}-explain`]:{height:"auto",opacity:1},[`${e}-feedback-icon`]:{fontSize:t.fontSize,textAlign:"center",visibility:"visible",animationName:BT,animationDuration:t.motionDurationMid,animationTimingFunction:t.motionEaseOutBack,pointerEvents:"none","&-success":{color:t.colorSuccess},"&-error":{color:t.colorError},"&-warning":{color:t.colorWarning},"&-validating":{color:t.colorPrimary}}})}},mD=(t,e)=>{const{formItemCls:n}=t;return{[`${e}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},Yae=t=>{const{componentCls:e,formItemCls:n,inlineItemMarginBottom:r}=t;return{[`${e}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:t.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,
        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${e}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},ws=t=>({padding:t.verticalLabelPadding,margin:t.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),E5=t=>{const{componentCls:e,formItemCls:n,rootPrefixCls:r}=t;return{[`${n} ${n}-label`]:ws(t),[`${e}:not(${e}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},qae=t=>{const{componentCls:e,formItemCls:n,antCls:r}=t;return{[`${e}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,
        ${r}-col-24${n}-label,
        ${r}-col-xl-24${n}-label`]:ws(t)}},[`@media (max-width: ${Ct(t.screenXSMax)})`]:[E5(t),{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:ws(t)}}}],[`@media (max-width: ${Ct(t.screenSMMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:ws(t)}}},[`@media (max-width: ${Ct(t.screenMDMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:ws(t)}}},[`@media (max-width: ${Ct(t.screenLGMax)})`]:{[e]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:ws(t)}}}}},Qae=t=>{const{formItemCls:e,antCls:n}=t;return{[`${e}-vertical`]:{[`${e}-row`]:{flexDirection:"column"},[`${e}-label > label`]:{height:"auto"},[`${e}-control`]:{width:"100%"}},[`${e}-vertical ${e}-label,
      ${n}-col-24${e}-label,
      ${n}-col-xl-24${e}-label`]:ws(t),[`@media (max-width: ${Ct(t.screenXSMax)})`]:[E5(t),{[e]:{[`${n}-col-xs-24${e}-label`]:ws(t)}}],[`@media (max-width: ${Ct(t.screenSMMax)})`]:{[e]:{[`${n}-col-sm-24${e}-label`]:ws(t)}},[`@media (max-width: ${Ct(t.screenMDMax)})`]:{[e]:{[`${n}-col-md-24${e}-label`]:ws(t)}},[`@media (max-width: ${Ct(t.screenLGMax)})`]:{[e]:{[`${n}-col-lg-24${e}-label`]:ws(t)}}}},Zae=t=>({labelRequiredMarkColor:t.colorError,labelColor:t.colorTextHeading,labelFontSize:t.fontSize,labelHeight:t.controlHeight,labelColonMarginInlineStart:t.marginXXS/2,labelColonMarginInlineEnd:t.marginXS,itemMarginBottom:t.marginLG,verticalLabelPadding:`0 0 ${t.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0}),M5=(t,e)=>or(t,{formItemCls:`${t.componentCls}-item`,rootPrefixCls:e}),KT=Ao("Form",(t,e)=>{let{rootPrefixCls:n}=e;const r=M5(t,n);return[Kae(r),Jae(r),jae(r),mD(r,r.componentCls),mD(r,r.formItemCls),Yae(r),qae(r),Qae(r),Ste(r),BT]},Zae,{order:-1e3}),gD=[];function pC(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof t=="string"?t:`${e}-${r}`,error:t,errorStatus:n}}const ele=t=>{let{help:e,helpStatus:n,errors:r=gD,warnings:i=gD,className:o,fieldId:s,onVisibleChanged:a}=t;const{prefixCls:l}=C.useContext(kT),c=`${l}-item-explain`,u=ic(l),[d,f,m]=KT(l,u),v=C.useMemo(()=>aL(l),[l]),x=vx(r),y=vx(i),g=C.useMemo(()=>e!=null?[pC(e,"help",n)]:[].concat(pt(x.map((w,A)=>pC(w,"error","error",A))),pt(y.map((w,A)=>pC(w,"warning","warning",A)))),[e,n,x,y]),S=C.useMemo(()=>{const w={};return g.forEach(A=>{let{key:M}=A;w[M]=(w[M]||0)+1}),g.map((A,M)=>Object.assign(Object.assign({},A),{key:w[A.key]>1?`${A.key}-fallback-${M}`:A.key}))},[g]),_={};return s&&(_.id=`${s}_help`),d(C.createElement(Qf,{motionDeadline:v.motionDeadline,motionName:`${l}-show-help`,visible:!!S.length,onVisibleChanged:a},w=>{const{className:A,style:M}=w;return C.createElement("div",Object.assign({},_,{className:nt(c,A,m,u,o,f),style:M}),C.createElement(Gz,Object.assign({keys:S},aL(l),{motionName:`${l}-show-help-item`,component:!1}),P=>{const{key:I,error:T,errorStatus:E,className:B,style:F}=P;return C.createElement("div",{key:I,className:nt(B,{[`${c}-${E}`]:E}),style:F},T)}))}))},A5=ele,tle=["parentNode"],nle="form_item";function Lp(t){return t===void 0||t===!1?[]:Array.isArray(t)?t:[t]}function T5(t,e){if(!t.length)return;const n=t.join("_");return e?`${e}_${n}`:tle.includes(n)?`${nle}_${n}`:n}function R5(t,e,n,r,i,o){let s=r;return o!==void 0?s=o:n.validating?s="validating":t.length?s="error":e.length?s="warning":(n.touched||i&&n.validated)&&(s="success"),s}var rle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function vD(t){return Lp(t).join("_")}function yD(t,e){const n=e.getFieldInstance(t),r=Dk(n);if(r)return r;const i=T5(Lp(t),e.__INTERNAL__.name);if(i)return document.getElementById(i)}function P5(t){const[e]=UT(),n=C.useRef({}),r=C.useMemo(()=>t??Object.assign(Object.assign({},e),{__INTERNAL__:{itemRef:i=>o=>{const s=vD(i);o?n.current[s]=o:delete n.current[s]}},scrollToField:function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focus:s}=o,a=rle(o,["focus"]),l=yD(i,r);l&&(QZ(l,Object.assign({scrollMode:"if-needed",block:"nearest"},a)),s&&r.focusField(i))},focusField:i=>{var o,s;const a=r.getFieldInstance(i);typeof(a==null?void 0:a.focus)=="function"?a.focus():(s=(o=yD(i,r))===null||o===void 0?void 0:o.focus)===null||s===void 0||s.call(o)},getFieldInstance:i=>{const o=vD(i);return n.current[o]}}),[t,e]);return[r]}var ile=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ole=(t,e)=>{const n=C.useContext(rc),{getPrefixCls:r,direction:i,requiredMark:o,colon:s,scrollToFirstError:a,className:l,style:c}=nc("form"),{prefixCls:u,className:d,rootClassName:f,size:m,disabled:v=n,form:x,colon:y,labelAlign:g,labelWrap:S,labelCol:_,wrapperCol:w,hideRequiredMark:A,layout:M="horizontal",scrollToFirstError:P,requiredMark:I,onFinishFailed:T,name:E,style:B,feedbackIcons:F,variant:L}=t,z=ile(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),G=Pu(m),j=C.useContext(vz),X=C.useMemo(()=>I!==void 0?I:A?!1:o!==void 0?o:!0,[A,I,o]),N=y??s,W=r("form",u),V=ic(W),[ee,se,me]=KT(W,V),K=nt(W,`${W}-${M}`,{[`${W}-hide-required-mark`]:X===!1,[`${W}-rtl`]:i==="rtl",[`${W}-${G}`]:G},me,V,se,l,d,f),[te]=P5(x),{__INTERNAL__:ae}=te;ae.name=E;const de=C.useMemo(()=>({name:E,labelAlign:g,labelCol:_,labelWrap:S,wrapperCol:w,vertical:M==="vertical",colon:N,requiredMark:X,itemRef:ae.itemRef,form:te,feedbackIcons:F}),[E,g,_,w,M,N,X,te,F]),_e=C.useRef(null);C.useImperativeHandle(e,()=>{var Y;return Object.assign(Object.assign({},te),{nativeElement:(Y=_e.current)===null||Y===void 0?void 0:Y.nativeElement})});const Re=(Y,Q)=>{if(Y){let ie={block:"nearest"};typeof Y=="object"&&(ie=Object.assign(Object.assign({},ie),Y)),te.scrollToField(Q,ie)}},Te=Y=>{if(T==null||T(Y),Y.errorFields.length){const Q=Y.errorFields[0].name;if(P!==void 0){Re(P,Q);return}a!==void 0&&Re(a,Q)}};return ee(C.createElement(OH.Provider,{value:L},C.createElement(wz,{disabled:v},C.createElement(og.Provider,{value:G},C.createElement(BH,{validateMessages:j},C.createElement(Ga.Provider,{value:de},C.createElement(eh,Object.assign({id:E},z,{name:E,onFinishFailed:Te,form:te,ref:_e,style:Object.assign(Object.assign({},c),B),className:K}))))))))},sle=C.forwardRef(ole),ale=sle;function lle(t){if(typeof t=="function")return t;const e=wf(t);return e.length<=1?e[0]:e}const I5=()=>{const{status:t,errors:e=[],warnings:n=[]}=C.useContext(Co);return{status:t,errors:e,warnings:n}};I5.Context=Co;const cle=I5;function ule(t){const[e,n]=C.useState(t),r=C.useRef(null),i=C.useRef([]),o=C.useRef(!1);C.useEffect(()=>(o.current=!1,()=>{o.current=!0,Gn.cancel(r.current),r.current=null}),[]);function s(a){o.current||(r.current===null&&(i.current=[],r.current=Gn(()=>{r.current=null,n(l=>{let c=l;return i.current.forEach(u=>{c=u(c)}),c})})),i.current.push(a))}return[e,s]}function dle(){const{itemRef:t}=C.useContext(Ga),e=C.useRef({});function n(r,i){const o=i&&typeof i=="object"&&rg(i),s=r.join("_");return(e.current.name!==s||e.current.originRef!==o)&&(e.current.name=s,e.current.originRef=o,e.current.ref=sa(t(r),o)),e.current.ref}return n}const fle=t=>{const{formItemCls:e}=t;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${e}-control`]:{display:"flex"}}}},hle=Bz(["Form","item-item"],(t,e)=>{let{rootPrefixCls:n}=e;const r=M5(t,n);return[fle(r)]});var ple=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const mle=24,gle=t=>{const{prefixCls:e,status:n,labelCol:r,wrapperCol:i,children:o,errors:s,warnings:a,_internalItemRender:l,extra:c,help:u,fieldId:d,marginBottom:f,onErrorVisibleChanged:m,label:v}=t,x=`${e}-item`,y=C.useContext(Ga),g=C.useMemo(()=>{let z=Object.assign({},i||y.wrapperCol||{});return v===null&&!r&&!i&&y.labelCol&&[void 0,"xs","sm","md","lg","xl","xxl"].forEach(j=>{const X=j?[j]:[],N=qo(y.labelCol,X),W=typeof N=="object"?N:{},V=qo(z,X),ee=typeof V=="object"?V:{};"span"in W&&!("offset"in ee)&&W.span<mle&&(z=Wo(z,[].concat(X,["offset"]),W.span))}),z},[i,y]),S=nt(`${x}-control`,g.className),_=C.useMemo(()=>ple(y,["labelCol","wrapperCol"]),[y]),w=C.useRef(null),[A,M]=C.useState(0);Vn(()=>{c&&w.current?M(w.current.clientHeight):M(0)},[c]);const P=C.createElement("div",{className:`${x}-control-input`},C.createElement("div",{className:`${x}-control-input-content`},o)),I=C.useMemo(()=>({prefixCls:e,status:n}),[e,n]),T=f!==null||s.length||a.length?C.createElement(kT.Provider,{value:I},C.createElement(A5,{fieldId:d,errors:s,warnings:a,help:u,helpStatus:n,className:`${x}-explain-connected`,onVisibleChanged:m})):null,E={};d&&(E.id=`${d}_extra`);const B=c?C.createElement("div",Object.assign({},E,{className:`${x}-extra`,ref:w}),c):null,F=T||B?C.createElement("div",{className:`${x}-additional`,style:f?{minHeight:f+A}:{}},T,B):null,L=l&&l.mark==="pro_table_render"&&l.render?l.render(t,{input:P,errorList:T,extra:B}):C.createElement(C.Fragment,null,P,F);return C.createElement(Ga.Provider,{value:_},C.createElement(y5,Object.assign({},g,{className:S}),L),C.createElement(hle,{prefixCls:e}))},vle=gle;var yle={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const xle=yle;var Sle=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:xle}))},_le=C.forwardRef(Sle);const Cle=_le;var ble=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wle=t=>{let{prefixCls:e,label:n,htmlFor:r,labelCol:i,labelAlign:o,colon:s,required:a,requiredMark:l,tooltip:c,vertical:u}=t;var d;const[f]=lS("Form"),{labelAlign:m,labelCol:v,labelWrap:x,colon:y}=C.useContext(Ga);if(!n)return null;const g=i||v||{},S=o||m,_=`${e}-item-label`,w=nt(_,S==="left"&&`${_}-left`,g.className,{[`${_}-wrap`]:!!x});let A=n;const M=s===!0||y!==!1&&s!==!1;M&&!u&&typeof n=="string"&&n.trim()&&(A=n.replace(/[:|：]\s*$/,""));const I=$ae(c);if(I){const{icon:z=C.createElement(Cle,null)}=I,G=ble(I,["icon"]),j=C.createElement(l5,Object.assign({},G),C.cloneElement(z,{className:`${e}-item-tooltip`,title:"",onClick:X=>{X.preventDefault()},tabIndex:null}));A=C.createElement(C.Fragment,null,A,j)}const T=l==="optional",E=typeof l=="function",B=l===!1;E?A=l(A,{required:!!a}):T&&!a&&(A=C.createElement(C.Fragment,null,A,C.createElement("span",{className:`${e}-item-optional`,title:""},(f==null?void 0:f.optional)||((d=Su.Form)===null||d===void 0?void 0:d.optional))));let F;B?F="hidden":(T||E)&&(F="optional");const L=nt({[`${e}-item-required`]:a,[`${e}-item-required-mark-${F}`]:F,[`${e}-item-no-colon`]:!M});return C.createElement(y5,Object.assign({},g,{className:w}),C.createElement("label",{htmlFor:r,className:L,title:typeof n=="string"?n:""},A))},Ele=wle,Mle={success:qz,warning:Zz,error:hS,validating:pS};function B5(t){let{children:e,errors:n,warnings:r,hasFeedback:i,validateStatus:o,prefixCls:s,meta:a,noStyle:l}=t;const c=`${s}-item`,{feedbackIcons:u}=C.useContext(Ga),d=R5(n,r,a,null,!!i,o),{isFormItemInput:f,status:m,hasFeedback:v,feedbackIcon:x}=C.useContext(Co),y=C.useMemo(()=>{var g;let S;if(i){const w=i!==!0&&i.icons||u,A=d&&((g=w==null?void 0:w({status:d,errors:n,warnings:r}))===null||g===void 0?void 0:g[d]),M=d&&Mle[d];S=A!==!1&&M?C.createElement("span",{className:nt(`${c}-feedback-icon`,`${c}-feedback-icon-${d}`)},A||C.createElement(M,null)):null}const _={status:d||"",errors:n,warnings:r,hasFeedback:!!i,feedbackIcon:S,isFormItemInput:!0};return l&&(_.status=(d??m)||"",_.isFormItemInput=f,_.hasFeedback=!!(i??v),_.feedbackIcon=i!==void 0?_.feedbackIcon:x),_},[d,i,l,f,m]);return C.createElement(Co.Provider,{value:y},e)}var Ale=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Tle(t){const{prefixCls:e,className:n,rootClassName:r,style:i,help:o,errors:s,warnings:a,validateStatus:l,meta:c,hasFeedback:u,hidden:d,children:f,fieldId:m,required:v,isRequired:x,onSubItemMetaChange:y,layout:g}=t,S=Ale(t,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),_=`${e}-item`,{requiredMark:w,vertical:A}=C.useContext(Ga),M=A||g==="vertical",P=C.useRef(null),I=vx(s),T=vx(a),E=o!=null,B=!!(E||s.length||a.length),F=!!P.current&&PT(P.current),[L,z]=C.useState(null);Vn(()=>{if(B&&P.current){const W=getComputedStyle(P.current);z(parseInt(W.marginBottom,10))}},[B,F]);const G=W=>{W||z(null)},X=function(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const V=W?I:c.errors,ee=W?T:c.warnings;return R5(V,ee,c,"",!!u,l)}(),N=nt(_,n,r,{[`${_}-with-help`]:E||I.length||T.length,[`${_}-has-feedback`]:X&&u,[`${_}-has-success`]:X==="success",[`${_}-has-warning`]:X==="warning",[`${_}-has-error`]:X==="error",[`${_}-is-validating`]:X==="validating",[`${_}-hidden`]:d,[`${_}-${g}`]:g});return C.createElement("div",{className:N,style:i,ref:P},C.createElement(lae,Object.assign({className:`${_}-row`},Ru(S,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),C.createElement(Ele,Object.assign({htmlFor:m},t,{requiredMark:w,required:v??x,prefixCls:e,vertical:M})),C.createElement(vle,Object.assign({},t,c,{errors:I,warnings:T,prefixCls:e,status:X,help:o,marginBottom:L,onErrorVisibleChanged:G}),C.createElement(IH.Provider,{value:y},C.createElement(B5,{prefixCls:e,meta:c,errors:c.errors,warnings:c.warnings,hasFeedback:u,validateStatus:X},f)))),!!L&&C.createElement("div",{className:`${_}-margin-offset`,style:{marginBottom:-L}}))}const Rle="__SPLIT__";function Ple(t,e){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(i=>{const o=t[i],s=e[i];return o===s||typeof o=="function"||typeof s=="function"})}const Ile=C.memo(t=>{let{children:e}=t;return e},(t,e)=>Ple(t.control,e.control)&&t.update===e.update&&t.childProps.length===e.childProps.length&&t.childProps.every((n,r)=>n===e.childProps[r]));function xD(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Ble(t){const{name:e,noStyle:n,className:r,dependencies:i,prefixCls:o,shouldUpdate:s,rules:a,children:l,required:c,label:u,messageVariables:d,trigger:f="onChange",validateTrigger:m,hidden:v,help:x,layout:y}=t,{getPrefixCls:g}=C.useContext(Wn),{name:S}=C.useContext(Ga),_=lle(l),w=typeof _=="function",A=C.useContext(IH),{validateTrigger:M}=C.useContext(Cu),P=m!==void 0?m:M,I=e!=null,T=g("form",o),E=ic(T),[B,F,L]=KT(T,E);aS();const z=C.useContext(Cm),G=C.useRef(null),[j,X]=ule({}),[N,W]=Rf(()=>xD()),V=de=>{const _e=z==null?void 0:z.getKey(de.name);if(W(de.destroy?xD():de,!0),n&&x!==!1&&A){let Re=de.name;if(de.destroy)Re=G.current||Re;else if(_e!==void 0){const[Te,Y]=_e;Re=[Te].concat(pt(Y)),G.current=Re}A(de,Re)}},ee=(de,_e)=>{X(Re=>{const Te=Object.assign({},Re),Q=[].concat(pt(de.name.slice(0,-1)),pt(_e)).join(Rle);return de.destroy?delete Te[Q]:Te[Q]=de,Te})},[se,me]=C.useMemo(()=>{const de=pt(N.errors),_e=pt(N.warnings);return Object.values(j).forEach(Re=>{de.push.apply(de,pt(Re.errors||[])),_e.push.apply(_e,pt(Re.warnings||[]))}),[de,_e]},[j,N.errors,N.warnings]),K=dle();function te(de,_e,Re){return n&&!v?C.createElement(B5,{prefixCls:T,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:N,errors:se,warnings:me,noStyle:!0},de):C.createElement(Tle,Object.assign({key:"row"},t,{className:nt(r,L,E,F),prefixCls:T,fieldId:_e,isRequired:Re,errors:se,warnings:me,meta:N,onSubItemMetaChange:ee,layout:y}),de)}if(!I&&!w&&!i)return B(te(_));let ae={};return typeof u=="string"?ae.label=u:e&&(ae.label=String(e)),d&&(ae=Object.assign(Object.assign({},ae),d)),B(C.createElement(NT,Object.assign({},t,{messageVariables:ae,trigger:f,validateTrigger:P,onMetaChange:V}),(de,_e,Re)=>{const Te=Lp(e).length&&_e?_e.name:[],Y=T5(Te,S),Q=c!==void 0?c:!!(a!=null&&a.some(fe=>{if(fe&&typeof fe=="object"&&fe.required&&!fe.warningOnly)return!0;if(typeof fe=="function"){const pe=fe(Re);return(pe==null?void 0:pe.required)&&!(pe!=null&&pe.warningOnly)}return!1})),ie=Object.assign({},de);let ye=null;if(Array.isArray(_)&&I)ye=_;else if(!(w&&(!(s||i)||I))){if(!(i&&!w&&!I))if(C.isValidElement(_)){const fe=Object.assign(Object.assign({},_.props),ie);if(fe.id||(fe.id=Y),x||se.length>0||me.length>0||t.extra){const U=[];(x||se.length>0)&&U.push(`${Y}_help`),t.extra&&U.push(`${Y}_extra`),fe["aria-describedby"]=U.join(" ")}se.length>0&&(fe["aria-invalid"]="true"),Q&&(fe["aria-required"]="true"),Yf(_)&&(fe.ref=K(Te,_)),new Set([].concat(pt(Lp(f)),pt(Lp(P)))).forEach(U=>{fe[U]=function(){for(var le,be,we,Oe,De,ge=arguments.length,Fe=new Array(ge),Xe=0;Xe<ge;Xe++)Fe[Xe]=arguments[Xe];(we=ie[U])===null||we===void 0||(le=we).call.apply(le,[ie].concat(Fe)),(De=(Oe=_.props)[U])===null||De===void 0||(be=De).call.apply(be,[Oe].concat(Fe))}});const $=[fe["aria-required"],fe["aria-invalid"],fe["aria-describedby"]];ye=C.createElement(Ile,{control:ie,update:_,childProps:$},If(_,fe))}else w&&(s||i)&&!I?ye=_(Re):ye=_}return te(ye,Y,Q)}))}const O5=Ble;O5.useStatus=cle;const Ole=O5;var Lle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Dle=t=>{var{prefixCls:e,children:n}=t,r=Lle(t,["prefixCls","children"]);const{getPrefixCls:i}=C.useContext(Wn),o=i("form",e),s=C.useMemo(()=>({prefixCls:o,status:"error"}),[o]);return C.createElement(AH,Object.assign({},r),(a,l,c)=>C.createElement(kT.Provider,{value:s},n(a.map(u=>Object.assign(Object.assign({},u),{fieldKey:u.key})),l,{errors:c.errors,warnings:c.warnings})))},Fle=Dle;function Nle(){const{form:t}=C.useContext(Ga);return t}const ja=ale;ja.Item=Ole;ja.List=Fle;ja.ErrorList=A5;ja.useForm=P5;ja.useFormInstance=Nle;ja.useWatch=PH;ja.Provider=BH;ja.create=()=>{};const Gh=ja;var Ule={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const kle=Ule;var zle=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:kle}))},Hle=C.forwardRef(zle);const Vle=Hle,Gle=t=>{const{getPrefixCls:e,direction:n}=C.useContext(Wn),{prefixCls:r,className:i}=t,o=e("input-group",r),s=e("input"),[a,l,c]=g5(s),u=nt(o,c,{[`${o}-lg`]:t.size==="large",[`${o}-sm`]:t.size==="small",[`${o}-compact`]:t.compact,[`${o}-rtl`]:n==="rtl"},l,i),d=C.useContext(Co),f=C.useMemo(()=>Object.assign(Object.assign({},d),{isFormItemInput:!1}),[d]);return a(C.createElement("span",{className:u,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},C.createElement(Co.Provider,{value:f},t.children)))},$le=Gle,Wle=t=>{const{componentCls:e,paddingXS:n}=t;return{[e]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${e}-input-wrapper`]:{position:"relative",[`${e}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${e}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${e}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${e}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${e}-input`]:{textAlign:"center",paddingInline:t.paddingXXS},[`&${e}-sm ${e}-input`]:{paddingInline:t.calc(t.paddingXXS).div(2).equal()},[`&${e}-lg ${e}-input`]:{paddingInline:t.paddingXS}}}},jle=Ao(["Input","OTP"],t=>{const e=or(t,wS(t));return[Wle(e)]},ES);var Xle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Kle=C.forwardRef((t,e)=>{const{className:n,value:r,onChange:i,onActiveChange:o,index:s,mask:a}=t,l=Xle(t,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:c}=C.useContext(Wn),u=c("otp"),d=typeof a=="string"?a:r,f=C.useRef(null);C.useImperativeHandle(e,()=>f.current);const m=g=>{i(s,g.target.value)},v=()=>{Gn(()=>{var g;const S=(g=f.current)===null||g===void 0?void 0:g.input;document.activeElement===S&&S&&S.select()})},x=g=>{const{key:S,ctrlKey:_,metaKey:w}=g;S==="ArrowLeft"?o(s-1):S==="ArrowRight"?o(s+1):S==="z"&&(_||w)&&g.preventDefault(),v()},y=g=>{g.key==="Backspace"&&!r&&o(s-1),v()};return C.createElement("span",{className:`${u}-input-wrapper`,role:"presentation"},a&&r!==""&&r!==void 0&&C.createElement("span",{className:`${u}-mask-icon`,"aria-hidden":"true"},d),C.createElement(MS,Object.assign({"aria-label":`OTP Input ${s+1}`,type:a===!0?"password":"text"},l,{ref:f,value:r,onInput:m,onFocus:v,onKeyDown:x,onKeyUp:y,onMouseDown:v,onMouseUp:v,className:nt(n,{[`${u}-mask-input`]:a})})))}),Jle=Kle;var Yle=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Kv(t){return(t||"").split("")}const qle=t=>{const{index:e,prefixCls:n,separator:r}=t,i=typeof r=="function"?r(e):r;return i?C.createElement("span",{className:`${n}-separator`},i):null},Qle=C.forwardRef((t,e)=>{const{prefixCls:n,length:r=6,size:i,defaultValue:o,value:s,onChange:a,formatter:l,separator:c,variant:u,disabled:d,status:f,autoFocus:m,mask:v,type:x,onInput:y,inputMode:g}=t,S=Yle(t,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:_,direction:w}=C.useContext(Wn),A=_("otp",n),M=Pf(S,{aria:!0,data:!0,attr:!0}),[P,I,T]=jle(A),E=Pu(K=>i??K),B=C.useContext(Co),F=bS(B.status,f),L=C.useMemo(()=>Object.assign(Object.assign({},B),{status:F,hasFeedback:!1,feedbackIcon:null}),[B,F]),z=C.useRef(null),G=C.useRef({});C.useImperativeHandle(e,()=>({focus:()=>{var K;(K=G.current[0])===null||K===void 0||K.focus()},blur:()=>{var K;for(let te=0;te<r;te+=1)(K=G.current[te])===null||K===void 0||K.blur()},nativeElement:z.current}));const j=K=>l?l(K):K,[X,N]=C.useState(()=>Kv(j(o||"")));C.useEffect(()=>{s!==void 0&&N(Kv(s))},[s]);const W=lr(K=>{N(K),y&&y(K),a&&K.length===r&&K.every(te=>te)&&K.some((te,ae)=>X[ae]!==te)&&a(K.join(""))}),V=lr((K,te)=>{let ae=pt(X);for(let _e=0;_e<K;_e+=1)ae[_e]||(ae[_e]="");te.length<=1?ae[K]=te:ae=ae.slice(0,K).concat(Kv(te)),ae=ae.slice(0,r);for(let _e=ae.length-1;_e>=0&&!ae[_e];_e-=1)ae.pop();const de=j(ae.map(_e=>_e||" ").join(""));return ae=Kv(de).map((_e,Re)=>_e===" "&&!ae[Re]?ae[Re]:_e),ae}),ee=(K,te)=>{var ae;const de=V(K,te),_e=Math.min(K+te.length,r-1);_e!==K&&de[K]!==void 0&&((ae=G.current[_e])===null||ae===void 0||ae.focus()),W(de)},se=K=>{var te;(te=G.current[K])===null||te===void 0||te.focus()},me={variant:u,disabled:d,status:F,mask:v,type:x,inputMode:g};return P(C.createElement("div",Object.assign({},M,{ref:z,className:nt(A,{[`${A}-sm`]:E==="small",[`${A}-lg`]:E==="large",[`${A}-rtl`]:w==="rtl"},T,I),role:"group"}),C.createElement(Co.Provider,{value:L},Array.from({length:r}).map((K,te)=>{const ae=`otp-${te}`,de=X[te]||"";return C.createElement(C.Fragment,{key:ae},C.createElement(Jle,Object.assign({ref:_e=>{G.current[te]=_e},index:te,size:E,htmlSize:1,className:`${A}-input`,onChange:ee,value:de,onActiveChange:se,autoFocus:te===0&&m},me)),te<r-1&&C.createElement(qle,{separator:c,index:te,prefixCls:A}))}))))}),Zle=Qle;var ece={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const tce=ece;var nce=function(e,n){return C.createElement(as,Xt({},e,{ref:n,icon:tce}))},rce=C.forwardRef(nce);const ice=rce;var oce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const sce=t=>t?C.createElement(Vle,null):C.createElement(ice,null),ace={click:"onClick",hover:"onMouseOver"},lce=C.forwardRef((t,e)=>{const{disabled:n,action:r="click",visibilityToggle:i=!0,iconRender:o=sce}=t,s=C.useContext(rc),a=n??s,l=typeof i=="object"&&i.visible!==void 0,[c,u]=C.useState(()=>l?i.visible:!1),d=C.useRef(null);C.useEffect(()=>{l&&u(i.visible)},[l,i]);const f=b5(d),m=()=>{var E;if(a)return;c&&f();const B=!c;u(B),typeof i=="object"&&((E=i.onVisibleChange)===null||E===void 0||E.call(i,B))},v=E=>{const B=ace[r]||"",F=o(c),L={[B]:m,className:`${E}-icon`,key:"passwordIcon",onMouseDown:z=>{z.preventDefault()},onMouseUp:z=>{z.preventDefault()}};return C.cloneElement(C.isValidElement(F)?F:C.createElement("span",null,F),L)},{className:x,prefixCls:y,inputPrefixCls:g,size:S}=t,_=oce(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:w}=C.useContext(Wn),A=w("input",g),M=w("input-password",y),P=i&&v(M),I=nt(M,x,{[`${M}-${S}`]:!!S}),T=Object.assign(Object.assign({},Ru(_,["suffix","iconRender","visibilityToggle"])),{type:c?"text":"password",className:I,prefixCls:A,suffix:P});return S&&(T.size=S),C.createElement(MS,Object.assign({ref:sa(e,d)},T))}),cce=lce;var uce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const dce=C.forwardRef((t,e)=>{const{prefixCls:n,inputPrefixCls:r,className:i,size:o,suffix:s,enterButton:a=!1,addonAfter:l,loading:c,disabled:u,onSearch:d,onChange:f,onCompositionStart:m,onCompositionEnd:v}=t,x=uce(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:y,direction:g}=C.useContext(Wn),S=C.useRef(!1),_=y("input-search",n),w=y("input",r),{compactSize:A}=ag(_,g),M=Pu(ee=>{var se;return(se=o??A)!==null&&se!==void 0?se:ee}),P=C.useRef(null),I=ee=>{ee!=null&&ee.target&&ee.type==="click"&&d&&d(ee.target.value,ee,{source:"clear"}),f==null||f(ee)},T=ee=>{var se;document.activeElement===((se=P.current)===null||se===void 0?void 0:se.input)&&ee.preventDefault()},E=ee=>{var se,me;d&&d((me=(se=P.current)===null||se===void 0?void 0:se.input)===null||me===void 0?void 0:me.value,ee,{source:"input"})},B=ee=>{S.current||c||E(ee)},F=typeof a=="boolean"?C.createElement(e5,null):null,L=`${_}-button`;let z;const G=a||{},j=G.type&&G.type.__ANT_BUTTON===!0;j||G.type==="button"?z=If(G,Object.assign({onMouseDown:T,onClick:ee=>{var se,me;(me=(se=G==null?void 0:G.props)===null||se===void 0?void 0:se.onClick)===null||me===void 0||me.call(se,ee),E(ee)},key:"enterButton"},j?{className:L,size:M}:{})):z=C.createElement(wne,{className:L,type:a?"primary":void 0,size:M,disabled:u,key:"enterButton",onMouseDown:T,onClick:E,loading:c,icon:F},a),l&&(z=[z,If(l,{key:"addonAfter"})]);const X=nt(_,{[`${_}-rtl`]:g==="rtl",[`${_}-${M}`]:!!M,[`${_}-with-button`]:!!a},i),N=Object.assign(Object.assign({},x),{className:X,prefixCls:w,type:"search"}),W=ee=>{S.current=!0,m==null||m(ee)},V=ee=>{S.current=!1,v==null||v(ee)};return C.createElement(MS,Object.assign({ref:sa(P,e),onPressEnter:B},N,{size:M,onCompositionStart:W,onCompositionEnd:V,addonAfter:z,suffix:s,onChange:I,disabled:u}))}),fce=dce;var hce=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,pce=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],mC={},lo;function mce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&mC[n])return mC[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),s=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=pce.map(function(c){return"".concat(c,":").concat(r.getPropertyValue(c))}).join(";"),l={sizingStyle:a,paddingSize:o,borderSize:s,boxSizing:i};return e&&n&&(mC[n]=l),l}function gce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;lo||(lo=document.createElement("textarea"),lo.setAttribute("tab-index","-1"),lo.setAttribute("aria-hidden","true"),lo.setAttribute("name","hiddenTextarea"),document.body.appendChild(lo)),t.getAttribute("wrap")?lo.setAttribute("wrap",t.getAttribute("wrap")):lo.removeAttribute("wrap");var i=mce(t,e),o=i.paddingSize,s=i.borderSize,a=i.boxSizing,l=i.sizingStyle;lo.setAttribute("style","".concat(l,";").concat(hce)),lo.value=t.value||t.placeholder||"";var c=void 0,u=void 0,d,f=lo.scrollHeight;if(a==="border-box"?f+=s:a==="content-box"&&(f-=o),n!==null||r!==null){lo.value=" ";var m=lo.scrollHeight-o;n!==null&&(c=m*n,a==="border-box"&&(c=c+o+s),f=Math.max(c,f)),r!==null&&(u=m*r,a==="border-box"&&(u=u+o+s),d=f>u?"":"hidden",f=Math.min(u,f))}var v={height:f,overflowY:d,resize:"none"};return c&&(v.minHeight=c),u&&(v.maxHeight=u),v}var vce=["prefixCls","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],gC=0,vC=1,yC=2,yce=C.forwardRef(function(t,e){var n=t,r=n.prefixCls,i=n.defaultValue,o=n.value,s=n.autoSize,a=n.onResize,l=n.className,c=n.style,u=n.disabled,d=n.onChange;n.onInternalAutoSize;var f=On(n,vce),m=Va(i,{value:o,postState:function(K){return K??""}}),v=ke(m,2),x=v[0],y=v[1],g=function(K){y(K.target.value),d==null||d(K)},S=C.useRef();C.useImperativeHandle(e,function(){return{textArea:S.current}});var _=C.useMemo(function(){return s&&$t(s)==="object"?[s.minRows,s.maxRows]:[]},[s]),w=ke(_,2),A=w[0],M=w[1],P=!!s,I=function(){try{if(document.activeElement===S.current){var K=S.current,te=K.selectionStart,ae=K.selectionEnd,de=K.scrollTop;S.current.setSelectionRange(te,ae),S.current.scrollTop=de}}catch{}},T=C.useState(yC),E=ke(T,2),B=E[0],F=E[1],L=C.useState(),z=ke(L,2),G=z[0],j=z[1],X=function(){F(gC)};Vn(function(){P&&X()},[o,A,M,P]),Vn(function(){if(B===gC)F(vC);else if(B===vC){var me=gce(S.current,!1,A,M);F(yC),j(me)}else I()},[B]);var N=C.useRef(),W=function(){Gn.cancel(N.current)},V=function(K){B===yC&&(a==null||a(K),s&&(W(),N.current=Gn(function(){X()})))};C.useEffect(function(){return W},[]);var ee=P?G:null,se=Ce(Ce({},c),ee);return(B===gC||B===vC)&&(se.overflowY="hidden",se.overflowX="hidden"),C.createElement(tc,{onResize:V,disabled:!(s||a)},C.createElement("textarea",Xt({},f,{ref:S,style:se,className:nt(r,l,xe({},"".concat(r,"-disabled"),u)),disabled:u,value:x,onChange:g})))}),xce=["defaultValue","value","onFocus","onBlur","onChange","allowClear","maxLength","onCompositionStart","onCompositionEnd","suffix","prefixCls","showCount","count","className","style","disabled","hidden","classNames","styles","onResize","onClear","onPressEnter","readOnly","autoSize","onKeyDown"],Sce=tt.forwardRef(function(t,e){var n,r=t.defaultValue,i=t.value,o=t.onFocus,s=t.onBlur,a=t.onChange,l=t.allowClear,c=t.maxLength,u=t.onCompositionStart,d=t.onCompositionEnd,f=t.suffix,m=t.prefixCls,v=m===void 0?"rc-textarea":m,x=t.showCount,y=t.count,g=t.className,S=t.style,_=t.disabled,w=t.hidden,A=t.classNames,M=t.styles,P=t.onResize,I=t.onClear,T=t.onPressEnter,E=t.readOnly,B=t.autoSize,F=t.onKeyDown,L=On(t,xce),z=Va(r,{value:i,defaultValue:r}),G=ke(z,2),j=G[0],X=G[1],N=j==null?"":String(j),W=tt.useState(!1),V=ke(W,2),ee=V[0],se=V[1],me=tt.useRef(!1),K=tt.useState(null),te=ke(K,2),ae=te[0],de=te[1],_e=C.useRef(null),Re=C.useRef(null),Te=function(){var Ze;return(Ze=Re.current)===null||Ze===void 0?void 0:Ze.textArea},Y=function(){Te().focus()};C.useImperativeHandle(e,function(){var je;return{resizableTextArea:Re.current,focus:Y,blur:function(){Te().blur()},nativeElement:((je=_e.current)===null||je===void 0?void 0:je.nativeElement)||Te()}}),C.useEffect(function(){se(function(je){return!_&&je})},[_]);var Q=tt.useState(null),ie=ke(Q,2),ye=ie[0],fe=ie[1];tt.useEffect(function(){if(ye){var je;(je=Te()).setSelectionRange.apply(je,pt(ye))}},[ye]);var pe=_5(y,x),$=(n=pe.max)!==null&&n!==void 0?n:c,U=Number($)>0,le=pe.strategy(N),be=!!$&&le>$,we=function(Ze,ft){var he=ft;!me.current&&pe.exceedFormatter&&pe.max&&pe.strategy(ft)>pe.max&&(he=pe.exceedFormatter(ft,{max:pe.max}),ft!==he&&fe([Te().selectionStart||0,Te().selectionEnd||0])),X(he),gx(Ze.currentTarget,Ze,a,he)},Oe=function(Ze){me.current=!0,u==null||u(Ze)},De=function(Ze){me.current=!1,we(Ze,Ze.currentTarget.value),d==null||d(Ze)},ge=function(Ze){we(Ze,Ze.target.value)},Fe=function(Ze){Ze.key==="Enter"&&T&&T(Ze),F==null||F(Ze)},Xe=function(Ze){se(!0),o==null||o(Ze)},Ne=function(Ze){se(!1),s==null||s(Ze)},He=function(Ze){X(""),Y(),gx(Te(),Ze,a)},Ye=f,Ke;pe.show&&(pe.showFormatter?Ke=pe.showFormatter({value:N,count:le,maxLength:$}):Ke="".concat(le).concat(U?" / ".concat($):""),Ye=tt.createElement(tt.Fragment,null,Ye,tt.createElement("span",{className:nt("".concat(v,"-data-count"),A==null?void 0:A.count),style:M==null?void 0:M.count},Ke)));var We=function(Ze){var ft;P==null||P(Ze),(ft=Te())!==null&&ft!==void 0&&ft.style.height&&de(!0)},ot=!B&&!x&&!l;return tt.createElement(S5,{ref:_e,value:N,allowClear:l,handleReset:He,suffix:Ye,prefixCls:v,classNames:Ce(Ce({},A),{},{affixWrapper:nt(A==null?void 0:A.affixWrapper,xe(xe({},"".concat(v,"-show-count"),x),"".concat(v,"-textarea-allow-clear"),l))}),disabled:_,focused:ee,className:nt(g,be&&"".concat(v,"-out-of-range")),style:Ce(Ce({},S),ae&&!ot?{height:"auto"}:{}),dataAttrs:{affixWrapper:{"data-count":typeof Ke=="string"?Ke:void 0}},hidden:w,readOnly:E,onClear:I},tt.createElement(yce,Xt({},L,{autoSize:B,maxLength:c,onKeyDown:Fe,onChange:ge,onFocus:Xe,onBlur:Ne,onCompositionStart:Oe,onCompositionEnd:De,className:nt(A==null?void 0:A.textarea),style:Ce(Ce({},M==null?void 0:M.textarea),{},{resize:S==null?void 0:S.resize}),disabled:_,prefixCls:v,onResize:We,ref:Re,readOnly:E})))});const _ce=t=>{const{componentCls:e,paddingLG:n}=t,r=`${e}-textarea`;return{[`textarea${e}`]:{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}`,resize:"vertical",[`&${e}-mouse-active`]:{transition:`all ${t.motionDurationSlow}, height 0s, width 0s`}},[`${e}-textarea-affix-wrapper-resize-dirty`]:{width:"auto"},[r]:{position:"relative","&-show-count":{[`${e}-data-count`]:{position:"absolute",bottom:t.calc(t.fontSize).mul(t.lineHeight).mul(-1).equal(),insetInlineEnd:0,color:t.colorTextDescription,whiteSpace:"nowrap",pointerEvents:"none"}},[`
        &-allow-clear > ${e},
        &-affix-wrapper${r}-has-feedback ${e}
      `]:{paddingInlineEnd:n},[`&-affix-wrapper${e}-affix-wrapper`]:{padding:0,[`> textarea${e}`]:{fontSize:"inherit",border:"none",outline:"none",background:"transparent",minHeight:t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),"&:focus":{boxShadow:"none !important"}},[`${e}-suffix`]:{margin:0,"> *:not(:last-child)":{marginInline:0},[`${e}-clear-icon`]:{position:"absolute",insetInlineEnd:t.paddingInline,insetBlockStart:t.paddingXS},[`${r}-suffix`]:{position:"absolute",top:0,insetInlineEnd:t.paddingInline,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto",pointerEvents:"none"}}},[`&-affix-wrapper${e}-affix-wrapper-rtl`]:{[`${e}-suffix`]:{[`${e}-data-count`]:{direction:"ltr",insetInlineStart:0}}},[`&-affix-wrapper${e}-affix-wrapper-sm`]:{[`${e}-suffix`]:{[`${e}-clear-icon`]:{insetInlineEnd:t.paddingInlineSM}}}}}},Cce=Ao(["Input","TextArea"],t=>{const e=or(t,wS(t));return[_ce(e)]},ES,{resetFont:!1});var bce=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const wce=C.forwardRef((t,e)=>{var n;const{prefixCls:r,bordered:i=!0,size:o,disabled:s,status:a,allowClear:l,classNames:c,rootClassName:u,className:d,style:f,styles:m,variant:v,showCount:x,onMouseDown:y,onResize:g}=t,S=bce(t,["prefixCls","bordered","size","disabled","status","allowClear","classNames","rootClassName","className","style","styles","variant","showCount","onMouseDown","onResize"]),{getPrefixCls:_,direction:w,allowClear:A,autoComplete:M,className:P,style:I,classNames:T,styles:E}=nc("textArea"),B=C.useContext(rc),F=s??B,{status:L,hasFeedback:z,feedbackIcon:G}=C.useContext(Co),j=bS(L,a),X=C.useRef(null);C.useImperativeHandle(e,()=>{var pe;return{resizableTextArea:(pe=X.current)===null||pe===void 0?void 0:pe.resizableTextArea,focus:$=>{var U,le;x5((le=(U=X.current)===null||U===void 0?void 0:U.resizableTextArea)===null||le===void 0?void 0:le.textArea,$)},blur:()=>{var $;return($=X.current)===null||$===void 0?void 0:$.blur()}}});const N=_("input",r),W=ic(N),[V,ee,se]=m5(N,u),[me]=Cce(N,W),{compactSize:K,compactItemClassnames:te}=ag(N,w),ae=Pu(pe=>{var $;return($=o??K)!==null&&$!==void 0?$:pe}),[de,_e]=WT("textArea",v,i),Re=C5(l??A),[Te,Y]=C.useState(!1),[Q,ie]=C.useState(!1),ye=pe=>{Y(!0),y==null||y(pe);const $=()=>{Y(!1),document.removeEventListener("mouseup",$)};document.addEventListener("mouseup",$)},fe=pe=>{var $,U;if(g==null||g(pe),Te&&typeof getComputedStyle=="function"){const le=(U=($=X.current)===null||$===void 0?void 0:$.nativeElement)===null||U===void 0?void 0:U.querySelector("textarea");le&&getComputedStyle(le).resize==="both"&&ie(!0)}};return V(me(C.createElement(Sce,Object.assign({autoComplete:M},S,{style:Object.assign(Object.assign({},I),f),styles:Object.assign(Object.assign({},E),m),disabled:F,allowClear:Re,className:nt(se,W,d,u,te,P,Q&&`${N}-textarea-affix-wrapper-resize-dirty`),classNames:Object.assign(Object.assign(Object.assign({},c),T),{textarea:nt({[`${N}-sm`]:ae==="small",[`${N}-lg`]:ae==="large"},ee,c==null?void 0:c.textarea,T.textarea,Te&&`${N}-mouse-active`),variant:nt({[`${N}-${de}`]:_e},mx(N,j)),affixWrapper:nt(`${N}-textarea-affix-wrapper`,{[`${N}-affix-wrapper-rtl`]:w==="rtl",[`${N}-affix-wrapper-sm`]:ae==="small",[`${N}-affix-wrapper-lg`]:ae==="large",[`${N}-textarea-show-count`]:x||((n=t.count)===null||n===void 0?void 0:n.show)},ee)}),prefixCls:N,suffix:z&&C.createElement("span",{className:`${N}-textarea-suffix`},G),showCount:x,ref:X,onResize:fe,onMouseDown:ye}))))}),Ece=wce,nh=MS;nh.Group=$le;nh.Search=fce;nh.TextArea=Ece;nh.Password=cce;nh.OTP=Zle;const SD=nh;let $o=null,qc=t=>t(),Em=[],Mm={};function _D(){const{getContainer:t,duration:e,rtl:n,maxCount:r,top:i}=Mm,o=(t==null?void 0:t())||document.body;return{getContainer:()=>o,duration:e,rtl:n,maxCount:r,top:i}}const Mce=tt.forwardRef((t,e)=>{const{messageConfig:n,sync:r}=t,{getPrefixCls:i}=C.useContext(Wn),o=Mm.prefixCls||i("message"),s=C.useContext(Dre),[a,l]=lH(Object.assign(Object.assign(Object.assign({},n),{prefixCls:o}),s.message));return tt.useImperativeHandle(e,()=>{const c=Object.assign({},a);return Object.keys(c).forEach(u=>{c[u]=function(){return r(),a[u].apply(a,arguments)}}),{instance:c,sync:r}}),l}),Ace=tt.forwardRef((t,e)=>{const[n,r]=tt.useState(_D),i=()=>{r(_D)};tt.useEffect(i,[]);const o=dZ(),s=o.getRootPrefixCls(),a=o.getIconPrefixCls(),l=o.getTheme(),c=tt.createElement(Mce,{ref:e,sync:i,messageConfig:n});return tt.createElement(AT,{prefixCls:s,iconPrefixCls:a,theme:l},o.holderRender?o.holderRender(c):c)});function AS(){if(!$o){const t=document.createDocumentFragment(),e={fragment:t};$o=e,qc(()=>{cH()(tt.createElement(Ace,{ref:r=>{const{instance:i,sync:o}=r||{};Promise.resolve().then(()=>{!e.instance&&i&&(e.instance=i,e.sync=o,AS())})}}),t)});return}$o.instance&&(Em.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{qc(()=>{const r=$o.instance.open(Object.assign(Object.assign({},Mm),t.config));r==null||r.then(t.resolve),t.setCloseFn(r)});break}case"destroy":qc(()=>{$o==null||$o.instance.destroy(t.key)});break;default:qc(()=>{var r;const i=(r=$o.instance)[e].apply(r,pt(t.args));i==null||i.then(t.resolve),t.setCloseFn(i)})}}),Em=[])}function Tce(t){Mm=Object.assign(Object.assign({},Mm),t),qc(()=>{var e;(e=$o==null?void 0:$o.sync)===null||e===void 0||e.call($o)})}function Rce(t){const e=RT(n=>{let r;const i={type:"open",config:t,resolve:n,setCloseFn:o=>{r=o}};return Em.push(i),()=>{r?qc(()=>{r()}):i.skipped=!0}});return AS(),e}function Pce(t,e){const n=RT(r=>{let i;const o={type:t,args:e,resolve:r,setCloseFn:s=>{i=s}};return Em.push(o),()=>{i?qc(()=>{i()}):o.skipped=!0}});return AS(),n}const Ice=t=>{Em.push({type:"destroy",key:t}),AS()},Bce=["success","info","warning","error","loading"],Oce={open:Rce,destroy:Ice,config:Tce,useMessage:Iee,_InternalPanelDoNotUseOrYouWillBeFired:bee},L5=Oce;Bce.forEach(t=>{L5[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Pce(t,n)}});const Lce=L5;function Dce(){return Ve.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"black",xmlns:"http://www.w3.org/2000/svg",children:Ve.jsx("path",{d:"M9.03865 0.207709L5.5 3.75022L1.96135 0.207709C1.68703 -0.0669039 1.26185 -0.0669039 0.987531 0.207709L0.205736 0.990356C-0.0685786 1.26497 -0.0685786 1.69062 0.205736 1.96523L3.74439 5.50774L0.219451 9.03652C-0.0548628 9.31113 -0.0548628 9.73678 0.219451 10.0114L1.00125 10.794C1.27556 11.0687 1.70075 11.0687 1.97506 10.794L5.5 7.2378L9.03865 10.7803C9.31297 11.0549 9.73815 11.0549 10.0125 10.7803L10.7943 9.99766C11.0686 9.72305 11.0686 9.2974 10.7943 9.02279L7.2419 5.49401L10.7805 1.9515C11.0549 1.67689 11.0549 1.25124 10.7805 0.976625L9.99875 0.193978C9.73816 -0.0669039 9.29925 -0.0669039 9.03865 0.207709Z"})})}function D5({show:t,onClose:e}){const n=async()=>{e(),Lce.success("Форма успешно отправлена")};return Ve.jsx(kW,{children:t?Ve.jsx(dm.div,{className:Pi.overlay,onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Ve.jsx(dm.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},onClick:r=>r.stopPropagation(),children:Ve.jsxs("div",{className:Pi.root,children:[Ve.jsx("button",{className:Pi.closeButton,onClick:e,children:Ve.jsx(Dce,{})}),Ve.jsxs("div",{className:Pi.form,children:[Ve.jsx("p",{className:Pi.headerCaption,children:"Пожалуйста, заполните эту форму, чтобы помочь нам улучшить нашу продукцию. Ваши отзывы и предложения помогут нам создать лучшую экипировку для ваших нужд."}),Ve.jsxs(Gh,{initialValues:{rating:"30",type:"backpacks"},onFinish:n,className:Pi.form,scrollToFirstError:!0,layout:"vertical",autoComplete:"off",children:[Ve.jsx(Gh.Item,{name:"name",className:Pi.formItem,rules:[{required:!0,message:"Введите имя"}],children:Ve.jsx(SD,{className:Pi.input,placeholder:"Имя",size:"large"})}),Ve.jsx(Gh.Item,{name:"email",className:Pi.formItem,rules:[{required:!0,message:"Введите email"}],children:Ve.jsx(SD,{className:Pi.input,placeholder:"Email",size:"large"})}),Ve.jsx("p",{className:Pi.questionCaption,children:"Какой тип продукции вы используете?"}),Ve.jsx(Gh.Item,{name:"type",className:Pi.formItem,children:Ve.jsx(hse,{style:{width:"200px"},options:[{value:"backpacks",label:"Рюкзаки"},{value:"boots",label:"Обувь"},{value:"helmets",label:"Шлемы"}]})}),Ve.jsx("p",{className:Pi.questionCaption,children:"Оцените широту ассортимента:"}),Ve.jsx(Gh.Item,{name:"rating",className:Pi.formItem_slider,children:Ve.jsx(Gae,{})}),Ve.jsx(fT,{className:Pi.submitButton,name:"Отправить"})]})]})]})},"box")}):null})}function Fce(){const[t,e]=C.useState(!1),n=()=>{e(!t)},r=()=>{e(!1)};return Ve.jsxs(Ve.Fragment,{children:[Ve.jsxs("div",{className:Ov.root,children:[Ve.jsxs("div",{className:Ov.wrapper,children:[Ve.jsx("h1",{children:"Новый облик силы и надежности"}),Ve.jsx(fT,{onClick:n,className:Ov.button,name:"Узнать больше"})]}),Ve.jsx("img",{className:Ov.image,src:ZU,alt:"Изображение шлема"})]}),Ve.jsx(D5,{show:t,onClose:r})]})}const Nce="_root_24bu9_3",Uce="_wrapper_24bu9_25",kce="_canvasContainer_24bu9_36",zce="_textContainer_24bu9_46",Hce="_firstCaption_24bu9_56",Vce="_secondCaption_24bu9_62",sd={root:Nce,wrapper:Uce,canvasContainer:kce,textContainer:zce,firstCaption:Hce,secondCaption:Vce};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const rh="163",Uc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},kc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},F5=0,kE=1,N5=2,Gce=3,U5=0,TS=1,Dp=2,xs=3,ia=0,Ni=1,Ko=2,Zs=0,uu=1,zE=2,HE=3,VE=4,k5=5,bl=100,z5=101,H5=102,V5=103,G5=104,$5=200,W5=201,j5=202,X5=203,yx=204,xx=205,K5=206,J5=207,Y5=208,q5=209,Q5=210,Z5=211,e6=212,t6=213,n6=214,r6=0,i6=1,o6=2,Am=3,s6=4,a6=5,l6=6,c6=7,dg=0,u6=1,d6=2,ea=0,f6=1,h6=2,p6=3,JT=4,m6=5,g6=6,v6=7,GE="attached",y6="detached",Gl=300,oa=301,$l=302,Bf=303,Tm=304,ih=306,Wl=1e3,Mr=1001,Of=1002,Ur=1003,RS=1004,$ce=1004,Qc=1005,Wce=1005,In=1006,ff=1007,jce=1007,Qo=1008,$E=1008,xo=1009,YT=1010,qT=1011,QT=1012,PS=1013,jl=1014,Ar=1015,ii=1016,ZT=1017,eR=1018,oh=1020,x6=35902,S6=1021,_6=1022,kr=1023,C6=1024,b6=1025,du=1026,Lf=1027,IS=1028,tR=1029,w6=1030,nR=1031,rR=1033,_y=33776,Cy=33777,by=33778,wy=33779,WE=35840,jE=35841,XE=35842,KE=35843,iR=36196,JE=37492,YE=37496,qE=37808,QE=37809,ZE=37810,eM=37811,tM=37812,nM=37813,rM=37814,iM=37815,oM=37816,sM=37817,aM=37818,lM=37819,cM=37820,uM=37821,Ey=36492,dM=36494,fM=36495,E6=36283,hM=36284,pM=36285,mM=36286,M6=2200,A6=2201,T6=2202,Df=2300,bu=2301,My=2302,Zc=2400,eu=2401,Rm=2402,BS=2500,oR=2501,R6=0,sR=1,Sx=2,P6=3200,I6=3201,oc=0,B6=1,Ma="",po="srgb",is="srgb-linear",OS="display-p3",fg="display-p3-linear",Pm="linear",Kn="srgb",Im="rec709",Bm="p3",Xce=0,zc=7680,Kce=7681,Jce=7682,Yce=7683,qce=34055,Qce=34056,Zce=5386,eue=512,tue=513,nue=514,rue=515,iue=516,oue=517,sue=518,gM=519,O6=512,L6=513,D6=514,aR=515,F6=516,N6=517,U6=518,k6=519,Om=35044,aue=35048,lue=35040,cue=35045,uue=35049,due=35041,fue=35046,hue=35050,pue=35042,mue="100",vM="300 es",Xs=2e3,Lm=2001;class la{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}const yi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let CD=1234567;const fu=Math.PI/180,Ff=180/Math.PI;function So(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(yi[t&255]+yi[t>>8&255]+yi[t>>16&255]+yi[t>>24&255]+"-"+yi[e&255]+yi[e>>8&255]+"-"+yi[e>>16&15|64]+yi[e>>24&255]+"-"+yi[n&63|128]+yi[n>>8&255]+"-"+yi[n>>16&255]+yi[n>>24&255]+yi[r&255]+yi[r>>8&255]+yi[r>>16&255]+yi[r>>24&255]).toLowerCase()}function Sr(t,e,n){return Math.max(e,Math.min(n,t))}function lR(t,e){return(t%e+e)%e}function gue(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function vue(t,e,n){return t!==e?(n-t)/(e-t):0}function Fp(t,e,n){return(1-n)*t+n*e}function yue(t,e,n,r){return Fp(t,e,1-Math.exp(-n*r))}function xue(t,e=1){return e-Math.abs(lR(t,e*2)-e)}function Sue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function _ue(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Cue(t,e){return t+Math.floor(Math.random()*(e-t+1))}function bue(t,e){return t+Math.random()*(e-t)}function wue(t){return t*(.5-Math.random())}function Eue(t){t!==void 0&&(CD=t);let e=CD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Mue(t){return t*fu}function Aue(t){return t*Ff}function Tue(t){return(t&t-1)===0&&t!==0}function Rue(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Pue(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Iue(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((e+r)/2),u=s((e+r)/2),d=o((e-r)/2),f=s((e-r)/2),m=o((r-e)/2),v=s((r-e)/2);switch(i){case"XYX":t.set(a*u,l*d,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*v,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*v,a*c);break;case"ZYZ":t.set(l*v,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Li(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function cn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const z6={DEG2RAD:fu,RAD2DEG:Ff,generateUUID:So,clamp:Sr,euclideanModulo:lR,mapLinear:gue,inverseLerp:vue,lerp:Fp,damp:yue,pingpong:xue,smoothstep:Sue,smootherstep:_ue,randInt:Cue,randFloat:bue,randFloatSpread:wue,seededRandom:Eue,degToRad:Mue,radToDeg:Aue,isPowerOfTwo:Tue,ceilPowerOfTwo:Rue,floorPowerOfTwo:Pue,setQuaternionFromProperEuler:Iue,normalize:cn,denormalize:Li};class Qe{constructor(e=0,n=0){Qe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ln{constructor(e,n,r,i,o,s,a,l,c){ln.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c)}set(e,n,r,i,o,s,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=o,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],m=r[5],v=r[8],x=i[0],y=i[3],g=i[6],S=i[1],_=i[4],w=i[7],A=i[2],M=i[5],P=i[8];return o[0]=s*x+a*S+l*A,o[3]=s*y+a*_+l*M,o[6]=s*g+a*w+l*P,o[1]=c*x+u*S+d*A,o[4]=c*y+u*_+d*M,o[7]=c*g+u*w+d*P,o[2]=f*x+m*S+v*A,o[5]=f*y+m*_+v*M,o[8]=f*g+m*w+v*P,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*s*u-n*a*c-r*o*u+r*a*l+i*o*c-i*s*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*s-a*c,f=a*l-u*o,m=c*o-s*l,v=n*d+r*f+i*m;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*s)*x,e[3]=f*x,e[4]=(u*n-i*l)*x,e[5]=(i*o-a*n)*x,e[6]=m*x,e[7]=(r*l-c*n)*x,e[8]=(s*n-r*o)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const l=Math.cos(o),c=Math.sin(o);return this.set(r*l,r*c,-r*(l*s+c*a)+s+e,-i*c,i*l,-i*(-c*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(xC.makeScale(e,n)),this}rotate(e){return this.premultiply(xC.makeRotation(-e)),this}translate(e,n){return this.premultiply(xC.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const xC=new ln;function H6(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Bue={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Qd(t,e){return new Bue[t](e)}function Dm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function V6(){const t=Dm("canvas");return t.style.display="block",t}const bD={};function G6(t){t in bD||(bD[t]=!0,console.warn(t))}const wD=new ln().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ED=new ln().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Jv={[is]:{transfer:Pm,primaries:Im,toReference:t=>t,fromReference:t=>t},[po]:{transfer:Kn,primaries:Im,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[fg]:{transfer:Pm,primaries:Bm,toReference:t=>t.applyMatrix3(ED),fromReference:t=>t.applyMatrix3(wD)},[OS]:{transfer:Kn,primaries:Bm,toReference:t=>t.convertSRGBToLinear().applyMatrix3(ED),fromReference:t=>t.applyMatrix3(wD).convertLinearToSRGB()}},Oue=new Set([is,fg]),Fn={enabled:!0,_workingColorSpace:is,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Oue.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Jv[e].toReference,i=Jv[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Jv[t].primaries},getTransfer:function(t){return t===Ma?Pm:Jv[t].transfer}};function hf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function SC(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let ad;class $6{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ad===void 0&&(ad=Dm("canvas")),ad.width=e.width,ad.height=e.height;const r=ad.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ad}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Dm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=hf(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(hf(n[r]/255)*255):n[r]=hf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Lue=0;class tu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Lue++}),this.uuid=So(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(_C(i[s].image)):o.push(_C(i[s]))}else o=_C(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function _C(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?$6.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Due=0;class Bn extends la{constructor(e=Bn.DEFAULT_IMAGE,n=Bn.DEFAULT_MAPPING,r=Mr,i=Mr,o=In,s=Qo,a=kr,l=xo,c=Bn.DEFAULT_ANISOTROPY,u=Ma){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Due++}),this.uuid=So(),this.name="",this.source=new tu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Qe(0,0),this.repeat=new Qe(1,1),this.center=new Qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gl)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Wl:e.x=e.x-Math.floor(e.x);break;case Mr:e.x=e.x<0?0:1;break;case Of:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Wl:e.y=e.y-Math.floor(e.y);break;case Mr:e.y=e.y<0?0:1;break;case Of:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Bn.DEFAULT_IMAGE=null;Bn.DEFAULT_MAPPING=Gl;Bn.DEFAULT_ANISOTROPY=1;class Nn{constructor(e=0,n=0,r=0,i=1){Nn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],m=l[5],v=l[9],x=l[2],y=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-x)<.01&&Math.abs(v-y)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+x)<.1&&Math.abs(v+y)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,w=(m+1)/2,A=(g+1)/2,M=(u+f)/4,P=(d+x)/4,I=(v+y)/4;return _>w&&_>A?_<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(_),i=M/r,o=P/r):w>A?w<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(w),r=M/i,o=I/i):A<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(A),r=P/o,i=I/o),this.set(r,i,o,n),this}let S=Math.sqrt((y-v)*(y-v)+(d-x)*(d-x)+(f-u)*(f-u));return Math.abs(S)<.001&&(S=1),this.x=(y-v)/S,this.y=(d-x)/S,this.z=(f-u)/S,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class W6 extends la{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Nn(0,0,e,n),this.scissorTest=!1,this.viewport=new Nn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:In,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const o=new Bn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new tu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bo extends W6{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class LS extends Bn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ur,this.minFilter=Ur,this.wrapR=Mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Fue extends bo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new LS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class cR extends Bn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ur,this.minFilter=Ur,this.wrapR=Mr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nue extends bo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new cR(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class qr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=o[s+0],m=o[s+1],v=o[s+2],x=o[s+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=f,e[n+1]=m,e[n+2]=v,e[n+3]=x;return}if(d!==x||l!==f||c!==m||u!==v){let y=1-a;const g=l*f+c*m+u*v+d*x,S=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const A=Math.sqrt(_),M=Math.atan2(A,g*S);y=Math.sin(y*M)/A,a=Math.sin(a*M)/A}const w=a*S;if(l=l*y+f*w,c=c*y+m*w,u=u*y+v*w,d=d*y+x*w,y===1-a){const A=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=A,c*=A,u*=A,d*=A}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=o[s],f=o[s+1],m=o[s+2],v=o[s+3];return e[n]=a*v+u*d+l*m-c*f,e[n+1]=l*v+u*f+c*d-a*m,e[n+2]=c*v+u*m+a*f-l*d,e[n+3]=u*v-a*d-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),d=a(o/2),f=l(r/2),m=l(i/2),v=l(o/2);switch(s){case"XYZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"YXZ":this._x=f*u*d+c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"ZXY":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d-f*m*v;break;case"ZYX":this._x=f*u*d-c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d+f*m*v;break;case"YZX":this._x=f*u*d+c*m*v,this._y=c*m*d+f*u*v,this._z=c*u*v-f*m*d,this._w=c*u*d-f*m*v;break;case"XZY":this._x=f*u*d-c*m*v,this._y=c*m*d-f*u*v,this._z=c*u*v+f*m*d,this._w=c*u*d+f*m*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+a+d;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-l)*m,this._y=(o-c)*m,this._z=(s-i)*m}else if(r>a&&r>d){const m=2*Math.sqrt(1+r-a-d);this._w=(u-l)/m,this._x=.25*m,this._y=(i+s)/m,this._z=(o+c)/m}else if(a>d){const m=2*Math.sqrt(1+a-r-d);this._w=(o-c)/m,this._x=(i+s)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+d-r-a);this._w=(s-i)/m,this._x=(o+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+s*a+i*c-o*l,this._y=i*u+s*l+o*a-r*c,this._z=o*u+s*c+r*l-i*a,this._w=s*u-r*a-i*l-o*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*s+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*o+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=o*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,n=0,r=0){re.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(MD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(MD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,l=e.w,c=2*(s*i-a*r),u=2*(a*n-o*i),d=2*(o*r-s*n);return this.x=n+l*c+s*d-a*u,this.y=r+l*u+a*c-o*d,this.z=i+l*d+o*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=i*l-o*a,this.y=o*s-r*l,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return CC.copy(this).projectOnVector(e),this.sub(CC)}reflect(e){return this.sub(CC.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const CC=new re,MD=new qr;class Ei{constructor(e=new re(1/0,1/0,1/0),n=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(fs.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(fs.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=fs.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,fs):fs.fromBufferAttribute(o,s),fs.applyMatrix4(e.matrixWorld),this.expandByPoint(fs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Yv.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Yv.copy(r.boundingBox)),Yv.applyMatrix4(e.matrixWorld),this.union(Yv)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,fs),fs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter($h),qv.subVectors(this.max,$h),ld.subVectors(e.a,$h),cd.subVectors(e.b,$h),ud.subVectors(e.c,$h),il.subVectors(cd,ld),ol.subVectors(ud,cd),_c.subVectors(ld,ud);let n=[0,-il.z,il.y,0,-ol.z,ol.y,0,-_c.z,_c.y,il.z,0,-il.x,ol.z,0,-ol.x,_c.z,0,-_c.x,-il.y,il.x,0,-ol.y,ol.x,0,-_c.y,_c.x,0];return!bC(n,ld,cd,ud,qv)||(n=[1,0,0,0,1,0,0,0,1],!bC(n,ld,cd,ud,qv))?!1:(Qv.crossVectors(il,ol),n=[Qv.x,Qv.y,Qv.z],bC(n,ld,cd,ud,qv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(fs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(va[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),va[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),va[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),va[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),va[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),va[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),va[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),va[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(va),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const va=[new re,new re,new re,new re,new re,new re,new re,new re],fs=new re,Yv=new Ei,ld=new re,cd=new re,ud=new re,il=new re,ol=new re,_c=new re,$h=new re,qv=new re,Qv=new re,Cc=new re;function bC(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){Cc.fromArray(t,o);const a=i.x*Math.abs(Cc.x)+i.y*Math.abs(Cc.y)+i.z*Math.abs(Cc.z),l=e.dot(Cc),c=n.dot(Cc),u=r.dot(Cc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Uue=new Ei,Wh=new re,wC=new re;class si{constructor(e=new re,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Uue.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Wh.subVectors(e,this.center);const n=Wh.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Wh,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(wC.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Wh.copy(e.center).add(wC)),this.expandByPoint(Wh.copy(e.center).sub(wC))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ya=new re,EC=new re,Zv=new re,sl=new re,MC=new re,e0=new re,AC=new re;class Bu{constructor(e=new re,n=new re(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ya)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ya.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ya.copy(this.origin).addScaledVector(this.direction,n),ya.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){EC.copy(e).add(n).multiplyScalar(.5),Zv.copy(n).sub(e).normalize(),sl.copy(this.origin).sub(EC);const o=e.distanceTo(n)*.5,s=-this.direction.dot(Zv),a=sl.dot(this.direction),l=-sl.dot(Zv),c=sl.lengthSq(),u=Math.abs(1-s*s);let d,f,m,v;if(u>0)if(d=s*l-a,f=s*a-l,v=o*u,d>=0)if(f>=-v)if(f<=v){const x=1/u;d*=x,f*=x,m=d*(d+s*f+2*a)+f*(s*d+f+2*l)+c}else f=o,d=Math.max(0,-(s*f+a)),m=-d*d+f*(f+2*l)+c;else f=-o,d=Math.max(0,-(s*f+a)),m=-d*d+f*(f+2*l)+c;else f<=-v?(d=Math.max(0,-(-s*o+a)),f=d>0?-o:Math.min(Math.max(-o,-l),o),m=-d*d+f*(f+2*l)+c):f<=v?(d=0,f=Math.min(Math.max(-o,-l),o),m=f*(f+2*l)+c):(d=Math.max(0,-(s*o+a)),f=d>0?o:Math.min(Math.max(-o,-l),o),m=-d*d+f*(f+2*l)+c);else f=s>0?-o:o,d=Math.max(0,-(s*f+a)),m=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(EC).addScaledVector(Zv,f),m}intersectSphere(e,n){ya.subVectors(e.center,this.origin);const r=ya.dot(this.direction),i=ya.dot(ya)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,l=r+s;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(o=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(o=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),d>=0?(a=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(a=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ya)!==null}intersectTriangle(e,n,r,i,o){MC.subVectors(n,e),e0.subVectors(r,e),AC.crossVectors(MC,e0);let s=this.direction.dot(AC),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;sl.subVectors(this.origin,e);const l=a*this.direction.dot(e0.crossVectors(sl,e0));if(l<0)return null;const c=a*this.direction.dot(MC.cross(sl));if(c<0||l+c>s)return null;const u=-a*sl.dot(AC);return u<0?null:this.at(u/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Jt{constructor(e,n,r,i,o,s,a,l,c,u,d,f,m,v,x,y){Jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,l,c,u,d,f,m,v,x,y)}set(e,n,r,i,o,s,a,l,c,u,d,f,m,v,x,y){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=o,g[5]=s,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=m,g[7]=v,g[11]=x,g[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Jt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/dd.setFromMatrixColumn(e,0).length(),o=1/dd.setFromMatrixColumn(e,1).length(),s=1/dd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(o),d=Math.sin(o);if(e.order==="XYZ"){const f=s*u,m=s*d,v=a*u,x=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=m+v*c,n[5]=f-x*c,n[9]=-a*l,n[2]=x-f*c,n[6]=v+m*c,n[10]=s*l}else if(e.order==="YXZ"){const f=l*u,m=l*d,v=c*u,x=c*d;n[0]=f+x*a,n[4]=v*a-m,n[8]=s*c,n[1]=s*d,n[5]=s*u,n[9]=-a,n[2]=m*a-v,n[6]=x+f*a,n[10]=s*l}else if(e.order==="ZXY"){const f=l*u,m=l*d,v=c*u,x=c*d;n[0]=f-x*a,n[4]=-s*d,n[8]=v+m*a,n[1]=m+v*a,n[5]=s*u,n[9]=x-f*a,n[2]=-s*c,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const f=s*u,m=s*d,v=a*u,x=a*d;n[0]=l*u,n[4]=v*c-m,n[8]=f*c+x,n[1]=l*d,n[5]=x*c+f,n[9]=m*c-v,n[2]=-c,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const f=s*l,m=s*c,v=a*l,x=a*c;n[0]=l*u,n[4]=x-f*d,n[8]=v*d+m,n[1]=d,n[5]=s*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*d+v,n[10]=f-x*d}else if(e.order==="XZY"){const f=s*l,m=s*c,v=a*l,x=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+x,n[5]=s*u,n[9]=m*d-v,n[2]=v*d-m,n[6]=a*u,n[10]=x*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(kue,e,zue)}lookAt(e,n,r){const i=this.elements;return co.subVectors(e,n),co.lengthSq()===0&&(co.z=1),co.normalize(),al.crossVectors(r,co),al.lengthSq()===0&&(Math.abs(r.z)===1?co.x+=1e-4:co.z+=1e-4,co.normalize(),al.crossVectors(r,co)),al.normalize(),t0.crossVectors(co,al),i[0]=al.x,i[4]=t0.x,i[8]=co.x,i[1]=al.y,i[5]=t0.y,i[9]=co.y,i[2]=al.z,i[6]=t0.z,i[10]=co.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],m=r[13],v=r[2],x=r[6],y=r[10],g=r[14],S=r[3],_=r[7],w=r[11],A=r[15],M=i[0],P=i[4],I=i[8],T=i[12],E=i[1],B=i[5],F=i[9],L=i[13],z=i[2],G=i[6],j=i[10],X=i[14],N=i[3],W=i[7],V=i[11],ee=i[15];return o[0]=s*M+a*E+l*z+c*N,o[4]=s*P+a*B+l*G+c*W,o[8]=s*I+a*F+l*j+c*V,o[12]=s*T+a*L+l*X+c*ee,o[1]=u*M+d*E+f*z+m*N,o[5]=u*P+d*B+f*G+m*W,o[9]=u*I+d*F+f*j+m*V,o[13]=u*T+d*L+f*X+m*ee,o[2]=v*M+x*E+y*z+g*N,o[6]=v*P+x*B+y*G+g*W,o[10]=v*I+x*F+y*j+g*V,o[14]=v*T+x*L+y*X+g*ee,o[3]=S*M+_*E+w*z+A*N,o[7]=S*P+_*B+w*G+A*W,o[11]=S*I+_*F+w*j+A*V,o[15]=S*T+_*L+w*X+A*ee,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],m=e[14],v=e[3],x=e[7],y=e[11],g=e[15];return v*(+o*l*d-i*c*d-o*a*f+r*c*f+i*a*m-r*l*m)+x*(+n*l*m-n*c*f+o*s*f-i*s*m+i*c*u-o*l*u)+y*(+n*c*d-n*a*m-o*s*d+r*s*m+o*a*u-r*c*u)+g*(-i*a*u-n*l*d+n*a*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],m=e[11],v=e[12],x=e[13],y=e[14],g=e[15],S=d*y*c-x*f*c+x*l*m-a*y*m-d*l*g+a*f*g,_=v*f*c-u*y*c-v*l*m+s*y*m+u*l*g-s*f*g,w=u*x*c-v*d*c+v*a*m-s*x*m-u*a*g+s*d*g,A=v*d*l-u*x*l-v*a*f+s*x*f+u*a*y-s*d*y,M=n*S+r*_+i*w+o*A;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const P=1/M;return e[0]=S*P,e[1]=(x*f*o-d*y*o-x*i*m+r*y*m+d*i*g-r*f*g)*P,e[2]=(a*y*o-x*l*o+x*i*c-r*y*c-a*i*g+r*l*g)*P,e[3]=(d*l*o-a*f*o-d*i*c+r*f*c+a*i*m-r*l*m)*P,e[4]=_*P,e[5]=(u*y*o-v*f*o+v*i*m-n*y*m-u*i*g+n*f*g)*P,e[6]=(v*l*o-s*y*o-v*i*c+n*y*c+s*i*g-n*l*g)*P,e[7]=(s*f*o-u*l*o+u*i*c-n*f*c-s*i*m+n*l*m)*P,e[8]=w*P,e[9]=(v*d*o-u*x*o-v*r*m+n*x*m+u*r*g-n*d*g)*P,e[10]=(s*x*o-v*a*o+v*r*c-n*x*c-s*r*g+n*a*g)*P,e[11]=(u*a*o-s*d*o-u*r*c+n*d*c+s*r*m-n*a*m)*P,e[12]=A*P,e[13]=(u*x*i-v*d*i+v*r*f-n*x*f-u*r*y+n*d*y)*P,e[14]=(v*a*i-s*x*i-v*r*l+n*x*l+s*r*y-n*a*y)*P,e[15]=(s*d*i-u*a*i+u*r*l-n*d*l-s*r*f+n*a*f)*P,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,l=e.z,c=o*s,u=o*a;return this.set(c*s+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*s,0,c*l-i*a,u*l+i*s,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,c=o+o,u=s+s,d=a+a,f=o*c,m=o*u,v=o*d,x=s*u,y=s*d,g=a*d,S=l*c,_=l*u,w=l*d,A=r.x,M=r.y,P=r.z;return i[0]=(1-(x+g))*A,i[1]=(m+w)*A,i[2]=(v-_)*A,i[3]=0,i[4]=(m-w)*M,i[5]=(1-(f+g))*M,i[6]=(y+S)*M,i[7]=0,i[8]=(v+_)*P,i[9]=(y-S)*P,i[10]=(1-(f+x))*P,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=dd.set(i[0],i[1],i[2]).length();const s=dd.set(i[4],i[5],i[6]).length(),a=dd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],hs.copy(this);const c=1/o,u=1/s,d=1/a;return hs.elements[0]*=c,hs.elements[1]*=c,hs.elements[2]*=c,hs.elements[4]*=u,hs.elements[5]*=u,hs.elements[6]*=u,hs.elements[8]*=d,hs.elements[9]*=d,hs.elements[10]*=d,n.setFromRotationMatrix(hs),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=Xs){const l=this.elements,c=2*o/(n-e),u=2*o/(r-i),d=(n+e)/(n-e),f=(r+i)/(r-i);let m,v;if(a===Xs)m=-(s+o)/(s-o),v=-2*s*o/(s-o);else if(a===Lm)m=-s/(s-o),v=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=Xs){const l=this.elements,c=1/(n-e),u=1/(r-i),d=1/(s-o),f=(n+e)*c,m=(r+i)*u;let v,x;if(a===Xs)v=(s+o)*d,x=-2*d;else if(a===Lm)v=o*d,x=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const dd=new re,hs=new Jt,kue=new re(0,0,0),zue=new re(1,1,1),al=new re,t0=new re,co=new re,AD=new Jt,TD=new qr;class wo{constructor(e=0,n=0,r=0,i=wo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Sr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Sr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,o),this._z=0);break;case"ZXY":this._x=Math.asin(Sr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,m),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Sr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Sr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,o)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Sr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return AD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(AD,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return TD.setFromEuler(this),this.setFromQuaternion(TD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}wo.DEFAULT_ORDER="XYZ";class hu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Hue=0;const RD=new re,fd=new qr,xa=new Jt,n0=new re,jh=new re,Vue=new re,Gue=new qr,PD=new re(1,0,0),ID=new re(0,1,0),BD=new re(0,0,1),OD={type:"added"},$ue={type:"removed"},hd={type:"childadded",child:null},TC={type:"childremoved",child:null};class wn extends la{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Hue++}),this.uuid=So(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const e=new re,n=new wo,r=new qr,i=new re(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Jt},normalMatrix:{value:new ln}}),this.matrix=new Jt,this.matrixWorld=new Jt,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new hu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return fd.setFromAxisAngle(e,n),this.quaternion.multiply(fd),this}rotateOnWorldAxis(e,n){return fd.setFromAxisAngle(e,n),this.quaternion.premultiply(fd),this}rotateX(e){return this.rotateOnAxis(PD,e)}rotateY(e){return this.rotateOnAxis(ID,e)}rotateZ(e){return this.rotateOnAxis(BD,e)}translateOnAxis(e,n){return RD.copy(e).applyQuaternion(this.quaternion),this.position.add(RD.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(PD,e)}translateY(e){return this.translateOnAxis(ID,e)}translateZ(e){return this.translateOnAxis(BD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xa.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?n0.copy(e):n0.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),jh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xa.lookAt(jh,n0,this.up):xa.lookAt(n0,jh,this.up),this.quaternion.setFromRotationMatrix(xa),i&&(xa.extractRotation(i.matrixWorld),fd.setFromRotationMatrix(xa),this.quaternion.premultiply(fd.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(OD),hd.child=e,this.dispatchEvent(hd),hd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent($ue),TC.child=e,this.dispatchEvent(TC),TC.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xa.multiply(e.parent.matrixWorld)),e.applyMatrix4(xa),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(OD),hd.child=e,this.dispatchEvent(hd),hd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jh,e,Vue),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jh,Gue,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++){const a=i[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];o(e.shapes,d)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(o(e.materials,this.material[l]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),m=s(e.animations),v=s(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=i,r;function s(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}wn.DEFAULT_UP=new re(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ps=new re,Sa=new re,RC=new re,_a=new re,pd=new re,md=new re,LD=new re,PC=new re,IC=new re,BC=new re;class mo{constructor(e=new re,n=new re,r=new re){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ps.subVectors(e,n),i.cross(ps);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){ps.subVectors(i,n),Sa.subVectors(r,n),RC.subVectors(e,n);const s=ps.dot(ps),a=ps.dot(Sa),l=ps.dot(RC),c=Sa.dot(Sa),u=Sa.dot(RC),d=s*c-a*a;if(d===0)return o.set(0,0,0),null;const f=1/d,m=(c*l-a*u)*f,v=(s*u-a*l)*f;return o.set(1-m-v,v,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,_a)===null?!1:_a.x>=0&&_a.y>=0&&_a.x+_a.y<=1}static getInterpolation(e,n,r,i,o,s,a,l){return this.getBarycoord(e,n,r,i,_a)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,_a.x),l.addScaledVector(s,_a.y),l.addScaledVector(a,_a.z),l)}static isFrontFacing(e,n,r,i){return ps.subVectors(r,n),Sa.subVectors(e,n),ps.cross(Sa).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ps.subVectors(this.c,this.b),Sa.subVectors(this.a,this.b),ps.cross(Sa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return mo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return mo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return mo.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return mo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return mo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;pd.subVectors(i,r),md.subVectors(o,r),PC.subVectors(e,r);const l=pd.dot(PC),c=md.dot(PC);if(l<=0&&c<=0)return n.copy(r);IC.subVectors(e,i);const u=pd.dot(IC),d=md.dot(IC);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),n.copy(r).addScaledVector(pd,s);BC.subVectors(e,o);const m=pd.dot(BC),v=md.dot(BC);if(v>=0&&m<=v)return n.copy(o);const x=m*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(md,a);const y=u*v-m*d;if(y<=0&&d-u>=0&&m-v>=0)return LD.subVectors(o,i),a=(d-u)/(d-u+(m-v)),n.copy(i).addScaledVector(LD,a);const g=1/(y+x+f);return s=x*g,a=f*g,n.copy(r).addScaledVector(pd,s).addScaledVector(md,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const j6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ll={h:0,s:0,l:0},r0={h:0,s:0,l:0};function OC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Rt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=po){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Fn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Fn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Fn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Fn.workingColorSpace){if(e=lR(e,1),n=Sr(n,0,1),r=Sr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=OC(s,o,e+1/3),this.g=OC(s,o,e),this.b=OC(s,o,e-1/3)}return Fn.toWorkingColorSpace(this,i),this}setStyle(e,n=po){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=po){const r=j6[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hf(e.r),this.g=hf(e.g),this.b=hf(e.b),this}copyLinearToSRGB(e){return this.r=SC(e.r),this.g=SC(e.g),this.b=SC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=po){return Fn.fromWorkingColorSpace(xi.copy(this),e),Math.round(Sr(xi.r*255,0,255))*65536+Math.round(Sr(xi.g*255,0,255))*256+Math.round(Sr(xi.b*255,0,255))}getHexString(e=po){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Fn.workingColorSpace){Fn.fromWorkingColorSpace(xi.copy(this),n);const r=xi.r,i=xi.g,o=xi.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let l,c;const u=(a+s)/2;if(a===s)l=0,c=0;else{const d=s-a;switch(c=u<=.5?d/(s+a):d/(2-s-a),s){case r:l=(i-o)/d+(i<o?6:0);break;case i:l=(o-r)/d+2;break;case o:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Fn.workingColorSpace){return Fn.fromWorkingColorSpace(xi.copy(this),n),e.r=xi.r,e.g=xi.g,e.b=xi.b,e}getStyle(e=po){Fn.fromWorkingColorSpace(xi.copy(this),e);const n=xi.r,r=xi.g,i=xi.b;return e!==po?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ll),this.setHSL(ll.h+e,ll.s+n,ll.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ll),e.getHSL(r0);const r=Fp(ll.h,r0.h,n),i=Fp(ll.s,r0.s,n),o=Fp(ll.l,r0.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const xi=new Rt;Rt.NAMES=j6;let Wue=0;class Or extends la{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Wue++}),this.uuid=So(),this.name="",this.type="Material",this.blending=uu,this.side=ia,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=yx,this.blendDst=xx,this.blendEquation=bl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Rt(0,0,0),this.blendAlpha=0,this.depthFunc=Am,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=gM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=zc,this.stencilZFail=zc,this.stencilZPass=zc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==uu&&(r.blending=this.blending),this.side!==ia&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==yx&&(r.blendSrc=this.blendSrc),this.blendDst!==xx&&(r.blendDst=this.blendDst),this.blendEquation!==bl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Am&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==gM&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==zc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==zc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==zc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ji extends Or{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wo,this.combine=dg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Aa=jue();function jue(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,o[l]=c|u}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function Wi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Sr(t,-65504,65504),Aa.floatView[0]=t;const e=Aa.uint32View[0],n=e>>23&511;return Aa.baseTable[n]+((e&8388607)>>Aa.shiftTable[n])}function hp(t){const e=t>>10;return Aa.uint32View[0]=Aa.mantissaTable[Aa.offsetTable[e]+(t&1023)]+Aa.exponentTable[e],Aa.floatView[0]}const nu={toHalfFloat:Wi,fromHalfFloat:hp},Pr=new re,i0=new Qe;class En{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Om,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ar,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return G6("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)i0.fromBufferAttribute(this,n),i0.applyMatrix3(e),this.setXY(n,i0.x,i0.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix3(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.applyMatrix4(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.applyNormalMatrix(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Pr.fromBufferAttribute(this,n),Pr.transformDirection(e),this.setXYZ(n,Pr.x,Pr.y,Pr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Li(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=cn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Li(n,this.array)),n}setX(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Li(n,this.array)),n}setY(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Li(n,this.array)),n}setZ(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Li(n,this.array)),n}setW(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array),o=cn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Om&&(e.usage=this.usage),e}}class Xue extends En{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Kue extends En{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Jue extends En{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Yue extends En{constructor(e,n,r){super(new Int16Array(e),n,r)}}class uR extends En{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class que extends En{constructor(e,n,r){super(new Int32Array(e),n,r)}}class dR extends En{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Que extends En{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=hp(this.array[e*this.itemSize]);return this.normalized&&(n=Li(n,this.array)),n}setX(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize]=Wi(n),this}getY(e){let n=hp(this.array[e*this.itemSize+1]);return this.normalized&&(n=Li(n,this.array)),n}setY(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+1]=Wi(n),this}getZ(e){let n=hp(this.array[e*this.itemSize+2]);return this.normalized&&(n=Li(n,this.array)),n}setZ(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+2]=Wi(n),this}getW(e){let n=hp(this.array[e*this.itemSize+3]);return this.normalized&&(n=Li(n,this.array)),n}setW(e,n){return this.normalized&&(n=cn(n,this.array)),this.array[e*this.itemSize+3]=Wi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array)),this.array[e+0]=Wi(n),this.array[e+1]=Wi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array)),this.array[e+0]=Wi(n),this.array[e+1]=Wi(r),this.array[e+2]=Wi(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array),o=cn(o,this.array)),this.array[e+0]=Wi(n),this.array[e+1]=Wi(r),this.array[e+2]=Wi(i),this.array[e+3]=Wi(o),this}}class Ht extends En{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Zue=0;const Ho=new Jt,LC=new wn,gd=new re,uo=new Ei,Xh=new Ei,Kr=new re;class an extends la{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Zue++}),this.uuid=So(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(H6(e)?dR:uR)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new ln().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ho.makeRotationFromQuaternion(e),this.applyMatrix4(Ho),this}rotateX(e){return Ho.makeRotationX(e),this.applyMatrix4(Ho),this}rotateY(e){return Ho.makeRotationY(e),this.applyMatrix4(Ho),this}rotateZ(e){return Ho.makeRotationZ(e),this.applyMatrix4(Ho),this}translate(e,n,r){return Ho.makeTranslation(e,n,r),this.applyMatrix4(Ho),this}scale(e,n,r){return Ho.makeScale(e,n,r),this.applyMatrix4(Ho),this}lookAt(e){return LC.lookAt(e),LC.updateMatrix(),this.applyMatrix4(LC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(gd).negate(),this.translate(gd.x,gd.y,gd.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Ht(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ei);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];uo.setFromBufferAttribute(o),this.morphTargetsRelative?(Kr.addVectors(this.boundingBox.min,uo.min),this.boundingBox.expandByPoint(Kr),Kr.addVectors(this.boundingBox.max,uo.max),this.boundingBox.expandByPoint(Kr)):(this.boundingBox.expandByPoint(uo.min),this.boundingBox.expandByPoint(uo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new si);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new re,1/0);return}if(e){const r=this.boundingSphere.center;if(uo.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];Xh.setFromBufferAttribute(a),this.morphTargetsRelative?(Kr.addVectors(uo.min,Xh.min),uo.expandByPoint(Kr),Kr.addVectors(uo.max,Xh.max),uo.expandByPoint(Kr)):(uo.expandByPoint(Xh.min),uo.expandByPoint(Xh.max))}uo.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)Kr.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(Kr));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Kr.fromBufferAttribute(a,c),l&&(gd.fromBufferAttribute(e,c),Kr.add(gd)),i=Math.max(i,r.distanceToSquared(Kr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new En(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],l=[];for(let I=0;I<r.count;I++)a[I]=new re,l[I]=new re;const c=new re,u=new re,d=new re,f=new Qe,m=new Qe,v=new Qe,x=new re,y=new re;function g(I,T,E){c.fromBufferAttribute(r,I),u.fromBufferAttribute(r,T),d.fromBufferAttribute(r,E),f.fromBufferAttribute(o,I),m.fromBufferAttribute(o,T),v.fromBufferAttribute(o,E),u.sub(c),d.sub(c),m.sub(f),v.sub(f);const B=1/(m.x*v.y-v.x*m.y);isFinite(B)&&(x.copy(u).multiplyScalar(v.y).addScaledVector(d,-m.y).multiplyScalar(B),y.copy(d).multiplyScalar(m.x).addScaledVector(u,-v.x).multiplyScalar(B),a[I].add(x),a[T].add(x),a[E].add(x),l[I].add(y),l[T].add(y),l[E].add(y))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let I=0,T=S.length;I<T;++I){const E=S[I],B=E.start,F=E.count;for(let L=B,z=B+F;L<z;L+=3)g(e.getX(L+0),e.getX(L+1),e.getX(L+2))}const _=new re,w=new re,A=new re,M=new re;function P(I){A.fromBufferAttribute(i,I),M.copy(A);const T=a[I];_.copy(T),_.sub(A.multiplyScalar(A.dot(T))).normalize(),w.crossVectors(M,T);const B=w.dot(l[I])<0?-1:1;s.setXYZW(I,_.x,_.y,_.z,B)}for(let I=0,T=S.length;I<T;++I){const E=S[I],B=E.start,F=E.count;for(let L=B,z=B+F;L<z;L+=3)P(e.getX(L+0)),P(e.getX(L+1)),P(e.getX(L+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new En(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new re,o=new re,s=new re,a=new re,l=new re,c=new re,u=new re,d=new re;if(e)for(let f=0,m=e.count;f<m;f+=3){const v=e.getX(f+0),x=e.getX(f+1),y=e.getX(f+2);i.fromBufferAttribute(n,v),o.fromBufferAttribute(n,x),s.fromBufferAttribute(n,y),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,y),a.add(u),l.add(u),c.add(u),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(y,c.x,c.y,c.z)}else for(let f=0,m=n.count;f<m;f+=3)i.fromBufferAttribute(n,f+0),o.fromBufferAttribute(n,f+1),s.fromBufferAttribute(n,f+2),u.subVectors(s,o),d.subVectors(i,o),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Kr.fromBufferAttribute(e,n),Kr.normalize(),e.setXYZ(n,Kr.x,Kr.y,Kr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let m=0,v=0;for(let x=0,y=l.length;x<y;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)f[v++]=c[m++]}return new En(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new an,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const o=this.morphAttributes;for(const a in o){const l=[],c=o[a];for(let u=0,d=c.length;u<d;u++){const f=c[u],m=e(f,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const c=s[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const o=e.morphAttributes;for(const c in o){const u=[],d=o[c];for(let f=0,m=d.length;f<m;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const DD=new Jt,bc=new Bu,o0=new si,FD=new re,vd=new re,yd=new re,xd=new re,DC=new re,s0=new re,a0=new Qe,l0=new Qe,c0=new Qe,ND=new re,UD=new re,kD=new re,u0=new re,d0=new re;class ir extends wn{constructor(e=new an,n=new Ji){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){s0.set(0,0,0);for(let l=0,c=o.length;l<c;l++){const u=a[l],d=o[l];u!==0&&(DC.fromBufferAttribute(d,e),s?s0.addScaledVector(DC,u):s0.addScaledVector(DC.sub(n),u))}n.add(s0)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),o0.copy(r.boundingSphere),o0.applyMatrix4(o),bc.copy(e.ray).recast(e.near),!(o0.containsPoint(bc.origin)===!1&&(bc.intersectSphere(o0,FD)===null||bc.origin.distanceToSquared(FD)>(e.far-e.near)**2))&&(DD.copy(o).invert(),bc.copy(e.ray).applyMatrix4(DD),!(r.boundingBox!==null&&bc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,bc)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,l=o.attributes.position,c=o.attributes.uv,u=o.attributes.uv1,d=o.attributes.normal,f=o.groups,m=o.drawRange;if(a!==null)if(Array.isArray(s))for(let v=0,x=f.length;v<x;v++){const y=f[v],g=s[y.materialIndex],S=Math.max(y.start,m.start),_=Math.min(a.count,Math.min(y.start+y.count,m.start+m.count));for(let w=S,A=_;w<A;w+=3){const M=a.getX(w),P=a.getX(w+1),I=a.getX(w+2);i=f0(this,g,e,r,c,u,d,M,P,I),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const S=a.getX(y),_=a.getX(y+1),w=a.getX(y+2);i=f0(this,s,e,r,c,u,d,S,_,w),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let v=0,x=f.length;v<x;v++){const y=f[v],g=s[y.materialIndex],S=Math.max(y.start,m.start),_=Math.min(l.count,Math.min(y.start+y.count,m.start+m.count));for(let w=S,A=_;w<A;w+=3){const M=w,P=w+1,I=w+2;i=f0(this,g,e,r,c,u,d,M,P,I),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=y.materialIndex,n.push(i))}}else{const v=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let y=v,g=x;y<g;y+=3){const S=y,_=y+1,w=y+2;i=f0(this,s,e,r,c,u,d,S,_,w),i&&(i.faceIndex=Math.floor(y/3),n.push(i))}}}}function ede(t,e,n,r,i,o,s,a){let l;if(e.side===Ni?l=r.intersectTriangle(s,o,i,!0,a):l=r.intersectTriangle(i,o,s,e.side===ia,a),l===null)return null;d0.copy(a),d0.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(d0);return c<n.near||c>n.far?null:{distance:c,point:d0.clone(),object:t}}function f0(t,e,n,r,i,o,s,a,l,c){t.getVertexPosition(a,vd),t.getVertexPosition(l,yd),t.getVertexPosition(c,xd);const u=ede(t,e,n,r,vd,yd,xd,u0);if(u){i&&(a0.fromBufferAttribute(i,a),l0.fromBufferAttribute(i,l),c0.fromBufferAttribute(i,c),u.uv=mo.getInterpolation(u0,vd,yd,xd,a0,l0,c0,new Qe)),o&&(a0.fromBufferAttribute(o,a),l0.fromBufferAttribute(o,l),c0.fromBufferAttribute(o,c),u.uv1=mo.getInterpolation(u0,vd,yd,xd,a0,l0,c0,new Qe)),s&&(ND.fromBufferAttribute(s,a),UD.fromBufferAttribute(s,l),kD.fromBufferAttribute(s,c),u.normal=mo.getInterpolation(u0,vd,yd,xd,ND,UD,kD,new re),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new re,materialIndex:0};mo.getNormal(vd,yd,xd,d.normal),u.face=d}return u}class Ou extends an{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,m=0;v("z","y","x",-1,-1,r,n,e,s,o,0),v("z","y","x",1,-1,r,n,-e,s,o,1),v("x","z","y",1,1,e,r,n,i,s,2),v("x","z","y",1,-1,e,r,-n,i,s,3),v("x","y","z",1,-1,e,n,r,i,o,4),v("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new Ht(c,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(d,2));function v(x,y,g,S,_,w,A,M,P,I,T){const E=w/P,B=A/I,F=w/2,L=A/2,z=M/2,G=P+1,j=I+1;let X=0,N=0;const W=new re;for(let V=0;V<j;V++){const ee=V*B-L;for(let se=0;se<G;se++){const me=se*E-F;W[x]=me*S,W[y]=ee*_,W[g]=z,c.push(W.x,W.y,W.z),W[x]=0,W[y]=0,W[g]=M>0?1:-1,u.push(W.x,W.y,W.z),d.push(se/P),d.push(1-V/I),X+=1}}for(let V=0;V<I;V++)for(let ee=0;ee<P;ee++){const se=f+ee+G*V,me=f+ee+G*(V+1),K=f+(ee+1)+G*(V+1),te=f+(ee+1)+G*V;l.push(se,me,te),l.push(me,K,te),N+=6}a.addGroup(m,N,T),m+=N,f+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ou(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Nf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Bi(t){const e={};for(let n=0;n<t.length;n++){const r=Nf(t[n]);for(const i in r)e[i]=r[i]}return e}function tde(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function X6(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Fn.workingColorSpace}const K6={clone:Nf,merge:Bi};var nde=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,rde=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class to extends Or{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=nde,this.fragmentShader=rde,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Nf(e.uniforms),this.uniformsGroups=tde(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class hg extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Jt,this.projectionMatrix=new Jt,this.projectionMatrixInverse=new Jt,this.coordinateSystem=Xs}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const cl=new re,zD=new Qe,HD=new Qe;class cr extends hg{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Ff*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(fu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ff*2*Math.atan(Math.tan(fu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){cl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(cl.x,cl.y).multiplyScalar(-e/cl.z),cl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(cl.x,cl.y).multiplyScalar(-e/cl.z)}getViewSize(e,n){return this.getViewBounds(e,zD,HD),n.subVectors(HD,zD)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(fu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;o+=s.offsetX*i/l,n-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Sd=-90,_d=1;class J6 extends wn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new cr(Sd,_d,e,n);i.layers=this.layers,this.add(i);const o=new cr(Sd,_d,e,n);o.layers=this.layers,this.add(o);const s=new cr(Sd,_d,e,n);s.layers=this.layers,this.add(s);const a=new cr(Sd,_d,e,n);a.layers=this.layers,this.add(a);const l=new cr(Sd,_d,e,n);l.layers=this.layers,this.add(l);const c=new cr(Sd,_d,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,l]=n;for(const c of n)this.remove(c);if(e===Xs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Lm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,m),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class pg extends Bn{constructor(e,n,r,i,o,s,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:oa,super(e,n,r,i,o,s,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class fR extends bo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new pg(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:In}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Ou(5,5,5),o=new to({name:"CubemapFromEquirect",uniforms:Nf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ni,blending:Zs});o.uniforms.tEquirect.value=n;const s=new ir(i,o),a=n.minFilter;return n.minFilter===Qo&&(n.minFilter=In),new J6(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}const FC=new re,ide=new re,ode=new ln;class Ea{constructor(e=new re(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=FC.subVectors(r,n).cross(ide.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(FC),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||ode.getNormalMatrix(e),i=this.coplanarPoint(FC).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wc=new si,h0=new re;class mg{constructor(e=new Ea,n=new Ea,r=new Ea,i=new Ea,o=new Ea,s=new Ea){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Xs){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],m=i[8],v=i[9],x=i[10],y=i[11],g=i[12],S=i[13],_=i[14],w=i[15];if(r[0].setComponents(l-o,f-c,y-m,w-g).normalize(),r[1].setComponents(l+o,f+c,y+m,w+g).normalize(),r[2].setComponents(l+s,f+u,y+v,w+S).normalize(),r[3].setComponents(l-s,f-u,y-v,w-S).normalize(),r[4].setComponents(l-a,f-d,y-x,w-_).normalize(),n===Xs)r[5].setComponents(l+a,f+d,y+x,w+_).normalize();else if(n===Lm)r[5].setComponents(a,d,x,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wc)}intersectsSprite(e){return wc.center.set(0,0,0),wc.radius=.7071067811865476,wc.applyMatrix4(e.matrixWorld),this.intersectsSphere(wc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(h0.x=i.normal.x>0?e.max.x:e.min.x,h0.y=i.normal.y>0?e.max.y:e.min.y,h0.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(h0)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Y6(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function sde(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=t.SHORT;else if(c instanceof Uint32Array)m=t.UNSIGNED_INT;else if(c instanceof Int32Array)m=t.INT;else if(c instanceof Int8Array)m=t.BYTE;else if(c instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const u=l.array,d=l._updateRange,f=l.updateRanges;if(t.bindBuffer(c,a),d.count===-1&&f.length===0&&t.bufferSubData(c,0,u),f.length!==0){for(let m=0,v=f.length;m<v;m++){const x=f[m];t.bufferSubData(c,x.start*u.BYTES_PER_ELEMENT,u,x.start,x.count)}l.clearUpdateRanges()}d.count!==-1&&(t.bufferSubData(c,d.offset*u.BYTES_PER_ELEMENT,u,d.offset,d.count),d.count=-1),l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function s(a,l){if(a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:o,update:s}}class sc extends an{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,d=e/a,f=n/l,m=[],v=[],x=[],y=[];for(let g=0;g<u;g++){const S=g*f-s;for(let _=0;_<c;_++){const w=_*d-o;v.push(w,-S,0),x.push(0,0,1),y.push(_/a),y.push(1-g/l)}}for(let g=0;g<l;g++)for(let S=0;S<a;S++){const _=S+c*g,w=S+c*(g+1),A=S+1+c*(g+1),M=S+1+c*g;m.push(_,w,M),m.push(w,A,M)}this.setIndex(m),this.setAttribute("position",new Ht(v,3)),this.setAttribute("normal",new Ht(x,3)),this.setAttribute("uv",new Ht(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sc(e.width,e.height,e.widthSegments,e.heightSegments)}}var ade=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lde=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cde=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ude=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dde=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,fde=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hde=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pde=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,mde=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gde=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,vde=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yde=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xde=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Sde=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,_de=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Cde=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,bde=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wde=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Ede=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mde=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ade=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Tde=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Rde=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Pde=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Ide=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Bde=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Ode=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Lde=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Dde=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Fde=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Nde="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ude=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,kde=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zde=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Hde=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Vde=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Gde=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,$de=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Wde=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,jde=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Xde=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Kde=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Jde=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Yde=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,qde=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Qde=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Zde=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,efe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tfe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nfe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,rfe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ife=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ofe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,sfe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,afe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lfe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cfe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ufe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dfe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ffe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hfe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,pfe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mfe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gfe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vfe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yfe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xfe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Sfe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,_fe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cfe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,bfe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,wfe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Efe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Mfe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Afe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Tfe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rfe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Pfe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Ife=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Bfe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ofe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Lfe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Dfe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ffe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Nfe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ufe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kfe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zfe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Hfe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Vfe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Gfe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,$fe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Wfe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,jfe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Xfe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Kfe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Jfe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Yfe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,qfe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Qfe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Zfe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,ehe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, newPeak * vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,the=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nhe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,rhe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ihe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ohe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,she=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ahe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lhe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,che=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uhe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fhe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hhe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,phe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,mhe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ghe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vhe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,yhe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,xhe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,She=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_he=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Che=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bhe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,whe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ehe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Mhe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ahe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,The=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Rhe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Phe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ihe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Bhe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ohe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lhe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dhe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Fhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Nhe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uhe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,khe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zhe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dn={alphahash_fragment:ade,alphahash_pars_fragment:lde,alphamap_fragment:cde,alphamap_pars_fragment:ude,alphatest_fragment:dde,alphatest_pars_fragment:fde,aomap_fragment:hde,aomap_pars_fragment:pde,batching_pars_vertex:mde,batching_vertex:gde,begin_vertex:vde,beginnormal_vertex:yde,bsdfs:xde,iridescence_fragment:Sde,bumpmap_pars_fragment:_de,clipping_planes_fragment:Cde,clipping_planes_pars_fragment:bde,clipping_planes_pars_vertex:wde,clipping_planes_vertex:Ede,color_fragment:Mde,color_pars_fragment:Ade,color_pars_vertex:Tde,color_vertex:Rde,common:Pde,cube_uv_reflection_fragment:Ide,defaultnormal_vertex:Bde,displacementmap_pars_vertex:Ode,displacementmap_vertex:Lde,emissivemap_fragment:Dde,emissivemap_pars_fragment:Fde,colorspace_fragment:Nde,colorspace_pars_fragment:Ude,envmap_fragment:kde,envmap_common_pars_fragment:zde,envmap_pars_fragment:Hde,envmap_pars_vertex:Vde,envmap_physical_pars_fragment:efe,envmap_vertex:Gde,fog_vertex:$de,fog_pars_vertex:Wde,fog_fragment:jde,fog_pars_fragment:Xde,gradientmap_pars_fragment:Kde,lightmap_fragment:Jde,lightmap_pars_fragment:Yde,lights_lambert_fragment:qde,lights_lambert_pars_fragment:Qde,lights_pars_begin:Zde,lights_toon_fragment:tfe,lights_toon_pars_fragment:nfe,lights_phong_fragment:rfe,lights_phong_pars_fragment:ife,lights_physical_fragment:ofe,lights_physical_pars_fragment:sfe,lights_fragment_begin:afe,lights_fragment_maps:lfe,lights_fragment_end:cfe,logdepthbuf_fragment:ufe,logdepthbuf_pars_fragment:dfe,logdepthbuf_pars_vertex:ffe,logdepthbuf_vertex:hfe,map_fragment:pfe,map_pars_fragment:mfe,map_particle_fragment:gfe,map_particle_pars_fragment:vfe,metalnessmap_fragment:yfe,metalnessmap_pars_fragment:xfe,morphinstance_vertex:Sfe,morphcolor_vertex:_fe,morphnormal_vertex:Cfe,morphtarget_pars_vertex:bfe,morphtarget_vertex:wfe,normal_fragment_begin:Efe,normal_fragment_maps:Mfe,normal_pars_fragment:Afe,normal_pars_vertex:Tfe,normal_vertex:Rfe,normalmap_pars_fragment:Pfe,clearcoat_normal_fragment_begin:Ife,clearcoat_normal_fragment_maps:Bfe,clearcoat_pars_fragment:Ofe,iridescence_pars_fragment:Lfe,opaque_fragment:Dfe,packing:Ffe,premultiplied_alpha_fragment:Nfe,project_vertex:Ufe,dithering_fragment:kfe,dithering_pars_fragment:zfe,roughnessmap_fragment:Hfe,roughnessmap_pars_fragment:Vfe,shadowmap_pars_fragment:Gfe,shadowmap_pars_vertex:$fe,shadowmap_vertex:Wfe,shadowmask_pars_fragment:jfe,skinbase_vertex:Xfe,skinning_pars_vertex:Kfe,skinning_vertex:Jfe,skinnormal_vertex:Yfe,specularmap_fragment:qfe,specularmap_pars_fragment:Qfe,tonemapping_fragment:Zfe,tonemapping_pars_fragment:ehe,transmission_fragment:the,transmission_pars_fragment:nhe,uv_pars_fragment:rhe,uv_pars_vertex:ihe,uv_vertex:ohe,worldpos_vertex:she,background_vert:ahe,background_frag:lhe,backgroundCube_vert:che,backgroundCube_frag:uhe,cube_vert:dhe,cube_frag:fhe,depth_vert:hhe,depth_frag:phe,distanceRGBA_vert:mhe,distanceRGBA_frag:ghe,equirect_vert:vhe,equirect_frag:yhe,linedashed_vert:xhe,linedashed_frag:She,meshbasic_vert:_he,meshbasic_frag:Che,meshlambert_vert:bhe,meshlambert_frag:whe,meshmatcap_vert:Ehe,meshmatcap_frag:Mhe,meshnormal_vert:Ahe,meshnormal_frag:The,meshphong_vert:Rhe,meshphong_frag:Phe,meshphysical_vert:Ihe,meshphysical_frag:Bhe,meshtoon_vert:Ohe,meshtoon_frag:Lhe,points_vert:Dhe,points_frag:Fhe,shadow_vert:Nhe,shadow_frag:Uhe,sprite_vert:khe,sprite_frag:zhe},Tt={common:{diffuse:{value:new Rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ln}},envmap:{envMap:{value:null},envMapRotation:{value:new ln},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ln}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ln}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ln},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ln},normalScale:{value:new Qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ln},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ln}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ln}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ln}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0},uvTransform:{value:new ln}},sprite:{diffuse:{value:new Rt(16777215)},opacity:{value:1},center:{value:new Qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}}},bs={basic:{uniforms:Bi([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.fog]),vertexShader:dn.meshbasic_vert,fragmentShader:dn.meshbasic_frag},lambert:{uniforms:Bi([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:dn.meshlambert_vert,fragmentShader:dn.meshlambert_frag},phong:{uniforms:Bi([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Rt(0)},specular:{value:new Rt(1118481)},shininess:{value:30}}]),vertexShader:dn.meshphong_vert,fragmentShader:dn.meshphong_frag},standard:{uniforms:Bi([Tt.common,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.roughnessmap,Tt.metalnessmap,Tt.fog,Tt.lights,{emissive:{value:new Rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag},toon:{uniforms:Bi([Tt.common,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.gradientmap,Tt.fog,Tt.lights,{emissive:{value:new Rt(0)}}]),vertexShader:dn.meshtoon_vert,fragmentShader:dn.meshtoon_frag},matcap:{uniforms:Bi([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,{matcap:{value:null}}]),vertexShader:dn.meshmatcap_vert,fragmentShader:dn.meshmatcap_frag},points:{uniforms:Bi([Tt.points,Tt.fog]),vertexShader:dn.points_vert,fragmentShader:dn.points_frag},dashed:{uniforms:Bi([Tt.common,Tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dn.linedashed_vert,fragmentShader:dn.linedashed_frag},depth:{uniforms:Bi([Tt.common,Tt.displacementmap]),vertexShader:dn.depth_vert,fragmentShader:dn.depth_frag},normal:{uniforms:Bi([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,{opacity:{value:1}}]),vertexShader:dn.meshnormal_vert,fragmentShader:dn.meshnormal_frag},sprite:{uniforms:Bi([Tt.sprite,Tt.fog]),vertexShader:dn.sprite_vert,fragmentShader:dn.sprite_frag},background:{uniforms:{uvTransform:{value:new ln},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dn.background_vert,fragmentShader:dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new ln}},vertexShader:dn.backgroundCube_vert,fragmentShader:dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dn.cube_vert,fragmentShader:dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dn.equirect_vert,fragmentShader:dn.equirect_frag},distanceRGBA:{uniforms:Bi([Tt.common,Tt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dn.distanceRGBA_vert,fragmentShader:dn.distanceRGBA_frag},shadow:{uniforms:Bi([Tt.lights,Tt.fog,{color:{value:new Rt(0)},opacity:{value:1}}]),vertexShader:dn.shadow_vert,fragmentShader:dn.shadow_frag}};bs.physical={uniforms:Bi([bs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ln},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ln},clearcoatNormalScale:{value:new Qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ln},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ln},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ln},sheen:{value:0},sheenColor:{value:new Rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ln},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ln},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ln},transmissionSamplerSize:{value:new Qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ln},attenuationDistance:{value:0},attenuationColor:{value:new Rt(0)},specularColor:{value:new Rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ln},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ln},anisotropyVector:{value:new Qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ln}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag};const p0={r:0,b:0,g:0},Ec=new wo,Hhe=new Jt;function Vhe(t,e,n,r,i,o,s){const a=new Rt(0);let l=o===!0?0:1,c,u,d=null,f=0,m=null;function v(y,g){let S=!1,_=g.isScene===!0?g.background:null;_&&_.isTexture&&(_=(g.backgroundBlurriness>0?n:e).get(_)),_===null?x(a,l):_&&_.isColor&&(x(_,1),S=!0);const w=t.xr.getEnvironmentBlendMode();w==="additive"?r.buffers.color.setClear(0,0,0,1,s):w==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===ih)?(u===void 0&&(u=new ir(new Ou(1,1,1),new to({name:"BackgroundCubeMaterial",uniforms:Nf(bs.backgroundCube.uniforms),vertexShader:bs.backgroundCube.vertexShader,fragmentShader:bs.backgroundCube.fragmentShader,side:Ni,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,M,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Ec.copy(g.backgroundRotation),Ec.x*=-1,Ec.y*=-1,Ec.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Ec.y*=-1,Ec.z*=-1),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Hhe.makeRotationFromEuler(Ec)),u.material.toneMapped=Fn.getTransfer(_.colorSpace)!==Kn,(d!==_||f!==_.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,d=_,f=_.version,m=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new ir(new sc(2,2),new to({name:"BackgroundMaterial",uniforms:Nf(bs.background.uniforms),vertexShader:bs.background.vertexShader,fragmentShader:bs.background.fragmentShader,side:ia,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=Fn.getTransfer(_.colorSpace)!==Kn,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(d!==_||f!==_.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,d=_,f=_.version,m=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function x(y,g){y.getRGB(p0,X6(t)),r.buffers.color.setClear(p0.r,p0.g,p0.b,g,s)}return{getClearColor:function(){return a},setClearColor:function(y,g=1){a.set(y),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,x(a,l)},render:v}}function Ghe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let o=i,s=!1;function a(E,B,F,L,z){let G=!1;const j=d(L,F,B);o!==j&&(o=j,c(o.object)),G=m(E,L,F,z),G&&v(E,L,F,z),z!==null&&e.update(z,t.ELEMENT_ARRAY_BUFFER),(G||s)&&(s=!1,w(E,B,F,L),z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(z).buffer))}function l(){return t.createVertexArray()}function c(E){return t.bindVertexArray(E)}function u(E){return t.deleteVertexArray(E)}function d(E,B,F){const L=F.wireframe===!0;let z=r[E.id];z===void 0&&(z={},r[E.id]=z);let G=z[B.id];G===void 0&&(G={},z[B.id]=G);let j=G[L];return j===void 0&&(j=f(l()),G[L]=j),j}function f(E){const B=[],F=[],L=[];for(let z=0;z<n;z++)B[z]=0,F[z]=0,L[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:F,attributeDivisors:L,object:E,attributes:{},index:null}}function m(E,B,F,L){const z=o.attributes,G=B.attributes;let j=0;const X=F.getAttributes();for(const N in X)if(X[N].location>=0){const V=z[N];let ee=G[N];if(ee===void 0&&(N==="instanceMatrix"&&E.instanceMatrix&&(ee=E.instanceMatrix),N==="instanceColor"&&E.instanceColor&&(ee=E.instanceColor)),V===void 0||V.attribute!==ee||ee&&V.data!==ee.data)return!0;j++}return o.attributesNum!==j||o.index!==L}function v(E,B,F,L){const z={},G=B.attributes;let j=0;const X=F.getAttributes();for(const N in X)if(X[N].location>=0){let V=G[N];V===void 0&&(N==="instanceMatrix"&&E.instanceMatrix&&(V=E.instanceMatrix),N==="instanceColor"&&E.instanceColor&&(V=E.instanceColor));const ee={};ee.attribute=V,V&&V.data&&(ee.data=V.data),z[N]=ee,j++}o.attributes=z,o.attributesNum=j,o.index=L}function x(){const E=o.newAttributes;for(let B=0,F=E.length;B<F;B++)E[B]=0}function y(E){g(E,0)}function g(E,B){const F=o.newAttributes,L=o.enabledAttributes,z=o.attributeDivisors;F[E]=1,L[E]===0&&(t.enableVertexAttribArray(E),L[E]=1),z[E]!==B&&(t.vertexAttribDivisor(E,B),z[E]=B)}function S(){const E=o.newAttributes,B=o.enabledAttributes;for(let F=0,L=B.length;F<L;F++)B[F]!==E[F]&&(t.disableVertexAttribArray(F),B[F]=0)}function _(E,B,F,L,z,G,j){j===!0?t.vertexAttribIPointer(E,B,F,z,G):t.vertexAttribPointer(E,B,F,L,z,G)}function w(E,B,F,L){x();const z=L.attributes,G=F.getAttributes(),j=B.defaultAttributeValues;for(const X in G){const N=G[X];if(N.location>=0){let W=z[X];if(W===void 0&&(X==="instanceMatrix"&&E.instanceMatrix&&(W=E.instanceMatrix),X==="instanceColor"&&E.instanceColor&&(W=E.instanceColor)),W!==void 0){const V=W.normalized,ee=W.itemSize,se=e.get(W);if(se===void 0)continue;const me=se.buffer,K=se.type,te=se.bytesPerElement,ae=K===t.INT||K===t.UNSIGNED_INT||W.gpuType===PS;if(W.isInterleavedBufferAttribute){const de=W.data,_e=de.stride,Re=W.offset;if(de.isInstancedInterleavedBuffer){for(let Te=0;Te<N.locationSize;Te++)g(N.location+Te,de.meshPerAttribute);E.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Te=0;Te<N.locationSize;Te++)y(N.location+Te);t.bindBuffer(t.ARRAY_BUFFER,me);for(let Te=0;Te<N.locationSize;Te++)_(N.location+Te,ee/N.locationSize,K,V,_e*te,(Re+ee/N.locationSize*Te)*te,ae)}else{if(W.isInstancedBufferAttribute){for(let de=0;de<N.locationSize;de++)g(N.location+de,W.meshPerAttribute);E.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=W.meshPerAttribute*W.count)}else for(let de=0;de<N.locationSize;de++)y(N.location+de);t.bindBuffer(t.ARRAY_BUFFER,me);for(let de=0;de<N.locationSize;de++)_(N.location+de,ee/N.locationSize,K,V,ee*te,ee/N.locationSize*de*te,ae)}}else if(j!==void 0){const V=j[X];if(V!==void 0)switch(V.length){case 2:t.vertexAttrib2fv(N.location,V);break;case 3:t.vertexAttrib3fv(N.location,V);break;case 4:t.vertexAttrib4fv(N.location,V);break;default:t.vertexAttrib1fv(N.location,V)}}}}S()}function A(){I();for(const E in r){const B=r[E];for(const F in B){const L=B[F];for(const z in L)u(L[z].object),delete L[z];delete B[F]}delete r[E]}}function M(E){if(r[E.id]===void 0)return;const B=r[E.id];for(const F in B){const L=B[F];for(const z in L)u(L[z].object),delete L[z];delete B[F]}delete r[E.id]}function P(E){for(const B in r){const F=r[B];if(F[E.id]===void 0)continue;const L=F[E.id];for(const z in L)u(L[z].object),delete L[z];delete F[E.id]}}function I(){T(),s=!0,o!==i&&(o=i,c(o.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:I,resetDefaultState:T,dispose:A,releaseStatesOfGeometry:M,releaseStatesOfProgram:P,initAttributes:x,enableAttribute:y,disableUnusedAttributes:S}}function $he(t,e,n){let r;function i(l){r=l}function o(l,c){t.drawArrays(r,l,c),n.update(c,r,1)}function s(l,c,u){u!==0&&(t.drawArraysInstanced(r,l,c,u),n.update(c,r,u))}function a(l,c,u){if(u===0)return;const d=e.get("WEBGL_multi_draw");if(d===null)for(let f=0;f<u;f++)this.render(l[f],c[f]);else{d.multiDrawArraysWEBGL(r,l,0,c,0,u);let f=0;for(let m=0;m<u;m++)f+=c[m];n.update(f,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a}function Whe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const _=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(_.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(_){if(_==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";_="mediump"}return _==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=n.precision!==void 0?n.precision:"highp";const a=o(s);a!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",a,"instead."),s=a);const l=n.logarithmicDepthBuffer===!0,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_TEXTURE_SIZE),f=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),m=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),x=t.getParameter(t.MAX_VARYING_VECTORS),y=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=u>0,S=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:d,maxCubemapSize:f,maxAttributes:m,maxVertexUniforms:v,maxVaryings:x,maxFragmentUniforms:y,vertexTextures:g,maxSamples:S}}function jhe(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new Ea,a=new ln,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const m=d.length!==0||f||r!==0||i;return i=f,r=d.length,m},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,m){const v=d.clippingPlanes,x=d.clipIntersection,y=d.clipShadows,g=t.get(d);if(!i||v===null||v.length===0||o&&!y)o?u(null):c();else{const S=o?0:r,_=S*4;let w=g.clippingState||null;l.value=w,w=u(v,f,_,m);for(let A=0;A!==_;++A)w[A]=n[A];g.clippingState=w,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=S}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,m,v){const x=d!==null?d.length:0;let y=null;if(x!==0){if(y=l.value,v!==!0||y===null){const g=m+x*4,S=f.matrixWorldInverse;a.getNormalMatrix(S),(y===null||y.length<g)&&(y=new Float32Array(g));for(let _=0,w=m;_!==x;++_,w+=4)s.copy(d[_]).applyMatrix4(S,a),s.normal.toArray(y,w),y[w+3]=s.constant}l.value=y,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,y}}function Xhe(t){let e=new WeakMap;function n(s,a){return a===Bf?s.mapping=oa:a===Tm&&(s.mapping=$l),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===Bf||a===Tm)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new fR(l.height);return c.fromEquirectangularTexture(t,s),e.set(s,c),s.addEventListener("dispose",i),n(c.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Es extends hg{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=c*this.view.offsetX,s=o+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Zd=4,VD=[.125,.215,.35,.446,.526,.582],$c=20,NC=new Es,GD=new Rt;let UC=null,kC=0,zC=0,HC=!1;const Hc=(1+Math.sqrt(5))/2,Cd=1/Hc,$D=[new re(1,1,1),new re(-1,1,1),new re(1,1,-1),new re(-1,1,-1),new re(0,Hc,Cd),new re(0,Hc,-Cd),new re(Cd,0,Hc),new re(-Cd,0,Hc),new re(Hc,Cd,0),new re(-Hc,Cd,0)];class yM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){UC=this._renderer.getRenderTarget(),kC=this._renderer.getActiveCubeFace(),zC=this._renderer.getActiveMipmapLevel(),HC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=jD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(UC,kC,zC),this._renderer.xr.enabled=HC,e.scissorTest=!1,m0(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===oa||e.mapping===$l?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),UC=this._renderer.getRenderTarget(),kC=this._renderer.getActiveCubeFace(),zC=this._renderer.getActiveMipmapLevel(),HC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:In,minFilter:In,generateMipmaps:!1,type:ii,format:kr,colorSpace:is,depthBuffer:!1},i=WD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=WD(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Khe(o)),this._blurMaterial=Jhe(o,e,n)}return i}_compileMaterial(e){const n=new ir(this._lodPlanes[0],e);this._renderer.compile(n,NC)}_sceneToCubeUV(e,n,r,i){const a=new cr(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(GD),u.toneMapping=ea,u.autoClear=!1;const m=new Ji({name:"PMREM.Background",side:Ni,depthWrite:!1,depthTest:!1}),v=new ir(new Ou,m);let x=!1;const y=e.background;y?y.isColor&&(m.color.copy(y),e.background=null,x=!0):(m.color.copy(GD),x=!0);for(let g=0;g<6;g++){const S=g%3;S===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):S===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const _=this._cubeSize;m0(i,S*_,g>2?_:0,_,_),u.setRenderTarget(i),x&&u.render(v,a),u.render(e,a)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===oa||e.mapping===$l;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=XD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=jD());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new ir(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;m0(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(s,NC)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=$D[(i-1)%$D.length];this._blur(e,i-1,i,o,s)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new ir(this._lodPlanes[i],c),f=c.uniforms,m=this._sizeLods[r]-1,v=isFinite(o)?Math.PI/(2*m):2*Math.PI/(2*$c-1),x=o/v,y=isFinite(o)?1+Math.floor(u*x):$c;y>$c&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${y} samples when the maximum is set to ${$c}`);const g=[];let S=0;for(let P=0;P<$c;++P){const I=P/x,T=Math.exp(-I*I/2);g.push(T),P===0?S+=T:P<y&&(S+=2*T)}for(let P=0;P<g.length;P++)g[P]=g[P]/S;f.envMap.value=e.texture,f.samples.value=y,f.weights.value=g,f.latitudinal.value=s==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:_}=this;f.dTheta.value=v,f.mipInt.value=_-r;const w=this._sizeLods[i],A=3*w*(i>_-Zd?i-_+Zd:0),M=4*(this._cubeSize-w);m0(n,A,M,3*w,2*w),l.setRenderTarget(n),l.render(d,NC)}}function Khe(t){const e=[],n=[],r=[];let i=t;const o=t-Zd+1+VD.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let l=1/a;s>t-Zd?l=VD[s-t+Zd-1]:s===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],m=6,v=6,x=3,y=2,g=1,S=new Float32Array(x*v*m),_=new Float32Array(y*v*m),w=new Float32Array(g*v*m);for(let M=0;M<m;M++){const P=M%3*2/3-1,I=M>2?0:-1,T=[P,I,0,P+2/3,I,0,P+2/3,I+1,0,P,I,0,P+2/3,I+1,0,P,I+1,0];S.set(T,x*v*M),_.set(f,y*v*M);const E=[M,M,M,M,M,M];w.set(E,g*v*M)}const A=new an;A.setAttribute("position",new En(S,x)),A.setAttribute("uv",new En(_,y)),A.setAttribute("faceIndex",new En(w,g)),e.push(A),i>Zd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function WD(t,e,n){const r=new bo(t,e,n);return r.texture.mapping=ih,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function m0(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Jhe(t,e,n){const r=new Float32Array($c),i=new re(0,1,0);return new to({name:"SphericalGaussianBlur",defines:{n:$c,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:hR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function jD(){return new to({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:hR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function XD(){return new to({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:hR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zs,depthTest:!1,depthWrite:!1})}function hR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Yhe(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Bf||l===Tm,u=l===oa||l===$l;if(c||u){let d=e.get(a);const f=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new yM(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&i(m)?(n===null&&(n=new yM(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",o),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function o(a){const l=a.target;l.removeEventListener("dispose",o);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function qhe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Qhe(t,e,n,r){const i={},o=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);for(const v in f.morphAttributes){const x=f.morphAttributes[v];for(let y=0,g=x.length;y<g;y++)e.remove(x[y])}f.removeEventListener("dispose",s),delete i[f.id];const m=o.get(f);m&&(e.remove(m),o.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const v in f)e.update(f[v],t.ARRAY_BUFFER);const m=d.morphAttributes;for(const v in m){const x=m[v];for(let y=0,g=x.length;y<g;y++)e.update(x[y],t.ARRAY_BUFFER)}}function c(d){const f=[],m=d.index,v=d.attributes.position;let x=0;if(m!==null){const S=m.array;x=m.version;for(let _=0,w=S.length;_<w;_+=3){const A=S[_+0],M=S[_+1],P=S[_+2];f.push(A,M,M,P,P,A)}}else if(v!==void 0){const S=v.array;x=v.version;for(let _=0,w=S.length/3-1;_<w;_+=3){const A=_+0,M=_+1,P=_+2;f.push(A,M,M,P,P,A)}}else return;const y=new(H6(f)?dR:uR)(f,1);y.version=x;const g=o.get(d);g&&e.remove(g),o.set(d,y)}function u(d){const f=o.get(d);if(f){const m=d.index;m!==null&&f.version<m.version&&c(d)}else c(d);return o.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Zhe(t,e,n){let r;function i(d){r=d}let o,s;function a(d){o=d.type,s=d.bytesPerElement}function l(d,f){t.drawElements(r,f,o,d*s),n.update(f,r,1)}function c(d,f,m){m!==0&&(t.drawElementsInstanced(r,f,o,d*s,m),n.update(f,r,m))}function u(d,f,m){if(m===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let x=0;x<m;x++)this.render(d[x]/s,f[x]);else{v.multiDrawElementsWEBGL(r,f,0,o,d,0,m);let x=0;for(let y=0;y<m;y++)x+=f[y];n.update(x,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u}function epe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function tpe(t,e,n){const r=new WeakMap,i=new Nn;function o(s,a,l){const c=s.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(a);if(f===void 0||f.count!==d){let E=function(){I.dispose(),r.delete(a),a.removeEventListener("dispose",E)};var m=E;f!==void 0&&f.texture.dispose();const v=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,y=a.morphAttributes.color!==void 0,g=a.morphAttributes.position||[],S=a.morphAttributes.normal||[],_=a.morphAttributes.color||[];let w=0;v===!0&&(w=1),x===!0&&(w=2),y===!0&&(w=3);let A=a.attributes.position.count*w,M=1;A>e.maxTextureSize&&(M=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const P=new Float32Array(A*M*4*d),I=new LS(P,A,M,d);I.type=Ar,I.needsUpdate=!0;const T=w*4;for(let B=0;B<d;B++){const F=g[B],L=S[B],z=_[B],G=A*M*4*B;for(let j=0;j<F.count;j++){const X=j*T;v===!0&&(i.fromBufferAttribute(F,j),P[G+X+0]=i.x,P[G+X+1]=i.y,P[G+X+2]=i.z,P[G+X+3]=0),x===!0&&(i.fromBufferAttribute(L,j),P[G+X+4]=i.x,P[G+X+5]=i.y,P[G+X+6]=i.z,P[G+X+7]=0),y===!0&&(i.fromBufferAttribute(z,j),P[G+X+8]=i.x,P[G+X+9]=i.y,P[G+X+10]=i.z,P[G+X+11]=z.itemSize===4?i.w:1)}}f={count:d,texture:I,size:new Qe(A,M)},r.set(a,f),a.addEventListener("dispose",E)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let v=0;for(let y=0;y<c.length;y++)v+=c[y];const x=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:o}}function npe(t,e,n,r){let i=new WeakMap;function o(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:o,dispose:s}}class pR extends Bn{constructor(e,n,r,i,o,s,a,l,c,u){if(u=u!==void 0?u:du,u!==du&&u!==Lf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===du&&(r=jl),r===void 0&&u===Lf&&(r=oh),super(null,i,o,s,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Ur,this.minFilter=l!==void 0?l:Ur,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const q6=new Bn,Q6=new pR(1,1);Q6.compareFunction=aR;const Z6=new LS,eV=new cR,tV=new pg,KD=[],JD=[],YD=new Float32Array(16),qD=new Float32Array(9),QD=new Float32Array(4);function sh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=KD[i];if(o===void 0&&(o=new Float32Array(i),KD[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function Hr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Vr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function DS(t,e){let n=JD[e];n===void 0&&(n=new Int32Array(e),JD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function rpe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ipe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Hr(n,e))return;t.uniform2fv(this.addr,e),Vr(n,e)}}function ope(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Hr(n,e))return;t.uniform3fv(this.addr,e),Vr(n,e)}}function spe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Hr(n,e))return;t.uniform4fv(this.addr,e),Vr(n,e)}}function ape(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Hr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Vr(n,e)}else{if(Hr(n,r))return;QD.set(r),t.uniformMatrix2fv(this.addr,!1,QD),Vr(n,r)}}function lpe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Hr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Vr(n,e)}else{if(Hr(n,r))return;qD.set(r),t.uniformMatrix3fv(this.addr,!1,qD),Vr(n,r)}}function cpe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Hr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Vr(n,e)}else{if(Hr(n,r))return;YD.set(r),t.uniformMatrix4fv(this.addr,!1,YD),Vr(n,r)}}function upe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function dpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Hr(n,e))return;t.uniform2iv(this.addr,e),Vr(n,e)}}function fpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Hr(n,e))return;t.uniform3iv(this.addr,e),Vr(n,e)}}function hpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Hr(n,e))return;t.uniform4iv(this.addr,e),Vr(n,e)}}function ppe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function mpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Hr(n,e))return;t.uniform2uiv(this.addr,e),Vr(n,e)}}function gpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Hr(n,e))return;t.uniform3uiv(this.addr,e),Vr(n,e)}}function vpe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Hr(n,e))return;t.uniform4uiv(this.addr,e),Vr(n,e)}}function ype(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?Q6:q6;n.setTexture2D(e||o,i)}function xpe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||eV,i)}function Spe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||tV,i)}function _pe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Z6,i)}function Cpe(t){switch(t){case 5126:return rpe;case 35664:return ipe;case 35665:return ope;case 35666:return spe;case 35674:return ape;case 35675:return lpe;case 35676:return cpe;case 5124:case 35670:return upe;case 35667:case 35671:return dpe;case 35668:case 35672:return fpe;case 35669:case 35673:return hpe;case 5125:return ppe;case 36294:return mpe;case 36295:return gpe;case 36296:return vpe;case 35678:case 36198:case 36298:case 36306:case 35682:return ype;case 35679:case 36299:case 36307:return xpe;case 35680:case 36300:case 36308:case 36293:return Spe;case 36289:case 36303:case 36311:case 36292:return _pe}}function bpe(t,e){t.uniform1fv(this.addr,e)}function wpe(t,e){const n=sh(e,this.size,2);t.uniform2fv(this.addr,n)}function Epe(t,e){const n=sh(e,this.size,3);t.uniform3fv(this.addr,n)}function Mpe(t,e){const n=sh(e,this.size,4);t.uniform4fv(this.addr,n)}function Ape(t,e){const n=sh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Tpe(t,e){const n=sh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Rpe(t,e){const n=sh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Ppe(t,e){t.uniform1iv(this.addr,e)}function Ipe(t,e){t.uniform2iv(this.addr,e)}function Bpe(t,e){t.uniform3iv(this.addr,e)}function Ope(t,e){t.uniform4iv(this.addr,e)}function Lpe(t,e){t.uniform1uiv(this.addr,e)}function Dpe(t,e){t.uniform2uiv(this.addr,e)}function Fpe(t,e){t.uniform3uiv(this.addr,e)}function Npe(t,e){t.uniform4uiv(this.addr,e)}function Upe(t,e,n){const r=this.cache,i=e.length,o=DS(n,i);Hr(r,o)||(t.uniform1iv(this.addr,o),Vr(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||q6,o[s])}function kpe(t,e,n){const r=this.cache,i=e.length,o=DS(n,i);Hr(r,o)||(t.uniform1iv(this.addr,o),Vr(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||eV,o[s])}function zpe(t,e,n){const r=this.cache,i=e.length,o=DS(n,i);Hr(r,o)||(t.uniform1iv(this.addr,o),Vr(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||tV,o[s])}function Hpe(t,e,n){const r=this.cache,i=e.length,o=DS(n,i);Hr(r,o)||(t.uniform1iv(this.addr,o),Vr(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||Z6,o[s])}function Vpe(t){switch(t){case 5126:return bpe;case 35664:return wpe;case 35665:return Epe;case 35666:return Mpe;case 35674:return Ape;case 35675:return Tpe;case 35676:return Rpe;case 5124:case 35670:return Ppe;case 35667:case 35671:return Ipe;case 35668:case 35672:return Bpe;case 35669:case 35673:return Ope;case 5125:return Lpe;case 36294:return Dpe;case 36295:return Fpe;case 36296:return Npe;case 35678:case 36198:case 36298:case 36306:case 35682:return Upe;case 35679:case 36299:case 36307:return kpe;case 35680:case 36300:case 36308:case 36293:return zpe;case 36289:case 36303:case 36311:case 36292:return Hpe}}class Gpe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Cpe(n.type)}}class $pe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Vpe(n.type)}}class Wpe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const VC=/(\w+)(\])?(\[|\.)?/g;function ZD(t,e){t.seq.push(e),t.map[e.id]=e}function jpe(t,e,n){const r=t.name,i=r.length;for(VC.lastIndex=0;;){const o=VC.exec(r),s=VC.lastIndex;let a=o[1];const l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===i){ZD(n,c===void 0?new Gpe(a,t,e):new $pe(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Wpe(a),ZD(n,d)),n=d}}}class Ay{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);jpe(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function eF(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Xpe=37297;let Kpe=0;function Jpe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}function Ype(t){const e=Fn.getPrimaries(Fn.workingColorSpace),n=Fn.getPrimaries(t);let r;switch(e===n?r="":e===Bm&&n===Im?r="LinearDisplayP3ToLinearSRGB":e===Im&&n===Bm&&(r="LinearSRGBToLinearDisplayP3"),t){case is:case fg:return[r,"LinearTransferOETF"];case po:case OS:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function tF(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+Jpe(t.getShaderSource(e),s)}else return i}function qpe(t,e){const n=Ype(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Qpe(t,e){let n;switch(e){case f6:n="Linear";break;case h6:n="Reinhard";break;case p6:n="OptimizedCineon";break;case JT:n="ACESFilmic";break;case g6:n="AgX";break;case v6:n="Neutral";break;case m6:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Zpe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(pp).join(`
`)}function eme(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function tme(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function pp(t){return t!==""}function nF(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function rF(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const nme=/^[ \t]*#include +<([\w\d./]+)>/gm;function xM(t){return t.replace(nme,ime)}const rme=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function ime(t,e){let n=dn[e];if(n===void 0){const r=rme.get(e);if(r!==void 0)n=dn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return xM(n)}const ome=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iF(t){return t.replace(ome,sme)}function sme(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function oF(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function ame(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===TS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Dp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===xs&&(e="SHADOWMAP_TYPE_VSM"),e}function lme(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case oa:case $l:e="ENVMAP_TYPE_CUBE";break;case ih:e="ENVMAP_TYPE_CUBE_UV";break}return e}function cme(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case $l:e="ENVMAP_MODE_REFRACTION";break}return e}function ume(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case dg:e="ENVMAP_BLENDING_MULTIPLY";break;case u6:e="ENVMAP_BLENDING_MIX";break;case d6:e="ENVMAP_BLENDING_ADD";break}return e}function dme(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function fme(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=ame(n),c=lme(n),u=cme(n),d=ume(n),f=dme(n),m=Zpe(n),v=eme(o),x=i.createProgram();let y,g,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(pp).join(`
`),y.length>0&&(y+=`
`),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(pp).join(`
`),g.length>0&&(g+=`
`)):(y=[oF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(pp).join(`
`),g=[oF(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ea?"#define TONE_MAPPING":"",n.toneMapping!==ea?dn.tonemapping_pars_fragment:"",n.toneMapping!==ea?Qpe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",dn.colorspace_pars_fragment,qpe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(pp).join(`
`)),s=xM(s),s=nF(s,n),s=rF(s,n),a=xM(a),a=nF(a,n),a=rF(a,n),s=iF(s),a=iF(a),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+y,g=["#define varying in",n.glslVersion===vM?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===vM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=S+y+s,w=S+g+a,A=eF(i,i.VERTEX_SHADER,_),M=eF(i,i.FRAGMENT_SHADER,w);i.attachShader(x,A),i.attachShader(x,M),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function P(B){if(t.debug.checkShaderErrors){const F=i.getProgramInfoLog(x).trim(),L=i.getShaderInfoLog(A).trim(),z=i.getShaderInfoLog(M).trim();let G=!0,j=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(G=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,A,M);else{const X=tF(i,A,"vertex"),N=tF(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+F+`
`+X+`
`+N)}else F!==""?console.warn("THREE.WebGLProgram: Program Info Log:",F):(L===""||z==="")&&(j=!1);j&&(B.diagnostics={runnable:G,programLog:F,vertexShader:{log:L,prefix:y},fragmentShader:{log:z,prefix:g}})}i.deleteShader(A),i.deleteShader(M),I=new Ay(i,x),T=tme(i,x)}let I;this.getUniforms=function(){return I===void 0&&P(this),I};let T;this.getAttributes=function(){return T===void 0&&P(this),T};let E=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return E===!1&&(E=i.getProgramParameter(x,Xpe)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Kpe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=A,this.fragmentShader=M,this}let hme=0;class pme{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new mme(e),n.set(e,r)),r}}class mme{constructor(e){this.id=hme++,this.code=e,this.usedTimes=0}}function gme(t,e,n,r,i,o,s){const a=new hu,l=new pme,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(T){return c.add(T),T===0?"uv":`uv${T}`}function y(T,E,B,F,L){const z=F.fog,G=L.geometry,j=T.isMeshStandardMaterial?F.environment:null,X=(T.isMeshStandardMaterial?n:e).get(T.envMap||j),N=X&&X.mapping===ih?X.image.height:null,W=v[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const V=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,ee=V!==void 0?V.length:0;let se=0;G.morphAttributes.position!==void 0&&(se=1),G.morphAttributes.normal!==void 0&&(se=2),G.morphAttributes.color!==void 0&&(se=3);let me,K,te,ae;if(W){const Pt=bs[W];me=Pt.vertexShader,K=Pt.fragmentShader}else me=T.vertexShader,K=T.fragmentShader,l.update(T),te=l.getVertexShaderID(T),ae=l.getFragmentShaderID(T);const de=t.getRenderTarget(),_e=L.isInstancedMesh===!0,Re=L.isBatchedMesh===!0,Te=!!T.map,Y=!!T.matcap,Q=!!X,ie=!!T.aoMap,ye=!!T.lightMap,fe=!!T.bumpMap,pe=!!T.normalMap,$=!!T.displacementMap,U=!!T.emissiveMap,le=!!T.metalnessMap,be=!!T.roughnessMap,we=T.anisotropy>0,Oe=T.clearcoat>0,De=T.iridescence>0,ge=T.sheen>0,Fe=T.transmission>0,Xe=we&&!!T.anisotropyMap,Ne=Oe&&!!T.clearcoatMap,He=Oe&&!!T.clearcoatNormalMap,Ye=Oe&&!!T.clearcoatRoughnessMap,Ke=De&&!!T.iridescenceMap,We=De&&!!T.iridescenceThicknessMap,ot=ge&&!!T.sheenColorMap,je=ge&&!!T.sheenRoughnessMap,Ze=!!T.specularMap,ft=!!T.specularColorMap,he=!!T.specularIntensityMap,Ee=Fe&&!!T.transmissionMap,Z=Fe&&!!T.thicknessMap,ze=!!T.gradientMap,Pe=!!T.alphaMap,ct=T.alphaTest>0,at=!!T.alphaHash,Ft=!!T.extensions;let Dt=ea;T.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(Dt=t.toneMapping);const Lt={shaderID:W,shaderType:T.type,shaderName:T.name,vertexShader:me,fragmentShader:K,defines:T.defines,customVertexShaderID:te,customFragmentShaderID:ae,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,batching:Re,instancing:_e,instancingColor:_e&&L.instanceColor!==null,instancingMorph:_e&&L.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:de===null?t.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:is,alphaToCoverage:!!T.alphaToCoverage,map:Te,matcap:Y,envMap:Q,envMapMode:Q&&X.mapping,envMapCubeUVHeight:N,aoMap:ie,lightMap:ye,bumpMap:fe,normalMap:pe,displacementMap:f&&$,emissiveMap:U,normalMapObjectSpace:pe&&T.normalMapType===B6,normalMapTangentSpace:pe&&T.normalMapType===oc,metalnessMap:le,roughnessMap:be,anisotropy:we,anisotropyMap:Xe,clearcoat:Oe,clearcoatMap:Ne,clearcoatNormalMap:He,clearcoatRoughnessMap:Ye,iridescence:De,iridescenceMap:Ke,iridescenceThicknessMap:We,sheen:ge,sheenColorMap:ot,sheenRoughnessMap:je,specularMap:Ze,specularColorMap:ft,specularIntensityMap:he,transmission:Fe,transmissionMap:Ee,thicknessMap:Z,gradientMap:ze,opaque:T.transparent===!1&&T.blending===uu&&T.alphaToCoverage===!1,alphaMap:Pe,alphaTest:ct,alphaHash:at,combine:T.combine,mapUv:Te&&x(T.map.channel),aoMapUv:ie&&x(T.aoMap.channel),lightMapUv:ye&&x(T.lightMap.channel),bumpMapUv:fe&&x(T.bumpMap.channel),normalMapUv:pe&&x(T.normalMap.channel),displacementMapUv:$&&x(T.displacementMap.channel),emissiveMapUv:U&&x(T.emissiveMap.channel),metalnessMapUv:le&&x(T.metalnessMap.channel),roughnessMapUv:be&&x(T.roughnessMap.channel),anisotropyMapUv:Xe&&x(T.anisotropyMap.channel),clearcoatMapUv:Ne&&x(T.clearcoatMap.channel),clearcoatNormalMapUv:He&&x(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ye&&x(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Ke&&x(T.iridescenceMap.channel),iridescenceThicknessMapUv:We&&x(T.iridescenceThicknessMap.channel),sheenColorMapUv:ot&&x(T.sheenColorMap.channel),sheenRoughnessMapUv:je&&x(T.sheenRoughnessMap.channel),specularMapUv:Ze&&x(T.specularMap.channel),specularColorMapUv:ft&&x(T.specularColorMap.channel),specularIntensityMapUv:he&&x(T.specularIntensityMap.channel),transmissionMapUv:Ee&&x(T.transmissionMap.channel),thicknessMapUv:Z&&x(T.thicknessMap.channel),alphaMapUv:Pe&&x(T.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(pe||we),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,pointsUvs:L.isPoints===!0&&!!G.attributes.uv&&(Te||Pe),fog:!!z,useFog:T.fog===!0,fogExp2:!!z&&z.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:d,skinning:L.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:se,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numLightProbes:E.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:Dt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Te&&T.map.isVideoTexture===!0&&Fn.getTransfer(T.map.colorSpace)===Kn,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Ko,flipSided:T.side===Ni,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:Ft&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Ft&&T.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return Lt.vertexUv1s=c.has(1),Lt.vertexUv2s=c.has(2),Lt.vertexUv3s=c.has(3),c.clear(),Lt}function g(T){const E=[];if(T.shaderID?E.push(T.shaderID):(E.push(T.customVertexShaderID),E.push(T.customFragmentShaderID)),T.defines!==void 0)for(const B in T.defines)E.push(B),E.push(T.defines[B]);return T.isRawShaderMaterial===!1&&(S(E,T),_(E,T),E.push(t.outputColorSpace)),E.push(T.customProgramCacheKey),E.join()}function S(T,E){T.push(E.precision),T.push(E.outputColorSpace),T.push(E.envMapMode),T.push(E.envMapCubeUVHeight),T.push(E.mapUv),T.push(E.alphaMapUv),T.push(E.lightMapUv),T.push(E.aoMapUv),T.push(E.bumpMapUv),T.push(E.normalMapUv),T.push(E.displacementMapUv),T.push(E.emissiveMapUv),T.push(E.metalnessMapUv),T.push(E.roughnessMapUv),T.push(E.anisotropyMapUv),T.push(E.clearcoatMapUv),T.push(E.clearcoatNormalMapUv),T.push(E.clearcoatRoughnessMapUv),T.push(E.iridescenceMapUv),T.push(E.iridescenceThicknessMapUv),T.push(E.sheenColorMapUv),T.push(E.sheenRoughnessMapUv),T.push(E.specularMapUv),T.push(E.specularColorMapUv),T.push(E.specularIntensityMapUv),T.push(E.transmissionMapUv),T.push(E.thicknessMapUv),T.push(E.combine),T.push(E.fogExp2),T.push(E.sizeAttenuation),T.push(E.morphTargetsCount),T.push(E.morphAttributeCount),T.push(E.numDirLights),T.push(E.numPointLights),T.push(E.numSpotLights),T.push(E.numSpotLightMaps),T.push(E.numHemiLights),T.push(E.numRectAreaLights),T.push(E.numDirLightShadows),T.push(E.numPointLightShadows),T.push(E.numSpotLightShadows),T.push(E.numSpotLightShadowsWithMaps),T.push(E.numLightProbes),T.push(E.shadowMapType),T.push(E.toneMapping),T.push(E.numClippingPlanes),T.push(E.numClipIntersection),T.push(E.depthPacking)}function _(T,E){a.disableAll(),E.supportsVertexTextures&&a.enable(0),E.instancing&&a.enable(1),E.instancingColor&&a.enable(2),E.instancingMorph&&a.enable(3),E.matcap&&a.enable(4),E.envMap&&a.enable(5),E.normalMapObjectSpace&&a.enable(6),E.normalMapTangentSpace&&a.enable(7),E.clearcoat&&a.enable(8),E.iridescence&&a.enable(9),E.alphaTest&&a.enable(10),E.vertexColors&&a.enable(11),E.vertexAlphas&&a.enable(12),E.vertexUv1s&&a.enable(13),E.vertexUv2s&&a.enable(14),E.vertexUv3s&&a.enable(15),E.vertexTangents&&a.enable(16),E.anisotropy&&a.enable(17),E.alphaHash&&a.enable(18),E.batching&&a.enable(19),T.push(a.mask),a.disableAll(),E.fog&&a.enable(0),E.useFog&&a.enable(1),E.flatShading&&a.enable(2),E.logarithmicDepthBuffer&&a.enable(3),E.skinning&&a.enable(4),E.morphTargets&&a.enable(5),E.morphNormals&&a.enable(6),E.morphColors&&a.enable(7),E.premultipliedAlpha&&a.enable(8),E.shadowMapEnabled&&a.enable(9),E.useLegacyLights&&a.enable(10),E.doubleSided&&a.enable(11),E.flipSided&&a.enable(12),E.useDepthPacking&&a.enable(13),E.dithering&&a.enable(14),E.transmission&&a.enable(15),E.sheen&&a.enable(16),E.opaque&&a.enable(17),E.pointsUvs&&a.enable(18),E.decodeVideoTexture&&a.enable(19),E.alphaToCoverage&&a.enable(20),T.push(a.mask)}function w(T){const E=v[T.type];let B;if(E){const F=bs[E];B=K6.clone(F.uniforms)}else B=T.uniforms;return B}function A(T,E){let B;for(let F=0,L=u.length;F<L;F++){const z=u[F];if(z.cacheKey===E){B=z,++B.usedTimes;break}}return B===void 0&&(B=new fme(t,E,T,o),u.push(B)),B}function M(T){if(--T.usedTimes===0){const E=u.indexOf(T);u[E]=u[u.length-1],u.pop(),T.destroy()}}function P(T){l.remove(T)}function I(){l.dispose()}return{getParameters:y,getProgramCacheKey:g,getUniforms:w,acquireProgram:A,releaseProgram:M,releaseShaderCache:P,programs:u,dispose:I}}function vme(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function r(o,s,a){t.get(o)[s]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function yme(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function sF(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function aF(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(d,f,m,v,x,y){let g=t[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:m,groupOrder:v,renderOrder:d.renderOrder,z:x,group:y},t[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=m,g.groupOrder=v,g.renderOrder=d.renderOrder,g.z=x,g.group=y),e++,g}function a(d,f,m,v,x,y){const g=s(d,f,m,v,x,y);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(d,f,m,v,x,y){const g=s(d,f,m,v,x,y);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function c(d,f){n.length>1&&n.sort(d||yme),r.length>1&&r.sort(f||sF),i.length>1&&i.sort(f||sF)}function u(){for(let d=e,f=t.length;d<f;d++){const m=t[d];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function xme(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new aF,t.set(r,[s])):i>=o.length?(s=new aF,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function Sme(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new re,color:new Rt};break;case"SpotLight":n={position:new re,direction:new re,color:new Rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new re,color:new Rt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new re,skyColor:new Rt,groundColor:new Rt};break;case"RectAreaLight":n={color:new Rt,position:new re,halfWidth:new re,halfHeight:new re};break}return t[e.id]=n,n}}}function _me(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Cme=0;function bme(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function wme(t){const e=new Sme,n=_me(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new re);const i=new re,o=new Jt,s=new Jt;function a(c,u){let d=0,f=0,m=0;for(let B=0;B<9;B++)r.probe[B].set(0,0,0);let v=0,x=0,y=0,g=0,S=0,_=0,w=0,A=0,M=0,P=0,I=0;c.sort(bme);const T=u===!0?Math.PI:1;for(let B=0,F=c.length;B<F;B++){const L=c[B],z=L.color,G=L.intensity,j=L.distance,X=L.shadow&&L.shadow.map?L.shadow.map.texture:null;if(L.isAmbientLight)d+=z.r*G*T,f+=z.g*G*T,m+=z.b*G*T;else if(L.isLightProbe){for(let N=0;N<9;N++)r.probe[N].addScaledVector(L.sh.coefficients[N],G);I++}else if(L.isDirectionalLight){const N=e.get(L);if(N.color.copy(L.color).multiplyScalar(L.intensity*T),L.castShadow){const W=L.shadow,V=n.get(L);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,r.directionalShadow[v]=V,r.directionalShadowMap[v]=X,r.directionalShadowMatrix[v]=L.shadow.matrix,_++}r.directional[v]=N,v++}else if(L.isSpotLight){const N=e.get(L);N.position.setFromMatrixPosition(L.matrixWorld),N.color.copy(z).multiplyScalar(G*T),N.distance=j,N.coneCos=Math.cos(L.angle),N.penumbraCos=Math.cos(L.angle*(1-L.penumbra)),N.decay=L.decay,r.spot[y]=N;const W=L.shadow;if(L.map&&(r.spotLightMap[M]=L.map,M++,W.updateMatrices(L),L.castShadow&&P++),r.spotLightMatrix[y]=W.matrix,L.castShadow){const V=n.get(L);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,r.spotShadow[y]=V,r.spotShadowMap[y]=X,A++}y++}else if(L.isRectAreaLight){const N=e.get(L);N.color.copy(z).multiplyScalar(G),N.halfWidth.set(L.width*.5,0,0),N.halfHeight.set(0,L.height*.5,0),r.rectArea[g]=N,g++}else if(L.isPointLight){const N=e.get(L);if(N.color.copy(L.color).multiplyScalar(L.intensity*T),N.distance=L.distance,N.decay=L.decay,L.castShadow){const W=L.shadow,V=n.get(L);V.shadowBias=W.bias,V.shadowNormalBias=W.normalBias,V.shadowRadius=W.radius,V.shadowMapSize=W.mapSize,V.shadowCameraNear=W.camera.near,V.shadowCameraFar=W.camera.far,r.pointShadow[x]=V,r.pointShadowMap[x]=X,r.pointShadowMatrix[x]=L.shadow.matrix,w++}r.point[x]=N,x++}else if(L.isHemisphereLight){const N=e.get(L);N.skyColor.copy(L.color).multiplyScalar(G*T),N.groundColor.copy(L.groundColor).multiplyScalar(G*T),r.hemi[S]=N,S++}}g>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Tt.LTC_FLOAT_1,r.rectAreaLTC2=Tt.LTC_FLOAT_2):(r.rectAreaLTC1=Tt.LTC_HALF_1,r.rectAreaLTC2=Tt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=f,r.ambient[2]=m;const E=r.hash;(E.directionalLength!==v||E.pointLength!==x||E.spotLength!==y||E.rectAreaLength!==g||E.hemiLength!==S||E.numDirectionalShadows!==_||E.numPointShadows!==w||E.numSpotShadows!==A||E.numSpotMaps!==M||E.numLightProbes!==I)&&(r.directional.length=v,r.spot.length=y,r.rectArea.length=g,r.point.length=x,r.hemi.length=S,r.directionalShadow.length=_,r.directionalShadowMap.length=_,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=_,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=A+M-P,r.spotLightMap.length=M,r.numSpotLightShadowsWithMaps=P,r.numLightProbes=I,E.directionalLength=v,E.pointLength=x,E.spotLength=y,E.rectAreaLength=g,E.hemiLength=S,E.numDirectionalShadows=_,E.numPointShadows=w,E.numSpotShadows=A,E.numSpotMaps=M,E.numLightProbes=I,r.version=Cme++)}function l(c,u){let d=0,f=0,m=0,v=0,x=0;const y=u.matrixWorldInverse;for(let g=0,S=c.length;g<S;g++){const _=c[g];if(_.isDirectionalLight){const w=r.directional[d];w.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(y),d++}else if(_.isSpotLight){const w=r.spot[m];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),w.direction.sub(i),w.direction.transformDirection(y),m++}else if(_.isRectAreaLight){const w=r.rectArea[v];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),s.identity(),o.copy(_.matrixWorld),o.premultiply(y),s.extractRotation(o),w.halfWidth.set(_.width*.5,0,0),w.halfHeight.set(0,_.height*.5,0),w.halfWidth.applyMatrix4(s),w.halfHeight.applyMatrix4(s),v++}else if(_.isPointLight){const w=r.point[f];w.position.setFromMatrixPosition(_.matrixWorld),w.position.applyMatrix4(y),f++}else if(_.isHemisphereLight){const w=r.hemi[x];w.direction.setFromMatrixPosition(_.matrixWorld),w.direction.transformDirection(y),x++}}}return{setup:a,setupView:l,state:r}}function lF(t){const e=new wme(t),n=[],r=[];function i(){n.length=0,r.length=0}function o(u){n.push(u)}function s(u){r.push(u)}function a(u){e.setup(n,u)}function l(u){e.setupView(n,u)}return{init:i,state:{lightsArray:n,shadowsArray:r,lights:e,transmissionRenderTarget:null},setupLights:a,setupLightsView:l,pushLight:o,pushShadow:s}}function Eme(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new lF(t),e.set(i,[a])):o>=s.length?(a=new lF(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}class mR extends Or{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=P6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class gR extends Or{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Mme=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Ame=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Tme(t,e,n){let r=new mg;const i=new Qe,o=new Qe,s=new Nn,a=new mR({depthPacking:I6}),l=new gR,c={},u=n.maxTextureSize,d={[ia]:Ni,[Ni]:ia,[Ko]:Ko},f=new to({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Qe},radius:{value:4}},vertexShader:Mme,fragmentShader:Ame}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const v=new an;v.setAttribute("position",new En(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new ir(v,f),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=TS;let g=this.type;this.render=function(M,P,I){if(y.enabled===!1||y.autoUpdate===!1&&y.needsUpdate===!1||M.length===0)return;const T=t.getRenderTarget(),E=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),F=t.state;F.setBlending(Zs),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const L=g!==xs&&this.type===xs,z=g===xs&&this.type!==xs;for(let G=0,j=M.length;G<j;G++){const X=M[G],N=X.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const W=N.getFrameExtents();if(i.multiply(W),o.copy(N.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/W.x),i.x=o.x*W.x,N.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/W.y),i.y=o.y*W.y,N.mapSize.y=o.y)),N.map===null||L===!0||z===!0){const ee=this.type!==xs?{minFilter:Ur,magFilter:Ur}:{};N.map!==null&&N.map.dispose(),N.map=new bo(i.x,i.y,ee),N.map.texture.name=X.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const V=N.getViewportCount();for(let ee=0;ee<V;ee++){const se=N.getViewport(ee);s.set(o.x*se.x,o.y*se.y,o.x*se.z,o.y*se.w),F.viewport(s),N.updateMatrices(X,ee),r=N.getFrustum(),w(P,I,N.camera,X,this.type)}N.isPointLightShadow!==!0&&this.type===xs&&S(N,I),N.needsUpdate=!1}g=this.type,y.needsUpdate=!1,t.setRenderTarget(T,E,B)};function S(M,P){const I=e.update(x);f.defines.VSM_SAMPLES!==M.blurSamples&&(f.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new bo(i.x,i.y)),f.uniforms.shadow_pass.value=M.map.texture,f.uniforms.resolution.value=M.mapSize,f.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(P,null,I,f,x,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(P,null,I,m,x,null)}function _(M,P,I,T){let E=null;const B=I.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(B!==void 0)E=B;else if(E=I.isPointLight===!0?l:a,t.localClippingEnabled&&P.clipShadows===!0&&Array.isArray(P.clippingPlanes)&&P.clippingPlanes.length!==0||P.displacementMap&&P.displacementScale!==0||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const F=E.uuid,L=P.uuid;let z=c[F];z===void 0&&(z={},c[F]=z);let G=z[L];G===void 0&&(G=E.clone(),z[L]=G,P.addEventListener("dispose",A)),E=G}if(E.visible=P.visible,E.wireframe=P.wireframe,T===xs?E.side=P.shadowSide!==null?P.shadowSide:P.side:E.side=P.shadowSide!==null?P.shadowSide:d[P.side],E.alphaMap=P.alphaMap,E.alphaTest=P.alphaTest,E.map=P.map,E.clipShadows=P.clipShadows,E.clippingPlanes=P.clippingPlanes,E.clipIntersection=P.clipIntersection,E.displacementMap=P.displacementMap,E.displacementScale=P.displacementScale,E.displacementBias=P.displacementBias,E.wireframeLinewidth=P.wireframeLinewidth,E.linewidth=P.linewidth,I.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const F=t.properties.get(E);F.light=I}return E}function w(M,P,I,T,E){if(M.visible===!1)return;if(M.layers.test(P.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&E===xs)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,M.matrixWorld);const L=e.update(M),z=M.material;if(Array.isArray(z)){const G=L.groups;for(let j=0,X=G.length;j<X;j++){const N=G[j],W=z[N.materialIndex];if(W&&W.visible){const V=_(M,W,T,E);M.onBeforeShadow(t,M,P,I,L,V,N),t.renderBufferDirect(I,null,L,V,M,N),M.onAfterShadow(t,M,P,I,L,V,N)}}}else if(z.visible){const G=_(M,z,T,E);M.onBeforeShadow(t,M,P,I,L,G,null),t.renderBufferDirect(I,null,L,G,M,null),M.onAfterShadow(t,M,P,I,L,G,null)}}const F=M.children;for(let L=0,z=F.length;L<z;L++)w(F[L],P,I,T,E)}function A(M){M.target.removeEventListener("dispose",A);for(const I in c){const T=c[I],E=M.target.uuid;E in T&&(T[E].dispose(),delete T[E])}}}function Rme(t){function e(){let Z=!1;const ze=new Nn;let Pe=null;const ct=new Nn(0,0,0,0);return{setMask:function(at){Pe!==at&&!Z&&(t.colorMask(at,at,at,at),Pe=at)},setLocked:function(at){Z=at},setClear:function(at,Ft,Dt,Lt,Pt){Pt===!0&&(at*=Lt,Ft*=Lt,Dt*=Lt),ze.set(at,Ft,Dt,Lt),ct.equals(ze)===!1&&(t.clearColor(at,Ft,Dt,Lt),ct.copy(ze))},reset:function(){Z=!1,Pe=null,ct.set(-1,0,0,0)}}}function n(){let Z=!1,ze=null,Pe=null,ct=null;return{setTest:function(at){at?ae(t.DEPTH_TEST):de(t.DEPTH_TEST)},setMask:function(at){ze!==at&&!Z&&(t.depthMask(at),ze=at)},setFunc:function(at){if(Pe!==at){switch(at){case r6:t.depthFunc(t.NEVER);break;case i6:t.depthFunc(t.ALWAYS);break;case o6:t.depthFunc(t.LESS);break;case Am:t.depthFunc(t.LEQUAL);break;case s6:t.depthFunc(t.EQUAL);break;case a6:t.depthFunc(t.GEQUAL);break;case l6:t.depthFunc(t.GREATER);break;case c6:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Pe=at}},setLocked:function(at){Z=at},setClear:function(at){ct!==at&&(t.clearDepth(at),ct=at)},reset:function(){Z=!1,ze=null,Pe=null,ct=null}}}function r(){let Z=!1,ze=null,Pe=null,ct=null,at=null,Ft=null,Dt=null,Lt=null,Pt=null;return{setTest:function(st){Z||(st?ae(t.STENCIL_TEST):de(t.STENCIL_TEST))},setMask:function(st){ze!==st&&!Z&&(t.stencilMask(st),ze=st)},setFunc:function(st,ut,lt){(Pe!==st||ct!==ut||at!==lt)&&(t.stencilFunc(st,ut,lt),Pe=st,ct=ut,at=lt)},setOp:function(st,ut,lt){(Ft!==st||Dt!==ut||Lt!==lt)&&(t.stencilOp(st,ut,lt),Ft=st,Dt=ut,Lt=lt)},setLocked:function(st){Z=st},setClear:function(st){Pt!==st&&(t.clearStencil(st),Pt=st)},reset:function(){Z=!1,ze=null,Pe=null,ct=null,at=null,Ft=null,Dt=null,Lt=null,Pt=null}}}const i=new e,o=new n,s=new r,a=new WeakMap,l=new WeakMap;let c={},u={},d=new WeakMap,f=[],m=null,v=!1,x=null,y=null,g=null,S=null,_=null,w=null,A=null,M=new Rt(0,0,0),P=0,I=!1,T=null,E=null,B=null,F=null,L=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,j=0;const X=t.getParameter(t.VERSION);X.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(X)[1]),G=j>=1):X.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),G=j>=2);let N=null,W={};const V=t.getParameter(t.SCISSOR_BOX),ee=t.getParameter(t.VIEWPORT),se=new Nn().fromArray(V),me=new Nn().fromArray(ee);function K(Z,ze,Pe,ct){const at=new Uint8Array(4),Ft=t.createTexture();t.bindTexture(Z,Ft),t.texParameteri(Z,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Z,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Dt=0;Dt<Pe;Dt++)Z===t.TEXTURE_3D||Z===t.TEXTURE_2D_ARRAY?t.texImage3D(ze,0,t.RGBA,1,1,ct,0,t.RGBA,t.UNSIGNED_BYTE,at):t.texImage2D(ze+Dt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,at);return Ft}const te={};te[t.TEXTURE_2D]=K(t.TEXTURE_2D,t.TEXTURE_2D,1),te[t.TEXTURE_CUBE_MAP]=K(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),te[t.TEXTURE_2D_ARRAY]=K(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),te[t.TEXTURE_3D]=K(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),s.setClear(0),ae(t.DEPTH_TEST),o.setFunc(Am),fe(!1),pe(kE),ae(t.CULL_FACE),ie(Zs);function ae(Z){c[Z]!==!0&&(t.enable(Z),c[Z]=!0)}function de(Z){c[Z]!==!1&&(t.disable(Z),c[Z]=!1)}function _e(Z,ze){return u[Z]!==ze?(t.bindFramebuffer(Z,ze),u[Z]=ze,Z===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=ze),Z===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=ze),!0):!1}function Re(Z,ze){let Pe=f,ct=!1;if(Z){Pe=d.get(ze),Pe===void 0&&(Pe=[],d.set(ze,Pe));const at=Z.textures;if(Pe.length!==at.length||Pe[0]!==t.COLOR_ATTACHMENT0){for(let Ft=0,Dt=at.length;Ft<Dt;Ft++)Pe[Ft]=t.COLOR_ATTACHMENT0+Ft;Pe.length=at.length,ct=!0}}else Pe[0]!==t.BACK&&(Pe[0]=t.BACK,ct=!0);ct&&t.drawBuffers(Pe)}function Te(Z){return m!==Z?(t.useProgram(Z),m=Z,!0):!1}const Y={[bl]:t.FUNC_ADD,[z5]:t.FUNC_SUBTRACT,[H5]:t.FUNC_REVERSE_SUBTRACT};Y[V5]=t.MIN,Y[G5]=t.MAX;const Q={[$5]:t.ZERO,[W5]:t.ONE,[j5]:t.SRC_COLOR,[yx]:t.SRC_ALPHA,[Q5]:t.SRC_ALPHA_SATURATE,[Y5]:t.DST_COLOR,[K5]:t.DST_ALPHA,[X5]:t.ONE_MINUS_SRC_COLOR,[xx]:t.ONE_MINUS_SRC_ALPHA,[q5]:t.ONE_MINUS_DST_COLOR,[J5]:t.ONE_MINUS_DST_ALPHA,[Z5]:t.CONSTANT_COLOR,[e6]:t.ONE_MINUS_CONSTANT_COLOR,[t6]:t.CONSTANT_ALPHA,[n6]:t.ONE_MINUS_CONSTANT_ALPHA};function ie(Z,ze,Pe,ct,at,Ft,Dt,Lt,Pt,st){if(Z===Zs){v===!0&&(de(t.BLEND),v=!1);return}if(v===!1&&(ae(t.BLEND),v=!0),Z!==k5){if(Z!==x||st!==I){if((y!==bl||_!==bl)&&(t.blendEquation(t.FUNC_ADD),y=bl,_=bl),st)switch(Z){case uu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zE:t.blendFunc(t.ONE,t.ONE);break;case HE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case VE:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case uu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case zE:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case HE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case VE:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}g=null,S=null,w=null,A=null,M.set(0,0,0),P=0,x=Z,I=st}return}at=at||ze,Ft=Ft||Pe,Dt=Dt||ct,(ze!==y||at!==_)&&(t.blendEquationSeparate(Y[ze],Y[at]),y=ze,_=at),(Pe!==g||ct!==S||Ft!==w||Dt!==A)&&(t.blendFuncSeparate(Q[Pe],Q[ct],Q[Ft],Q[Dt]),g=Pe,S=ct,w=Ft,A=Dt),(Lt.equals(M)===!1||Pt!==P)&&(t.blendColor(Lt.r,Lt.g,Lt.b,Pt),M.copy(Lt),P=Pt),x=Z,I=!1}function ye(Z,ze){Z.side===Ko?de(t.CULL_FACE):ae(t.CULL_FACE);let Pe=Z.side===Ni;ze&&(Pe=!Pe),fe(Pe),Z.blending===uu&&Z.transparent===!1?ie(Zs):ie(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),o.setFunc(Z.depthFunc),o.setTest(Z.depthTest),o.setMask(Z.depthWrite),i.setMask(Z.colorWrite);const ct=Z.stencilWrite;s.setTest(ct),ct&&(s.setMask(Z.stencilWriteMask),s.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),s.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),U(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?ae(t.SAMPLE_ALPHA_TO_COVERAGE):de(t.SAMPLE_ALPHA_TO_COVERAGE)}function fe(Z){T!==Z&&(Z?t.frontFace(t.CW):t.frontFace(t.CCW),T=Z)}function pe(Z){Z!==F5?(ae(t.CULL_FACE),Z!==E&&(Z===kE?t.cullFace(t.BACK):Z===N5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):de(t.CULL_FACE),E=Z}function $(Z){Z!==B&&(G&&t.lineWidth(Z),B=Z)}function U(Z,ze,Pe){Z?(ae(t.POLYGON_OFFSET_FILL),(F!==ze||L!==Pe)&&(t.polygonOffset(ze,Pe),F=ze,L=Pe)):de(t.POLYGON_OFFSET_FILL)}function le(Z){Z?ae(t.SCISSOR_TEST):de(t.SCISSOR_TEST)}function be(Z){Z===void 0&&(Z=t.TEXTURE0+z-1),N!==Z&&(t.activeTexture(Z),N=Z)}function we(Z,ze,Pe){Pe===void 0&&(N===null?Pe=t.TEXTURE0+z-1:Pe=N);let ct=W[Pe];ct===void 0&&(ct={type:void 0,texture:void 0},W[Pe]=ct),(ct.type!==Z||ct.texture!==ze)&&(N!==Pe&&(t.activeTexture(Pe),N=Pe),t.bindTexture(Z,ze||te[Z]),ct.type=Z,ct.texture=ze)}function Oe(){const Z=W[N];Z!==void 0&&Z.type!==void 0&&(t.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function De(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ge(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Fe(){try{t.texSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Xe(){try{t.texSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ne(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function He(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ye(){try{t.texStorage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ke(){try{t.texStorage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function We(){try{t.texImage2D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ot(){try{t.texImage3D.apply(t,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function je(Z){se.equals(Z)===!1&&(t.scissor(Z.x,Z.y,Z.z,Z.w),se.copy(Z))}function Ze(Z){me.equals(Z)===!1&&(t.viewport(Z.x,Z.y,Z.z,Z.w),me.copy(Z))}function ft(Z,ze){let Pe=l.get(ze);Pe===void 0&&(Pe=new WeakMap,l.set(ze,Pe));let ct=Pe.get(Z);ct===void 0&&(ct=t.getUniformBlockIndex(ze,Z.name),Pe.set(Z,ct))}function he(Z,ze){const ct=l.get(ze).get(Z);a.get(ze)!==ct&&(t.uniformBlockBinding(ze,ct,Z.__bindingPointIndex),a.set(ze,ct))}function Ee(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},N=null,W={},u={},d=new WeakMap,f=[],m=null,v=!1,x=null,y=null,g=null,S=null,_=null,w=null,A=null,M=new Rt(0,0,0),P=0,I=!1,T=null,E=null,B=null,F=null,L=null,se.set(0,0,t.canvas.width,t.canvas.height),me.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),s.reset()}return{buffers:{color:i,depth:o,stencil:s},enable:ae,disable:de,bindFramebuffer:_e,drawBuffers:Re,useProgram:Te,setBlending:ie,setMaterial:ye,setFlipSided:fe,setCullFace:pe,setLineWidth:$,setPolygonOffset:U,setScissorTest:le,activeTexture:be,bindTexture:we,unbindTexture:Oe,compressedTexImage2D:De,compressedTexImage3D:ge,texImage2D:We,texImage3D:ot,updateUBOMapping:ft,uniformBlockBinding:he,texStorage2D:Ye,texStorage3D:Ke,texSubImage2D:Fe,texSubImage3D:Xe,compressedTexSubImage2D:Ne,compressedTexSubImage3D:He,scissor:je,viewport:Ze,reset:Ee}}function Pme(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Qe,u=new WeakMap;let d;const f=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v($,U){return m?new OffscreenCanvas($,U):Dm("canvas")}function x($,U,le){let be=1;const we=pe($);if((we.width>le||we.height>le)&&(be=le/Math.max(we.width,we.height)),be<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const Oe=Math.floor(be*we.width),De=Math.floor(be*we.height);d===void 0&&(d=v(Oe,De));const ge=U?v(Oe,De):d;return ge.width=Oe,ge.height=De,ge.getContext("2d").drawImage($,0,0,Oe,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+we.width+"x"+we.height+") to ("+Oe+"x"+De+")."),ge}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+we.width+"x"+we.height+")."),$;return $}function y($){return $.generateMipmaps&&$.minFilter!==Ur&&$.minFilter!==In}function g($){t.generateMipmap($)}function S($,U,le,be,we=!1){if($!==null){if(t[$]!==void 0)return t[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Oe=U;if(U===t.RED&&(le===t.FLOAT&&(Oe=t.R32F),le===t.HALF_FLOAT&&(Oe=t.R16F),le===t.UNSIGNED_BYTE&&(Oe=t.R8)),U===t.RED_INTEGER&&(le===t.UNSIGNED_BYTE&&(Oe=t.R8UI),le===t.UNSIGNED_SHORT&&(Oe=t.R16UI),le===t.UNSIGNED_INT&&(Oe=t.R32UI),le===t.BYTE&&(Oe=t.R8I),le===t.SHORT&&(Oe=t.R16I),le===t.INT&&(Oe=t.R32I)),U===t.RG&&(le===t.FLOAT&&(Oe=t.RG32F),le===t.HALF_FLOAT&&(Oe=t.RG16F),le===t.UNSIGNED_BYTE&&(Oe=t.RG8)),U===t.RG_INTEGER&&(le===t.UNSIGNED_BYTE&&(Oe=t.RG8UI),le===t.UNSIGNED_SHORT&&(Oe=t.RG16UI),le===t.UNSIGNED_INT&&(Oe=t.RG32UI),le===t.BYTE&&(Oe=t.RG8I),le===t.SHORT&&(Oe=t.RG16I),le===t.INT&&(Oe=t.RG32I)),U===t.RGB&&le===t.UNSIGNED_INT_5_9_9_9_REV&&(Oe=t.RGB9_E5),U===t.RGBA){const De=we?Pm:Fn.getTransfer(be);le===t.FLOAT&&(Oe=t.RGBA32F),le===t.HALF_FLOAT&&(Oe=t.RGBA16F),le===t.UNSIGNED_BYTE&&(Oe=De===Kn?t.SRGB8_ALPHA8:t.RGBA8),le===t.UNSIGNED_SHORT_4_4_4_4&&(Oe=t.RGBA4),le===t.UNSIGNED_SHORT_5_5_5_1&&(Oe=t.RGB5_A1)}return(Oe===t.R16F||Oe===t.R32F||Oe===t.RG16F||Oe===t.RG32F||Oe===t.RGBA16F||Oe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function _($,U){return y($)===!0||$.isFramebufferTexture&&$.minFilter!==Ur&&$.minFilter!==In?Math.log2(Math.max(U.width,U.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?U.mipmaps.length:1}function w($){const U=$.target;U.removeEventListener("dispose",w),M(U),U.isVideoTexture&&u.delete(U)}function A($){const U=$.target;U.removeEventListener("dispose",A),I(U)}function M($){const U=r.get($);if(U.__webglInit===void 0)return;const le=$.source,be=f.get(le);if(be){const we=be[U.__cacheKey];we.usedTimes--,we.usedTimes===0&&P($),Object.keys(be).length===0&&f.delete(le)}r.remove($)}function P($){const U=r.get($);t.deleteTexture(U.__webglTexture);const le=$.source,be=f.get(le);delete be[U.__cacheKey],s.memory.textures--}function I($){const U=r.get($);if($.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let be=0;be<6;be++){if(Array.isArray(U.__webglFramebuffer[be]))for(let we=0;we<U.__webglFramebuffer[be].length;we++)t.deleteFramebuffer(U.__webglFramebuffer[be][we]);else t.deleteFramebuffer(U.__webglFramebuffer[be]);U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer[be])}else{if(Array.isArray(U.__webglFramebuffer))for(let be=0;be<U.__webglFramebuffer.length;be++)t.deleteFramebuffer(U.__webglFramebuffer[be]);else t.deleteFramebuffer(U.__webglFramebuffer);if(U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&t.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer)for(let be=0;be<U.__webglColorRenderbuffer.length;be++)U.__webglColorRenderbuffer[be]&&t.deleteRenderbuffer(U.__webglColorRenderbuffer[be]);U.__webglDepthRenderbuffer&&t.deleteRenderbuffer(U.__webglDepthRenderbuffer)}const le=$.textures;for(let be=0,we=le.length;be<we;be++){const Oe=r.get(le[be]);Oe.__webglTexture&&(t.deleteTexture(Oe.__webglTexture),s.memory.textures--),r.remove(le[be])}r.remove($)}let T=0;function E(){T=0}function B(){const $=T;return $>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+i.maxTextures),T+=1,$}function F($){const U=[];return U.push($.wrapS),U.push($.wrapT),U.push($.wrapR||0),U.push($.magFilter),U.push($.minFilter),U.push($.anisotropy),U.push($.internalFormat),U.push($.format),U.push($.type),U.push($.generateMipmaps),U.push($.premultiplyAlpha),U.push($.flipY),U.push($.unpackAlignment),U.push($.colorSpace),U.join()}function L($,U){const le=r.get($);if($.isVideoTexture&&ye($),$.isRenderTargetTexture===!1&&$.version>0&&le.__version!==$.version){const be=$.image;if(be===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(be.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(le,$,U);return}}n.bindTexture(t.TEXTURE_2D,le.__webglTexture,t.TEXTURE0+U)}function z($,U){const le=r.get($);if($.version>0&&le.__version!==$.version){se(le,$,U);return}n.bindTexture(t.TEXTURE_2D_ARRAY,le.__webglTexture,t.TEXTURE0+U)}function G($,U){const le=r.get($);if($.version>0&&le.__version!==$.version){se(le,$,U);return}n.bindTexture(t.TEXTURE_3D,le.__webglTexture,t.TEXTURE0+U)}function j($,U){const le=r.get($);if($.version>0&&le.__version!==$.version){me(le,$,U);return}n.bindTexture(t.TEXTURE_CUBE_MAP,le.__webglTexture,t.TEXTURE0+U)}const X={[Wl]:t.REPEAT,[Mr]:t.CLAMP_TO_EDGE,[Of]:t.MIRRORED_REPEAT},N={[Ur]:t.NEAREST,[RS]:t.NEAREST_MIPMAP_NEAREST,[Qc]:t.NEAREST_MIPMAP_LINEAR,[In]:t.LINEAR,[ff]:t.LINEAR_MIPMAP_NEAREST,[Qo]:t.LINEAR_MIPMAP_LINEAR},W={[O6]:t.NEVER,[k6]:t.ALWAYS,[L6]:t.LESS,[aR]:t.LEQUAL,[D6]:t.EQUAL,[U6]:t.GEQUAL,[F6]:t.GREATER,[N6]:t.NOTEQUAL};function V($,U){if(U.type===Ar&&e.has("OES_texture_float_linear")===!1&&(U.magFilter===In||U.magFilter===ff||U.magFilter===Qc||U.magFilter===Qo||U.minFilter===In||U.minFilter===ff||U.minFilter===Qc||U.minFilter===Qo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri($,t.TEXTURE_WRAP_S,X[U.wrapS]),t.texParameteri($,t.TEXTURE_WRAP_T,X[U.wrapT]),($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)&&t.texParameteri($,t.TEXTURE_WRAP_R,X[U.wrapR]),t.texParameteri($,t.TEXTURE_MAG_FILTER,N[U.magFilter]),t.texParameteri($,t.TEXTURE_MIN_FILTER,N[U.minFilter]),U.compareFunction&&(t.texParameteri($,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri($,t.TEXTURE_COMPARE_FUNC,W[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(U.magFilter===Ur||U.minFilter!==Qc&&U.minFilter!==Qo||U.type===Ar&&e.has("OES_texture_float_linear")===!1)return;if(U.anisotropy>1||r.get(U).__currentAnisotropy){const le=e.get("EXT_texture_filter_anisotropic");t.texParameterf($,le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy}}}function ee($,U){let le=!1;$.__webglInit===void 0&&($.__webglInit=!0,U.addEventListener("dispose",w));const be=U.source;let we=f.get(be);we===void 0&&(we={},f.set(be,we));const Oe=F(U);if(Oe!==$.__cacheKey){we[Oe]===void 0&&(we[Oe]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,le=!0),we[Oe].usedTimes++;const De=we[$.__cacheKey];De!==void 0&&(we[$.__cacheKey].usedTimes--,De.usedTimes===0&&P(U)),$.__cacheKey=Oe,$.__webglTexture=we[Oe].texture}return le}function se($,U,le){let be=t.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(be=t.TEXTURE_2D_ARRAY),U.isData3DTexture&&(be=t.TEXTURE_3D);const we=ee($,U),Oe=U.source;n.bindTexture(be,$.__webglTexture,t.TEXTURE0+le);const De=r.get(Oe);if(Oe.version!==De.__version||we===!0){n.activeTexture(t.TEXTURE0+le);const ge=Fn.getPrimaries(Fn.workingColorSpace),Fe=U.colorSpace===Ma?null:Fn.getPrimaries(U.colorSpace),Xe=U.colorSpace===Ma||ge===Fe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);let Ne=x(U.image,!1,i.maxTextureSize);Ne=fe(U,Ne);const He=o.convert(U.format,U.colorSpace),Ye=o.convert(U.type);let Ke=S(U.internalFormat,He,Ye,U.colorSpace,U.isVideoTexture);V(be,U);let We;const ot=U.mipmaps,je=U.isVideoTexture!==!0&&Ke!==iR,Ze=De.__version===void 0||we===!0,ft=Oe.dataReady,he=_(U,Ne);if(U.isDepthTexture)Ke=t.DEPTH_COMPONENT16,U.type===Ar?Ke=t.DEPTH_COMPONENT32F:U.type===jl?Ke=t.DEPTH_COMPONENT24:U.type===oh&&(Ke=t.DEPTH24_STENCIL8),Ze&&(je?n.texStorage2D(t.TEXTURE_2D,1,Ke,Ne.width,Ne.height):n.texImage2D(t.TEXTURE_2D,0,Ke,Ne.width,Ne.height,0,He,Ye,null));else if(U.isDataTexture)if(ot.length>0){je&&Ze&&n.texStorage2D(t.TEXTURE_2D,he,Ke,ot[0].width,ot[0].height);for(let Ee=0,Z=ot.length;Ee<Z;Ee++)We=ot[Ee],je?ft&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,We.width,We.height,He,Ye,We.data):n.texImage2D(t.TEXTURE_2D,Ee,Ke,We.width,We.height,0,He,Ye,We.data);U.generateMipmaps=!1}else je?(Ze&&n.texStorage2D(t.TEXTURE_2D,he,Ke,Ne.width,Ne.height),ft&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ne.width,Ne.height,He,Ye,Ne.data)):n.texImage2D(t.TEXTURE_2D,0,Ke,Ne.width,Ne.height,0,He,Ye,Ne.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){je&&Ze&&n.texStorage3D(t.TEXTURE_2D_ARRAY,he,Ke,ot[0].width,ot[0].height,Ne.depth);for(let Ee=0,Z=ot.length;Ee<Z;Ee++)We=ot[Ee],U.format!==kr?He!==null?je?ft&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,We.width,We.height,Ne.depth,He,We.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ee,Ke,We.width,We.height,Ne.depth,0,We.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):je?ft&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ee,0,0,0,We.width,We.height,Ne.depth,He,Ye,We.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ee,Ke,We.width,We.height,Ne.depth,0,He,Ye,We.data)}else{je&&Ze&&n.texStorage2D(t.TEXTURE_2D,he,Ke,ot[0].width,ot[0].height);for(let Ee=0,Z=ot.length;Ee<Z;Ee++)We=ot[Ee],U.format!==kr?He!==null?je?ft&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ee,0,0,We.width,We.height,He,We.data):n.compressedTexImage2D(t.TEXTURE_2D,Ee,Ke,We.width,We.height,0,We.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):je?ft&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,We.width,We.height,He,Ye,We.data):n.texImage2D(t.TEXTURE_2D,Ee,Ke,We.width,We.height,0,He,Ye,We.data)}else if(U.isDataArrayTexture)je?(Ze&&n.texStorage3D(t.TEXTURE_2D_ARRAY,he,Ke,Ne.width,Ne.height,Ne.depth),ft&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ne.width,Ne.height,Ne.depth,He,Ye,Ne.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ke,Ne.width,Ne.height,Ne.depth,0,He,Ye,Ne.data);else if(U.isData3DTexture)je?(Ze&&n.texStorage3D(t.TEXTURE_3D,he,Ke,Ne.width,Ne.height,Ne.depth),ft&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ne.width,Ne.height,Ne.depth,He,Ye,Ne.data)):n.texImage3D(t.TEXTURE_3D,0,Ke,Ne.width,Ne.height,Ne.depth,0,He,Ye,Ne.data);else if(U.isFramebufferTexture){if(Ze)if(je)n.texStorage2D(t.TEXTURE_2D,he,Ke,Ne.width,Ne.height);else{let Ee=Ne.width,Z=Ne.height;for(let ze=0;ze<he;ze++)n.texImage2D(t.TEXTURE_2D,ze,Ke,Ee,Z,0,He,Ye,null),Ee>>=1,Z>>=1}}else if(ot.length>0){if(je&&Ze){const Ee=pe(ot[0]);n.texStorage2D(t.TEXTURE_2D,he,Ke,Ee.width,Ee.height)}for(let Ee=0,Z=ot.length;Ee<Z;Ee++)We=ot[Ee],je?ft&&n.texSubImage2D(t.TEXTURE_2D,Ee,0,0,He,Ye,We):n.texImage2D(t.TEXTURE_2D,Ee,Ke,He,Ye,We);U.generateMipmaps=!1}else if(je){if(Ze){const Ee=pe(Ne);n.texStorage2D(t.TEXTURE_2D,he,Ke,Ee.width,Ee.height)}ft&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,He,Ye,Ne)}else n.texImage2D(t.TEXTURE_2D,0,Ke,He,Ye,Ne);y(U)&&g(be),De.__version=Oe.version,U.onUpdate&&U.onUpdate(U)}$.__version=U.version}function me($,U,le){if(U.image.length!==6)return;const be=ee($,U),we=U.source;n.bindTexture(t.TEXTURE_CUBE_MAP,$.__webglTexture,t.TEXTURE0+le);const Oe=r.get(we);if(we.version!==Oe.__version||be===!0){n.activeTexture(t.TEXTURE0+le);const De=Fn.getPrimaries(Fn.workingColorSpace),ge=U.colorSpace===Ma?null:Fn.getPrimaries(U.colorSpace),Fe=U.colorSpace===Ma||De===ge?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Fe);const Xe=U.isCompressedTexture||U.image[0].isCompressedTexture,Ne=U.image[0]&&U.image[0].isDataTexture,He=[];for(let Z=0;Z<6;Z++)!Xe&&!Ne?He[Z]=x(U.image[Z],!0,i.maxCubemapSize):He[Z]=Ne?U.image[Z].image:U.image[Z],He[Z]=fe(U,He[Z]);const Ye=He[0],Ke=o.convert(U.format,U.colorSpace),We=o.convert(U.type),ot=S(U.internalFormat,Ke,We,U.colorSpace),je=U.isVideoTexture!==!0,Ze=Oe.__version===void 0||be===!0,ft=we.dataReady;let he=_(U,Ye);V(t.TEXTURE_CUBE_MAP,U);let Ee;if(Xe){je&&Ze&&n.texStorage2D(t.TEXTURE_CUBE_MAP,he,ot,Ye.width,Ye.height);for(let Z=0;Z<6;Z++){Ee=He[Z].mipmaps;for(let ze=0;ze<Ee.length;ze++){const Pe=Ee[ze];U.format!==kr?Ke!==null?je?ft&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze,0,0,Pe.width,Pe.height,Ke,Pe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze,ot,Pe.width,Pe.height,0,Pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):je?ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze,0,0,Pe.width,Pe.height,Ke,We,Pe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze,ot,Pe.width,Pe.height,0,Ke,We,Pe.data)}}}else{if(Ee=U.mipmaps,je&&Ze){Ee.length>0&&he++;const Z=pe(He[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,he,ot,Z.width,Z.height)}for(let Z=0;Z<6;Z++)if(Ne){je?ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,He[Z].width,He[Z].height,Ke,We,He[Z].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,ot,He[Z].width,He[Z].height,0,Ke,We,He[Z].data);for(let ze=0;ze<Ee.length;ze++){const ct=Ee[ze].image[Z].image;je?ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze+1,0,0,ct.width,ct.height,Ke,We,ct.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze+1,ot,ct.width,ct.height,0,Ke,We,ct.data)}}else{je?ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,0,0,Ke,We,He[Z]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,0,ot,Ke,We,He[Z]);for(let ze=0;ze<Ee.length;ze++){const Pe=Ee[ze];je?ft&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze+1,0,0,Ke,We,Pe.image[Z]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Z,ze+1,ot,Ke,We,Pe.image[Z])}}}y(U)&&g(t.TEXTURE_CUBE_MAP),Oe.__version=we.version,U.onUpdate&&U.onUpdate(U)}$.__version=U.version}function K($,U,le,be,we,Oe){const De=o.convert(le.format,le.colorSpace),ge=o.convert(le.type),Fe=S(le.internalFormat,De,ge,le.colorSpace);if(!r.get(U).__hasExternalTextures){const Ne=Math.max(1,U.width>>Oe),He=Math.max(1,U.height>>Oe);we===t.TEXTURE_3D||we===t.TEXTURE_2D_ARRAY?n.texImage3D(we,Oe,Fe,Ne,He,U.depth,0,De,ge,null):n.texImage2D(we,Oe,Fe,Ne,He,0,De,ge,null)}n.bindFramebuffer(t.FRAMEBUFFER,$),ie(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,be,we,r.get(le).__webglTexture,0,Q(U)):(we===t.TEXTURE_2D||we>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&we<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,be,we,r.get(le).__webglTexture,Oe),n.bindFramebuffer(t.FRAMEBUFFER,null)}function te($,U,le){if(t.bindRenderbuffer(t.RENDERBUFFER,$),U.depthBuffer&&!U.stencilBuffer){let be=t.DEPTH_COMPONENT24;if(le||ie(U)){const we=U.depthTexture;we&&we.isDepthTexture&&(we.type===Ar?be=t.DEPTH_COMPONENT32F:we.type===jl&&(be=t.DEPTH_COMPONENT24));const Oe=Q(U);ie(U)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Oe,be,U.width,U.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Oe,be,U.width,U.height)}else t.renderbufferStorage(t.RENDERBUFFER,be,U.width,U.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,$)}else if(U.depthBuffer&&U.stencilBuffer){const be=Q(U);le&&ie(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,be,t.DEPTH24_STENCIL8,U.width,U.height):ie(U)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,be,t.DEPTH24_STENCIL8,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,$)}else{const be=U.textures;for(let we=0;we<be.length;we++){const Oe=be[we],De=o.convert(Oe.format,Oe.colorSpace),ge=o.convert(Oe.type),Fe=S(Oe.internalFormat,De,ge,Oe.colorSpace),Xe=Q(U);le&&ie(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Xe,Fe,U.width,U.height):ie(U)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Xe,Fe,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,Fe,U.width,U.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ae($,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,$),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),L(U.depthTexture,0);const be=r.get(U.depthTexture).__webglTexture,we=Q(U);if(U.depthTexture.format===du)ie(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,be,0);else if(U.depthTexture.format===Lf)ie(U)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,be,0);else throw new Error("Unknown depthTexture format")}function de($){const U=r.get($),le=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!U.__autoAllocateDepthBuffer){if(le)throw new Error("target.depthTexture not supported in Cube render targets");ae(U.__webglFramebuffer,$)}else if(le){U.__webglDepthbuffer=[];for(let be=0;be<6;be++)n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[be]),U.__webglDepthbuffer[be]=t.createRenderbuffer(),te(U.__webglDepthbuffer[be],$,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),te(U.__webglDepthbuffer,$,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function _e($,U,le){const be=r.get($);U!==void 0&&K(be.__webglFramebuffer,$,$.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),le!==void 0&&de($)}function Re($){const U=$.texture,le=r.get($),be=r.get(U);$.addEventListener("dispose",A);const we=$.textures,Oe=$.isWebGLCubeRenderTarget===!0,De=we.length>1;if(De||(be.__webglTexture===void 0&&(be.__webglTexture=t.createTexture()),be.__version=U.version,s.memory.textures++),Oe){le.__webglFramebuffer=[];for(let ge=0;ge<6;ge++)if(U.mipmaps&&U.mipmaps.length>0){le.__webglFramebuffer[ge]=[];for(let Fe=0;Fe<U.mipmaps.length;Fe++)le.__webglFramebuffer[ge][Fe]=t.createFramebuffer()}else le.__webglFramebuffer[ge]=t.createFramebuffer()}else{if(U.mipmaps&&U.mipmaps.length>0){le.__webglFramebuffer=[];for(let ge=0;ge<U.mipmaps.length;ge++)le.__webglFramebuffer[ge]=t.createFramebuffer()}else le.__webglFramebuffer=t.createFramebuffer();if(De)for(let ge=0,Fe=we.length;ge<Fe;ge++){const Xe=r.get(we[ge]);Xe.__webglTexture===void 0&&(Xe.__webglTexture=t.createTexture(),s.memory.textures++)}if($.samples>0&&ie($)===!1){le.__webglMultisampledFramebuffer=t.createFramebuffer(),le.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,le.__webglMultisampledFramebuffer);for(let ge=0;ge<we.length;ge++){const Fe=we[ge];le.__webglColorRenderbuffer[ge]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,le.__webglColorRenderbuffer[ge]);const Xe=o.convert(Fe.format,Fe.colorSpace),Ne=o.convert(Fe.type),He=S(Fe.internalFormat,Xe,Ne,Fe.colorSpace,$.isXRRenderTarget===!0),Ye=Q($);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ye,He,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ge,t.RENDERBUFFER,le.__webglColorRenderbuffer[ge])}t.bindRenderbuffer(t.RENDERBUFFER,null),$.depthBuffer&&(le.__webglDepthRenderbuffer=t.createRenderbuffer(),te(le.__webglDepthRenderbuffer,$,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Oe){n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture),V(t.TEXTURE_CUBE_MAP,U);for(let ge=0;ge<6;ge++)if(U.mipmaps&&U.mipmaps.length>0)for(let Fe=0;Fe<U.mipmaps.length;Fe++)K(le.__webglFramebuffer[ge][Fe],$,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Fe);else K(le.__webglFramebuffer[ge],$,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ge,0);y(U)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(De){for(let ge=0,Fe=we.length;ge<Fe;ge++){const Xe=we[ge],Ne=r.get(Xe);n.bindTexture(t.TEXTURE_2D,Ne.__webglTexture),V(t.TEXTURE_2D,Xe),K(le.__webglFramebuffer,$,Xe,t.COLOR_ATTACHMENT0+ge,t.TEXTURE_2D,0),y(Xe)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let ge=t.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(ge=$.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ge,be.__webglTexture),V(ge,U),U.mipmaps&&U.mipmaps.length>0)for(let Fe=0;Fe<U.mipmaps.length;Fe++)K(le.__webglFramebuffer[Fe],$,U,t.COLOR_ATTACHMENT0,ge,Fe);else K(le.__webglFramebuffer,$,U,t.COLOR_ATTACHMENT0,ge,0);y(U)&&g(ge),n.unbindTexture()}$.depthBuffer&&de($)}function Te($){const U=$.textures;for(let le=0,be=U.length;le<be;le++){const we=U[le];if(y(we)){const Oe=$.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,De=r.get(we).__webglTexture;n.bindTexture(Oe,De),g(Oe),n.unbindTexture()}}}function Y($){if($.samples>0&&ie($)===!1){const U=$.textures,le=$.width,be=$.height;let we=t.COLOR_BUFFER_BIT;const Oe=[],De=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ge=r.get($),Fe=U.length>1;if(Fe)for(let Xe=0;Xe<U.length;Xe++)n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ge.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ge.__webglFramebuffer);for(let Xe=0;Xe<U.length;Xe++){Oe.push(t.COLOR_ATTACHMENT0+Xe),$.depthBuffer&&Oe.push(De);const Ne=ge.__ignoreDepthValues!==void 0?ge.__ignoreDepthValues:!1;if(Ne===!1&&($.depthBuffer&&(we|=t.DEPTH_BUFFER_BIT),$.stencilBuffer&&ge.__isTransmissionRenderTarget!==!0&&(we|=t.STENCIL_BUFFER_BIT)),Fe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ge.__webglColorRenderbuffer[Xe]),Ne===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[De]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[De])),Fe){const He=r.get(U[Xe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,He,0)}t.blitFramebuffer(0,0,le,be,0,0,le,be,we,t.NEAREST),l&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Oe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Fe)for(let Xe=0;Xe<U.length;Xe++){n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,ge.__webglColorRenderbuffer[Xe]);const Ne=r.get(U[Xe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,Ne,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ge.__webglMultisampledFramebuffer)}}function Q($){return Math.min(i.maxSamples,$.samples)}function ie($){const U=r.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function ye($){const U=s.render.frame;u.get($)!==U&&(u.set($,U),$.update())}function fe($,U){const le=$.colorSpace,be=$.format,we=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||le!==is&&le!==Ma&&(Fn.getTransfer(le)===Kn?(be!==kr||we!==xo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",le)),U}function pe($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(c.width=$.naturalWidth||$.width,c.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(c.width=$.displayWidth,c.height=$.displayHeight):(c.width=$.width,c.height=$.height),c}this.allocateTextureUnit=B,this.resetTextureUnits=E,this.setTexture2D=L,this.setTexture2DArray=z,this.setTexture3D=G,this.setTextureCube=j,this.rebindTextures=_e,this.setupRenderTarget=Re,this.updateRenderTargetMipmap=Te,this.updateMultisampleRenderTarget=Y,this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=K,this.useMultisampledRTT=ie}function nV(t,e){function n(r,i=Ma){let o;const s=Fn.getTransfer(i);if(r===xo)return t.UNSIGNED_BYTE;if(r===ZT)return t.UNSIGNED_SHORT_4_4_4_4;if(r===eR)return t.UNSIGNED_SHORT_5_5_5_1;if(r===x6)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===YT)return t.BYTE;if(r===qT)return t.SHORT;if(r===QT)return t.UNSIGNED_SHORT;if(r===PS)return t.INT;if(r===jl)return t.UNSIGNED_INT;if(r===Ar)return t.FLOAT;if(r===ii)return t.HALF_FLOAT;if(r===S6)return t.ALPHA;if(r===_6)return t.RGB;if(r===kr)return t.RGBA;if(r===C6)return t.LUMINANCE;if(r===b6)return t.LUMINANCE_ALPHA;if(r===du)return t.DEPTH_COMPONENT;if(r===Lf)return t.DEPTH_STENCIL;if(r===IS)return t.RED;if(r===tR)return t.RED_INTEGER;if(r===w6)return t.RG;if(r===nR)return t.RG_INTEGER;if(r===rR)return t.RGBA_INTEGER;if(r===_y||r===Cy||r===by||r===wy)if(s===Kn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===_y)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Cy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===by)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===wy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===_y)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Cy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===by)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===wy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===WE||r===jE||r===XE||r===KE)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===WE)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===jE)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===XE)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===KE)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===iR)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===JE||r===YE)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===JE)return s===Kn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===YE)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===qE||r===QE||r===ZE||r===eM||r===tM||r===nM||r===rM||r===iM||r===oM||r===sM||r===aM||r===lM||r===cM||r===uM)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===qE)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===QE)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===ZE)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===eM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===tM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===nM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===rM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===iM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===oM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===sM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===aM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===lM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===cM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===uM)return s===Kn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Ey||r===dM||r===fM)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Ey)return s===Kn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===dM)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===fM)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===E6||r===hM||r===pM||r===mM)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Ey)return o.COMPRESSED_RED_RGTC1_EXT;if(r===hM)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===pM)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===mM)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===oh?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class rV extends cr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Pa extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Ime={type:"move"};class GC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Pa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Pa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Pa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const x of e.hand.values()){const y=n.getJointPose(x,r),g=this._getHandJoint(c,x);y!==null&&(g.matrix.fromArray(y.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=y.radius),g.visible=y!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),m=.02,v=.005;c.inputState.pinching&&f>m+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Ime)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=o!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Pa;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const Bme=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ome=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Lme{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Bn,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new to({vertexShader:Bme,fragmentShader:Ome,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new ir(new sc(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class Dme extends la{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,m=null,v=null;const x=new Lme,y=n.getContextAttributes();let g=null,S=null;const _=[],w=[],A=new Qe;let M=null;const P=new cr;P.layers.enable(1),P.viewport=new Nn;const I=new cr;I.layers.enable(2),I.viewport=new Nn;const T=[P,I],E=new rV;E.layers.enable(1),E.layers.enable(2);let B=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(K){let te=_[K];return te===void 0&&(te=new GC,_[K]=te),te.getTargetRaySpace()},this.getControllerGrip=function(K){let te=_[K];return te===void 0&&(te=new GC,_[K]=te),te.getGripSpace()},this.getHand=function(K){let te=_[K];return te===void 0&&(te=new GC,_[K]=te),te.getHandSpace()};function L(K){const te=w.indexOf(K.inputSource);if(te===-1)return;const ae=_[te];ae!==void 0&&(ae.update(K.inputSource,K.frame,c||s),ae.dispatchEvent({type:K.type,data:K.inputSource}))}function z(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",G);for(let K=0;K<_.length;K++){const te=w[K];te!==null&&(w[K]=null,_[K].disconnect(te))}B=null,F=null,x.reset(),e.setRenderTarget(g),m=null,f=null,d=null,i=null,S=null,me.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(K){o=K,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(K){a=K,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(K){c=K},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(K){if(i=K,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",z),i.addEventListener("inputsourceschange",G),y.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(A),i.renderState.layers===void 0){const te={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:o};m=new XRWebGLLayer(i,n,te),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new bo(m.framebufferWidth,m.framebufferHeight,{format:kr,type:xo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let te=null,ae=null,de=null;y.depth&&(de=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,te=y.stencil?Lf:du,ae=y.stencil?oh:jl);const _e={colorFormat:n.RGBA8,depthFormat:de,scaleFactor:o};d=new XRWebGLBinding(i,n),f=d.createProjectionLayer(_e),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),S=new bo(f.textureWidth,f.textureHeight,{format:kr,type:xo,depthTexture:new pR(f.textureWidth,f.textureHeight,ae,void 0,void 0,void 0,void 0,void 0,void 0,te),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const Re=e.properties.get(S);Re.__ignoreDepthValues=f.ignoreDepthValues}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(a),me.setContext(i),me.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function G(K){for(let te=0;te<K.removed.length;te++){const ae=K.removed[te],de=w.indexOf(ae);de>=0&&(w[de]=null,_[de].disconnect(ae))}for(let te=0;te<K.added.length;te++){const ae=K.added[te];let de=w.indexOf(ae);if(de===-1){for(let Re=0;Re<_.length;Re++)if(Re>=w.length){w.push(ae),de=Re;break}else if(w[Re]===null){w[Re]=ae,de=Re;break}if(de===-1)break}const _e=_[de];_e&&_e.connect(ae)}}const j=new re,X=new re;function N(K,te,ae){j.setFromMatrixPosition(te.matrixWorld),X.setFromMatrixPosition(ae.matrixWorld);const de=j.distanceTo(X),_e=te.projectionMatrix.elements,Re=ae.projectionMatrix.elements,Te=_e[14]/(_e[10]-1),Y=_e[14]/(_e[10]+1),Q=(_e[9]+1)/_e[5],ie=(_e[9]-1)/_e[5],ye=(_e[8]-1)/_e[0],fe=(Re[8]+1)/Re[0],pe=Te*ye,$=Te*fe,U=de/(-ye+fe),le=U*-ye;te.matrixWorld.decompose(K.position,K.quaternion,K.scale),K.translateX(le),K.translateZ(U),K.matrixWorld.compose(K.position,K.quaternion,K.scale),K.matrixWorldInverse.copy(K.matrixWorld).invert();const be=Te+U,we=Y+U,Oe=pe-le,De=$+(de-le),ge=Q*Y/we*be,Fe=ie*Y/we*be;K.projectionMatrix.makePerspective(Oe,De,ge,Fe,be,we),K.projectionMatrixInverse.copy(K.projectionMatrix).invert()}function W(K,te){te===null?K.matrixWorld.copy(K.matrix):K.matrixWorld.multiplyMatrices(te.matrixWorld,K.matrix),K.matrixWorldInverse.copy(K.matrixWorld).invert()}this.updateCamera=function(K){if(i===null)return;x.texture!==null&&(K.near=x.depthNear,K.far=x.depthFar),E.near=I.near=P.near=K.near,E.far=I.far=P.far=K.far,(B!==E.near||F!==E.far)&&(i.updateRenderState({depthNear:E.near,depthFar:E.far}),B=E.near,F=E.far,P.near=B,P.far=F,I.near=B,I.far=F,P.updateProjectionMatrix(),I.updateProjectionMatrix(),K.updateProjectionMatrix());const te=K.parent,ae=E.cameras;W(E,te);for(let de=0;de<ae.length;de++)W(ae[de],te);ae.length===2?N(E,P,I):E.projectionMatrix.copy(P.projectionMatrix),V(K,E,te)};function V(K,te,ae){ae===null?K.matrix.copy(te.matrixWorld):(K.matrix.copy(ae.matrixWorld),K.matrix.invert(),K.matrix.multiply(te.matrixWorld)),K.matrix.decompose(K.position,K.quaternion,K.scale),K.updateMatrixWorld(!0),K.projectionMatrix.copy(te.projectionMatrix),K.projectionMatrixInverse.copy(te.projectionMatrixInverse),K.isPerspectiveCamera&&(K.fov=Ff*2*Math.atan(1/K.projectionMatrix.elements[5]),K.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(K){l=K,f!==null&&(f.fixedFoveation=K),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=K)},this.hasDepthSensing=function(){return x.texture!==null};let ee=null;function se(K,te){if(u=te.getViewerPose(c||s),v=te,u!==null){const ae=u.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let de=!1;ae.length!==E.cameras.length&&(E.cameras.length=0,de=!0);for(let Re=0;Re<ae.length;Re++){const Te=ae[Re];let Y=null;if(m!==null)Y=m.getViewport(Te);else{const ie=d.getViewSubImage(f,Te);Y=ie.viewport,Re===0&&(e.setRenderTargetTextures(S,ie.colorTexture,f.ignoreDepthValues?void 0:ie.depthStencilTexture),e.setRenderTarget(S))}let Q=T[Re];Q===void 0&&(Q=new cr,Q.layers.enable(Re),Q.viewport=new Nn,T[Re]=Q),Q.matrix.fromArray(Te.transform.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale),Q.projectionMatrix.fromArray(Te.projectionMatrix),Q.projectionMatrixInverse.copy(Q.projectionMatrix).invert(),Q.viewport.set(Y.x,Y.y,Y.width,Y.height),Re===0&&(E.matrix.copy(Q.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),de===!0&&E.cameras.push(Q)}const _e=i.enabledFeatures;if(_e&&_e.includes("depth-sensing")){const Re=d.getDepthInformation(ae[0]);Re&&Re.isValid&&Re.texture&&x.init(e,Re,i.renderState)}}for(let ae=0;ae<_.length;ae++){const de=w[ae],_e=_[ae];de!==null&&_e!==void 0&&_e.update(de,te,c||s)}x.render(e,E),ee&&ee(K,te),te.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:te}),v=null}const me=new Y6;me.setAnimationLoop(se),this.setAnimationLoop=function(K){ee=K},this.dispose=function(){}}}const Mc=new wo,Fme=new Jt;function Nme(t,e){function n(y,g){y.matrixAutoUpdate===!0&&y.updateMatrix(),g.value.copy(y.matrix)}function r(y,g){g.color.getRGB(y.fogColor.value,X6(t)),g.isFog?(y.fogNear.value=g.near,y.fogFar.value=g.far):g.isFogExp2&&(y.fogDensity.value=g.density)}function i(y,g,S,_,w){g.isMeshBasicMaterial||g.isMeshLambertMaterial?o(y,g):g.isMeshToonMaterial?(o(y,g),d(y,g)):g.isMeshPhongMaterial?(o(y,g),u(y,g)):g.isMeshStandardMaterial?(o(y,g),f(y,g),g.isMeshPhysicalMaterial&&m(y,g,w)):g.isMeshMatcapMaterial?(o(y,g),v(y,g)):g.isMeshDepthMaterial?o(y,g):g.isMeshDistanceMaterial?(o(y,g),x(y,g)):g.isMeshNormalMaterial?o(y,g):g.isLineBasicMaterial?(s(y,g),g.isLineDashedMaterial&&a(y,g)):g.isPointsMaterial?l(y,g,S,_):g.isSpriteMaterial?c(y,g):g.isShadowMaterial?(y.color.value.copy(g.color),y.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function o(y,g){y.opacity.value=g.opacity,g.color&&y.diffuse.value.copy(g.color),g.emissive&&y.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.bumpMap&&(y.bumpMap.value=g.bumpMap,n(g.bumpMap,y.bumpMapTransform),y.bumpScale.value=g.bumpScale,g.side===Ni&&(y.bumpScale.value*=-1)),g.normalMap&&(y.normalMap.value=g.normalMap,n(g.normalMap,y.normalMapTransform),y.normalScale.value.copy(g.normalScale),g.side===Ni&&y.normalScale.value.negate()),g.displacementMap&&(y.displacementMap.value=g.displacementMap,n(g.displacementMap,y.displacementMapTransform),y.displacementScale.value=g.displacementScale,y.displacementBias.value=g.displacementBias),g.emissiveMap&&(y.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,y.emissiveMapTransform)),g.specularMap&&(y.specularMap.value=g.specularMap,n(g.specularMap,y.specularMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest);const S=e.get(g),_=S.envMap,w=S.envMapRotation;if(_&&(y.envMap.value=_,Mc.copy(w),Mc.x*=-1,Mc.y*=-1,Mc.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Mc.y*=-1,Mc.z*=-1),y.envMapRotation.value.setFromMatrix4(Fme.makeRotationFromEuler(Mc)),y.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,y.reflectivity.value=g.reflectivity,y.ior.value=g.ior,y.refractionRatio.value=g.refractionRatio),g.lightMap){y.lightMap.value=g.lightMap;const A=t._useLegacyLights===!0?Math.PI:1;y.lightMapIntensity.value=g.lightMapIntensity*A,n(g.lightMap,y.lightMapTransform)}g.aoMap&&(y.aoMap.value=g.aoMap,y.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,y.aoMapTransform))}function s(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform))}function a(y,g){y.dashSize.value=g.dashSize,y.totalSize.value=g.dashSize+g.gapSize,y.scale.value=g.scale}function l(y,g,S,_){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.size.value=g.size*S,y.scale.value=_*.5,g.map&&(y.map.value=g.map,n(g.map,y.uvTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function c(y,g){y.diffuse.value.copy(g.color),y.opacity.value=g.opacity,y.rotation.value=g.rotation,g.map&&(y.map.value=g.map,n(g.map,y.mapTransform)),g.alphaMap&&(y.alphaMap.value=g.alphaMap,n(g.alphaMap,y.alphaMapTransform)),g.alphaTest>0&&(y.alphaTest.value=g.alphaTest)}function u(y,g){y.specular.value.copy(g.specular),y.shininess.value=Math.max(g.shininess,1e-4)}function d(y,g){g.gradientMap&&(y.gradientMap.value=g.gradientMap)}function f(y,g){y.metalness.value=g.metalness,g.metalnessMap&&(y.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,y.metalnessMapTransform)),y.roughness.value=g.roughness,g.roughnessMap&&(y.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,y.roughnessMapTransform)),g.envMap&&(y.envMapIntensity.value=g.envMapIntensity)}function m(y,g,S){y.ior.value=g.ior,g.sheen>0&&(y.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),y.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(y.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,y.sheenColorMapTransform)),g.sheenRoughnessMap&&(y.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,y.sheenRoughnessMapTransform))),g.clearcoat>0&&(y.clearcoat.value=g.clearcoat,y.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(y.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,y.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(y.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===Ni&&y.clearcoatNormalScale.value.negate())),g.iridescence>0&&(y.iridescence.value=g.iridescence,y.iridescenceIOR.value=g.iridescenceIOR,y.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(y.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,y.iridescenceMapTransform)),g.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),g.transmission>0&&(y.transmission.value=g.transmission,y.transmissionSamplerMap.value=S.texture,y.transmissionSamplerSize.value.set(S.width,S.height),g.transmissionMap&&(y.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,y.transmissionMapTransform)),y.thickness.value=g.thickness,g.thicknessMap&&(y.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=g.attenuationDistance,y.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(y.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(y.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=g.specularIntensity,y.specularColor.value.copy(g.specularColor),g.specularColorMap&&(y.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,y.specularColorMapTransform)),g.specularIntensityMap&&(y.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,y.specularIntensityMapTransform))}function v(y,g){g.matcap&&(y.matcap.value=g.matcap)}function x(y,g){const S=e.get(g).light;y.referencePosition.value.setFromMatrixPosition(S.matrixWorld),y.nearDistance.value=S.shadow.camera.near,y.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Ume(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,_){const w=_.program;r.uniformBlockBinding(S,w)}function c(S,_){let w=i[S.id];w===void 0&&(v(S),w=u(S),i[S.id]=w,S.addEventListener("dispose",y));const A=_.program;r.updateUBOMapping(S,A);const M=e.render.frame;o[S.id]!==M&&(f(S),o[S.id]=M)}function u(S){const _=d();S.__bindingPointIndex=_;const w=t.createBuffer(),A=S.__size,M=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,A,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,w),w}function d(){for(let S=0;S<a;S++)if(s.indexOf(S)===-1)return s.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(S){const _=i[S.id],w=S.uniforms,A=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let M=0,P=w.length;M<P;M++){const I=Array.isArray(w[M])?w[M]:[w[M]];for(let T=0,E=I.length;T<E;T++){const B=I[T];if(m(B,M,T,A)===!0){const F=B.__offset,L=Array.isArray(B.value)?B.value:[B.value];let z=0;for(let G=0;G<L.length;G++){const j=L[G],X=x(j);typeof j=="number"||typeof j=="boolean"?(B.__data[0]=j,t.bufferSubData(t.UNIFORM_BUFFER,F+z,B.__data)):j.isMatrix3?(B.__data[0]=j.elements[0],B.__data[1]=j.elements[1],B.__data[2]=j.elements[2],B.__data[3]=0,B.__data[4]=j.elements[3],B.__data[5]=j.elements[4],B.__data[6]=j.elements[5],B.__data[7]=0,B.__data[8]=j.elements[6],B.__data[9]=j.elements[7],B.__data[10]=j.elements[8],B.__data[11]=0):(j.toArray(B.__data,z),z+=X.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,F,B.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(S,_,w,A){const M=S.value,P=_+"_"+w;if(A[P]===void 0)return typeof M=="number"||typeof M=="boolean"?A[P]=M:A[P]=M.clone(),!0;{const I=A[P];if(typeof M=="number"||typeof M=="boolean"){if(I!==M)return A[P]=M,!0}else if(I.equals(M)===!1)return I.copy(M),!0}return!1}function v(S){const _=S.uniforms;let w=0;const A=16;for(let P=0,I=_.length;P<I;P++){const T=Array.isArray(_[P])?_[P]:[_[P]];for(let E=0,B=T.length;E<B;E++){const F=T[E],L=Array.isArray(F.value)?F.value:[F.value];for(let z=0,G=L.length;z<G;z++){const j=L[z],X=x(j),N=w%A;N!==0&&A-N<X.boundary&&(w+=A-N),F.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),F.__offset=w,w+=X.storage}}}const M=w%A;return M>0&&(w+=A-M),S.__size=w,S.__cache={},this}function x(S){const _={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(_.boundary=4,_.storage=4):S.isVector2?(_.boundary=8,_.storage=8):S.isVector3||S.isColor?(_.boundary=16,_.storage=12):S.isVector4?(_.boundary=16,_.storage=16):S.isMatrix3?(_.boundary=48,_.storage=48):S.isMatrix4?(_.boundary=64,_.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),_}function y(S){const _=S.target;_.removeEventListener("dispose",y);const w=s.indexOf(_.__bindingPointIndex);s.splice(w,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete o[_.id]}function g(){for(const S in i)t.deleteBuffer(i[S]);s=[],i={},o={}}return{bind:l,update:c,dispose:g}}class vR{constructor(e={}){const{canvas:n=V6(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;this.isWebGLRenderer=!0;let f;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=r.getContextAttributes().alpha}else f=s;const m=new Uint32Array(4),v=new Int32Array(4);let x=null,y=null;const g=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=po,this._useLegacyLights=!1,this.toneMapping=ea,this.toneMappingExposure=1;const _=this;let w=!1,A=0,M=0,P=null,I=-1,T=null;const E=new Nn,B=new Nn;let F=null;const L=new Rt(0);let z=0,G=n.width,j=n.height,X=1,N=null,W=null;const V=new Nn(0,0,G,j),ee=new Nn(0,0,G,j);let se=!1;const me=new mg;let K=!1,te=!1;const ae=new Jt,de=new Qe,_e=new re,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Te(){return P===null?X:1}let Y=r;function Q(D,q){const ne=n.getContext(D,q);return ne!==null?ne:null}try{const D={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${rh}`),n.addEventListener("webglcontextlost",ze,!1),n.addEventListener("webglcontextrestored",Pe,!1),n.addEventListener("webglcontextcreationerror",ct,!1),Y===null){const q="webgl2";if(Y=Q(q,D),Y===null)throw Q(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(D){throw console.error("THREE.WebGLRenderer: "+D.message),D}let ie,ye,fe,pe,$,U,le,be,we,Oe,De,ge,Fe,Xe,Ne,He,Ye,Ke,We,ot,je,Ze,ft,he;function Ee(){ie=new qhe(Y),ie.init(),ye=new Whe(Y,ie,e),Ze=new nV(Y,ie),fe=new Rme(Y),pe=new epe(Y),$=new vme,U=new Pme(Y,ie,fe,$,ye,Ze,pe),le=new Xhe(_),be=new Yhe(_),we=new sde(Y),ft=new Ghe(Y,we),Oe=new Qhe(Y,we,pe,ft),De=new npe(Y,Oe,we,pe),We=new tpe(Y,ye,U),He=new jhe($),ge=new gme(_,le,be,ie,ye,ft,He),Fe=new Nme(_,$),Xe=new xme,Ne=new Eme(ie),Ke=new Vhe(_,le,be,fe,De,f,l),Ye=new Tme(_,De,ye),he=new Ume(Y,pe,ye,fe),ot=new $he(Y,ie,pe),je=new Zhe(Y,ie,pe),pe.programs=ge.programs,_.capabilities=ye,_.extensions=ie,_.properties=$,_.renderLists=Xe,_.shadowMap=Ye,_.state=fe,_.info=pe}Ee();const Z=new Dme(_,Y);this.xr=Z,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const D=ie.get("WEBGL_lose_context");D&&D.loseContext()},this.forceContextRestore=function(){const D=ie.get("WEBGL_lose_context");D&&D.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(D){D!==void 0&&(X=D,this.setSize(G,j,!1))},this.getSize=function(D){return D.set(G,j)},this.setSize=function(D,q,ne=!0){if(Z.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=D,j=q,n.width=Math.floor(D*X),n.height=Math.floor(q*X),ne===!0&&(n.style.width=D+"px",n.style.height=q+"px"),this.setViewport(0,0,D,q)},this.getDrawingBufferSize=function(D){return D.set(G*X,j*X).floor()},this.setDrawingBufferSize=function(D,q,ne){G=D,j=q,X=ne,n.width=Math.floor(D*ne),n.height=Math.floor(q*ne),this.setViewport(0,0,D,q)},this.getCurrentViewport=function(D){return D.copy(E)},this.getViewport=function(D){return D.copy(V)},this.setViewport=function(D,q,ne,oe){D.isVector4?V.set(D.x,D.y,D.z,D.w):V.set(D,q,ne,oe),fe.viewport(E.copy(V).multiplyScalar(X).round())},this.getScissor=function(D){return D.copy(ee)},this.setScissor=function(D,q,ne,oe){D.isVector4?ee.set(D.x,D.y,D.z,D.w):ee.set(D,q,ne,oe),fe.scissor(B.copy(ee).multiplyScalar(X).round())},this.getScissorTest=function(){return se},this.setScissorTest=function(D){fe.setScissorTest(se=D)},this.setOpaqueSort=function(D){N=D},this.setTransparentSort=function(D){W=D},this.getClearColor=function(D){return D.copy(Ke.getClearColor())},this.setClearColor=function(){Ke.setClearColor.apply(Ke,arguments)},this.getClearAlpha=function(){return Ke.getClearAlpha()},this.setClearAlpha=function(){Ke.setClearAlpha.apply(Ke,arguments)},this.clear=function(D=!0,q=!0,ne=!0){let oe=0;if(D){let ue=!1;if(P!==null){const Ie=P.texture.format;ue=Ie===rR||Ie===nR||Ie===tR}if(ue){const Ie=P.texture.type,ve=Ie===xo||Ie===jl||Ie===QT||Ie===oh||Ie===ZT||Ie===eR,Me=Ke.getClearColor(),Ae=Ke.getClearAlpha(),Se=Me.r,qe=Me.g,Ge=Me.b;ve?(m[0]=Se,m[1]=qe,m[2]=Ge,m[3]=Ae,Y.clearBufferuiv(Y.COLOR,0,m)):(v[0]=Se,v[1]=qe,v[2]=Ge,v[3]=Ae,Y.clearBufferiv(Y.COLOR,0,v))}else oe|=Y.COLOR_BUFFER_BIT}q&&(oe|=Y.DEPTH_BUFFER_BIT),ne&&(oe|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ze,!1),n.removeEventListener("webglcontextrestored",Pe,!1),n.removeEventListener("webglcontextcreationerror",ct,!1),Xe.dispose(),Ne.dispose(),$.dispose(),le.dispose(),be.dispose(),De.dispose(),ft.dispose(),he.dispose(),ge.dispose(),Z.dispose(),Z.removeEventListener("sessionstart",ut),Z.removeEventListener("sessionend",lt),Gt.stop()};function ze(D){D.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Pe(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const D=pe.autoReset,q=Ye.enabled,ne=Ye.autoUpdate,oe=Ye.needsUpdate,ue=Ye.type;Ee(),pe.autoReset=D,Ye.enabled=q,Ye.autoUpdate=ne,Ye.needsUpdate=oe,Ye.type=ue}function ct(D){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",D.statusMessage)}function at(D){const q=D.target;q.removeEventListener("dispose",at),Ft(q)}function Ft(D){Dt(D),$.remove(D)}function Dt(D){const q=$.get(D).programs;q!==void 0&&(q.forEach(function(ne){ge.releaseProgram(ne)}),D.isShaderMaterial&&ge.releaseShaderCache(D))}this.renderBufferDirect=function(D,q,ne,oe,ue,Ie){q===null&&(q=Re);const ve=ue.isMesh&&ue.matrixWorld.determinant()<0,Me=fn(D,q,ne,oe,ue);fe.setMaterial(oe,ve);let Ae=ne.index,Se=1;if(oe.wireframe===!0){if(Ae=Oe.getWireframeAttribute(ne),Ae===void 0)return;Se=2}const qe=ne.drawRange,Ge=ne.attributes.position;let et=qe.start*Se,Et=(qe.start+qe.count)*Se;Ie!==null&&(et=Math.max(et,Ie.start*Se),Et=Math.min(Et,(Ie.start+Ie.count)*Se)),Ae!==null?(et=Math.max(et,0),Et=Math.min(Et,Ae.count)):Ge!=null&&(et=Math.max(et,0),Et=Math.min(Et,Ge.count));const yt=Et-et;if(yt<0||yt===1/0)return;ft.setup(ue,oe,Me,ne,Ae);let Ut,St=ot;if(Ae!==null&&(Ut=we.get(Ae),St=je,St.setIndex(Ut)),ue.isMesh)oe.wireframe===!0?(fe.setLineWidth(oe.wireframeLinewidth*Te()),St.setMode(Y.LINES)):St.setMode(Y.TRIANGLES);else if(ue.isLine){let it=oe.linewidth;it===void 0&&(it=1),fe.setLineWidth(it*Te()),ue.isLineSegments?St.setMode(Y.LINES):ue.isLineLoop?St.setMode(Y.LINE_LOOP):St.setMode(Y.LINE_STRIP)}else ue.isPoints?St.setMode(Y.POINTS):ue.isSprite&&St.setMode(Y.TRIANGLES);if(ue.isBatchedMesh)St.renderMultiDraw(ue._multiDrawStarts,ue._multiDrawCounts,ue._multiDrawCount);else if(ue.isInstancedMesh)St.renderInstances(et,yt,ue.count);else if(ne.isInstancedBufferGeometry){const it=ne._maxInstanceCount!==void 0?ne._maxInstanceCount:1/0,zt=Math.min(ne.instanceCount,it);St.renderInstances(et,yt,zt)}else St.render(et,yt)};function Lt(D,q,ne){D.transparent===!0&&D.side===Ko&&D.forceSinglePass===!1?(D.side=Ni,D.needsUpdate=!0,vt(D,q,ne),D.side=ia,D.needsUpdate=!0,vt(D,q,ne),D.side=Ko):vt(D,q,ne)}this.compile=function(D,q,ne=null){ne===null&&(ne=D),y=Ne.get(ne),y.init(),S.push(y),ne.traverseVisible(function(ue){ue.isLight&&ue.layers.test(q.layers)&&(y.pushLight(ue),ue.castShadow&&y.pushShadow(ue))}),D!==ne&&D.traverseVisible(function(ue){ue.isLight&&ue.layers.test(q.layers)&&(y.pushLight(ue),ue.castShadow&&y.pushShadow(ue))}),y.setupLights(_._useLegacyLights);const oe=new Set;return D.traverse(function(ue){const Ie=ue.material;if(Ie)if(Array.isArray(Ie))for(let ve=0;ve<Ie.length;ve++){const Me=Ie[ve];Lt(Me,ne,ue),oe.add(Me)}else Lt(Ie,ne,ue),oe.add(Ie)}),S.pop(),y=null,oe},this.compileAsync=function(D,q,ne=null){const oe=this.compile(D,q,ne);return new Promise(ue=>{function Ie(){if(oe.forEach(function(ve){$.get(ve).currentProgram.isReady()&&oe.delete(ve)}),oe.size===0){ue(D);return}setTimeout(Ie,10)}ie.get("KHR_parallel_shader_compile")!==null?Ie():setTimeout(Ie,10)})};let Pt=null;function st(D){Pt&&Pt(D)}function ut(){Gt.stop()}function lt(){Gt.start()}const Gt=new Y6;Gt.setAnimationLoop(st),typeof self<"u"&&Gt.setContext(self),this.setAnimationLoop=function(D){Pt=D,Z.setAnimationLoop(D),D===null?Gt.stop():Gt.start()},Z.addEventListener("sessionstart",ut),Z.addEventListener("sessionend",lt),this.render=function(D,q){if(q!==void 0&&q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;D.matrixWorldAutoUpdate===!0&&D.updateMatrixWorld(),q.parent===null&&q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),Z.enabled===!0&&Z.isPresenting===!0&&(Z.cameraAutoUpdate===!0&&Z.updateCamera(q),q=Z.getCamera()),D.isScene===!0&&D.onBeforeRender(_,D,q,P),y=Ne.get(D,S.length),y.init(),S.push(y),ae.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),me.setFromProjectionMatrix(ae),te=this.localClippingEnabled,K=He.init(this.clippingPlanes,te),x=Xe.get(D,g.length),x.init(),g.push(x),yn(D,q,0,_.sortObjects),x.finish(),_.sortObjects===!0&&x.sort(N,W),this.info.render.frame++,K===!0&&He.beginShadows();const ne=y.state.shadowsArray;if(Ye.render(ne,D,q),K===!0&&He.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Z.enabled===!1||Z.isPresenting===!1||Z.hasDepthSensing()===!1)&&Ke.render(x,D),y.setupLights(_._useLegacyLights),q.isArrayCamera){const oe=q.cameras;for(let ue=0,Ie=oe.length;ue<Ie;ue++){const ve=oe[ue];bt(x,D,ve,ve.viewport)}}else bt(x,D,q);P!==null&&(U.updateMultisampleRenderTarget(P),U.updateRenderTargetMipmap(P)),D.isScene===!0&&D.onAfterRender(_,D,q),ft.resetDefaultState(),I=-1,T=null,S.pop(),S.length>0?y=S[S.length-1]:y=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function yn(D,q,ne,oe){if(D.visible===!1)return;if(D.layers.test(q.layers)){if(D.isGroup)ne=D.renderOrder;else if(D.isLOD)D.autoUpdate===!0&&D.update(q);else if(D.isLight)y.pushLight(D),D.castShadow&&y.pushShadow(D);else if(D.isSprite){if(!D.frustumCulled||me.intersectsSprite(D)){oe&&_e.setFromMatrixPosition(D.matrixWorld).applyMatrix4(ae);const ve=De.update(D),Me=D.material;Me.visible&&x.push(D,ve,Me,ne,_e.z,null)}}else if((D.isMesh||D.isLine||D.isPoints)&&(!D.frustumCulled||me.intersectsObject(D))){const ve=De.update(D),Me=D.material;if(oe&&(D.boundingSphere!==void 0?(D.boundingSphere===null&&D.computeBoundingSphere(),_e.copy(D.boundingSphere.center)):(ve.boundingSphere===null&&ve.computeBoundingSphere(),_e.copy(ve.boundingSphere.center)),_e.applyMatrix4(D.matrixWorld).applyMatrix4(ae)),Array.isArray(Me)){const Ae=ve.groups;for(let Se=0,qe=Ae.length;Se<qe;Se++){const Ge=Ae[Se],et=Me[Ge.materialIndex];et&&et.visible&&x.push(D,ve,et,ne,_e.z,Ge)}}else Me.visible&&x.push(D,ve,Me,ne,_e.z,null)}}const Ie=D.children;for(let ve=0,Me=Ie.length;ve<Me;ve++)yn(Ie[ve],q,ne,oe)}function bt(D,q,ne,oe){const ue=D.opaque,Ie=D.transmissive,ve=D.transparent;y.setupLightsView(ne),K===!0&&He.setGlobalState(_.clippingPlanes,ne),Ie.length>0&&ht(ue,Ie,q,ne),oe&&fe.viewport(E.copy(oe)),ue.length>0&&Mt(ue,q,ne),Ie.length>0&&Mt(Ie,q,ne),ve.length>0&&Mt(ve,q,ne),fe.buffers.depth.setTest(!0),fe.buffers.depth.setMask(!0),fe.buffers.color.setMask(!0),fe.setPolygonOffset(!1)}function ht(D,q,ne,oe){if((ne.isScene===!0?ne.overrideMaterial:null)!==null)return;if(y.state.transmissionRenderTarget===null){y.state.transmissionRenderTarget=new bo(1,1,{generateMipmaps:!0,type:ie.has("EXT_color_buffer_half_float")||ie.has("EXT_color_buffer_float")?ii:xo,minFilter:Qo,samples:4,stencilBuffer:o});const Se=$.get(y.state.transmissionRenderTarget);Se.__isTransmissionRenderTarget=!0}const Ie=y.state.transmissionRenderTarget;_.getDrawingBufferSize(de),Ie.setSize(de.x,de.y);const ve=_.getRenderTarget();_.setRenderTarget(Ie),_.getClearColor(L),z=_.getClearAlpha(),z<1&&_.setClearColor(16777215,.5),_.clear();const Me=_.toneMapping;_.toneMapping=ea,Mt(D,ne,oe),U.updateMultisampleRenderTarget(Ie),U.updateRenderTargetMipmap(Ie);let Ae=!1;for(let Se=0,qe=q.length;Se<qe;Se++){const Ge=q[Se],et=Ge.object,Et=Ge.geometry,yt=Ge.material,Ut=Ge.group;if(yt.side===Ko&&et.layers.test(oe.layers)){const St=yt.side;yt.side=Ni,yt.needsUpdate=!0,wt(et,ne,oe,Et,yt,Ut),yt.side=St,yt.needsUpdate=!0,Ae=!0}}Ae===!0&&(U.updateMultisampleRenderTarget(Ie),U.updateRenderTargetMipmap(Ie)),_.setRenderTarget(ve),_.setClearColor(L,z),_.toneMapping=Me}function Mt(D,q,ne){const oe=q.isScene===!0?q.overrideMaterial:null;for(let ue=0,Ie=D.length;ue<Ie;ue++){const ve=D[ue],Me=ve.object,Ae=ve.geometry,Se=oe===null?ve.material:oe,qe=ve.group;Me.layers.test(ne.layers)&&wt(Me,q,ne,Ae,Se,qe)}}function wt(D,q,ne,oe,ue,Ie){D.onBeforeRender(_,q,ne,oe,ue,Ie),D.modelViewMatrix.multiplyMatrices(ne.matrixWorldInverse,D.matrixWorld),D.normalMatrix.getNormalMatrix(D.modelViewMatrix),ue.onBeforeRender(_,q,ne,oe,D,Ie),ue.transparent===!0&&ue.side===Ko&&ue.forceSinglePass===!1?(ue.side=Ni,ue.needsUpdate=!0,_.renderBufferDirect(ne,q,oe,ue,D,Ie),ue.side=ia,ue.needsUpdate=!0,_.renderBufferDirect(ne,q,oe,ue,D,Ie),ue.side=Ko):_.renderBufferDirect(ne,q,oe,ue,D,Ie),D.onAfterRender(_,q,ne,oe,ue,Ie)}function vt(D,q,ne){q.isScene!==!0&&(q=Re);const oe=$.get(D),ue=y.state.lights,Ie=y.state.shadowsArray,ve=ue.state.version,Me=ge.getParameters(D,ue.state,Ie,q,ne),Ae=ge.getProgramCacheKey(Me);let Se=oe.programs;oe.environment=D.isMeshStandardMaterial?q.environment:null,oe.fog=q.fog,oe.envMap=(D.isMeshStandardMaterial?be:le).get(D.envMap||oe.environment),oe.envMapRotation=oe.environment!==null&&D.envMap===null?q.environmentRotation:D.envMapRotation,Se===void 0&&(D.addEventListener("dispose",at),Se=new Map,oe.programs=Se);let qe=Se.get(Ae);if(qe!==void 0){if(oe.currentProgram===qe&&oe.lightsStateVersion===ve)return pn(D,Me),qe}else Me.uniforms=ge.getUniforms(D),D.onBuild(ne,Me,_),D.onBeforeCompile(Me,_),qe=ge.acquireProgram(Me,Ae),Se.set(Ae,qe),oe.uniforms=Me.uniforms;const Ge=oe.uniforms;return(!D.isShaderMaterial&&!D.isRawShaderMaterial||D.clipping===!0)&&(Ge.clippingPlanes=He.uniform),pn(D,Me),oe.needsLights=J(D),oe.lightsStateVersion=ve,oe.needsLights&&(Ge.ambientLightColor.value=ue.state.ambient,Ge.lightProbe.value=ue.state.probe,Ge.directionalLights.value=ue.state.directional,Ge.directionalLightShadows.value=ue.state.directionalShadow,Ge.spotLights.value=ue.state.spot,Ge.spotLightShadows.value=ue.state.spotShadow,Ge.rectAreaLights.value=ue.state.rectArea,Ge.ltc_1.value=ue.state.rectAreaLTC1,Ge.ltc_2.value=ue.state.rectAreaLTC2,Ge.pointLights.value=ue.state.point,Ge.pointLightShadows.value=ue.state.pointShadow,Ge.hemisphereLights.value=ue.state.hemi,Ge.directionalShadowMap.value=ue.state.directionalShadowMap,Ge.directionalShadowMatrix.value=ue.state.directionalShadowMatrix,Ge.spotShadowMap.value=ue.state.spotShadowMap,Ge.spotLightMatrix.value=ue.state.spotLightMatrix,Ge.spotLightMap.value=ue.state.spotLightMap,Ge.pointShadowMap.value=ue.state.pointShadowMap,Ge.pointShadowMatrix.value=ue.state.pointShadowMatrix),oe.currentProgram=qe,oe.uniformsList=null,qe}function dt(D){if(D.uniformsList===null){const q=D.currentProgram.getUniforms();D.uniformsList=Ay.seqWithValue(q.seq,D.uniforms)}return D.uniformsList}function pn(D,q){const ne=$.get(D);ne.outputColorSpace=q.outputColorSpace,ne.batching=q.batching,ne.instancing=q.instancing,ne.instancingColor=q.instancingColor,ne.instancingMorph=q.instancingMorph,ne.skinning=q.skinning,ne.morphTargets=q.morphTargets,ne.morphNormals=q.morphNormals,ne.morphColors=q.morphColors,ne.morphTargetsCount=q.morphTargetsCount,ne.numClippingPlanes=q.numClippingPlanes,ne.numIntersection=q.numClipIntersection,ne.vertexAlphas=q.vertexAlphas,ne.vertexTangents=q.vertexTangents,ne.toneMapping=q.toneMapping}function fn(D,q,ne,oe,ue){q.isScene!==!0&&(q=Re),U.resetTextureUnits();const Ie=q.fog,ve=oe.isMeshStandardMaterial?q.environment:null,Me=P===null?_.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:is,Ae=(oe.isMeshStandardMaterial?be:le).get(oe.envMap||ve),Se=oe.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,qe=!!ne.attributes.tangent&&(!!oe.normalMap||oe.anisotropy>0),Ge=!!ne.morphAttributes.position,et=!!ne.morphAttributes.normal,Et=!!ne.morphAttributes.color;let yt=ea;oe.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(yt=_.toneMapping);const Ut=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,St=Ut!==void 0?Ut.length:0,it=$.get(oe),zt=y.state.lights;if(K===!0&&(te===!0||D!==T)){const Ot=D===T&&oe.id===I;He.setState(oe,D,Ot)}let At=!1;oe.version===it.__version?(it.needsLights&&it.lightsStateVersion!==zt.state.version||it.outputColorSpace!==Me||ue.isBatchedMesh&&it.batching===!1||!ue.isBatchedMesh&&it.batching===!0||ue.isInstancedMesh&&it.instancing===!1||!ue.isInstancedMesh&&it.instancing===!0||ue.isSkinnedMesh&&it.skinning===!1||!ue.isSkinnedMesh&&it.skinning===!0||ue.isInstancedMesh&&it.instancingColor===!0&&ue.instanceColor===null||ue.isInstancedMesh&&it.instancingColor===!1&&ue.instanceColor!==null||ue.isInstancedMesh&&it.instancingMorph===!0&&ue.morphTexture===null||ue.isInstancedMesh&&it.instancingMorph===!1&&ue.morphTexture!==null||it.envMap!==Ae||oe.fog===!0&&it.fog!==Ie||it.numClippingPlanes!==void 0&&(it.numClippingPlanes!==He.numPlanes||it.numIntersection!==He.numIntersection)||it.vertexAlphas!==Se||it.vertexTangents!==qe||it.morphTargets!==Ge||it.morphNormals!==et||it.morphColors!==Et||it.toneMapping!==yt||it.morphTargetsCount!==St)&&(At=!0):(At=!0,it.__version=oe.version);let Kt=it.currentProgram;At===!0&&(Kt=vt(oe,q,ue));let Vt=!1,un=!1,Dn=!1;const Zt=Kt.getUniforms(),Mn=it.uniforms;if(fe.useProgram(Kt.program)&&(Vt=!0,un=!0,Dn=!0),oe.id!==I&&(I=oe.id,un=!0),Vt||T!==D){Zt.setValue(Y,"projectionMatrix",D.projectionMatrix),Zt.setValue(Y,"viewMatrix",D.matrixWorldInverse);const Ot=Zt.map.cameraPosition;Ot!==void 0&&Ot.setValue(Y,_e.setFromMatrixPosition(D.matrixWorld)),ye.logarithmicDepthBuffer&&Zt.setValue(Y,"logDepthBufFC",2/(Math.log(D.far+1)/Math.LN2)),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&Zt.setValue(Y,"isOrthographic",D.isOrthographicCamera===!0),T!==D&&(T=D,un=!0,Dn=!0)}if(ue.isSkinnedMesh){Zt.setOptional(Y,ue,"bindMatrix"),Zt.setOptional(Y,ue,"bindMatrixInverse");const Ot=ue.skeleton;Ot&&(Ot.boneTexture===null&&Ot.computeBoneTexture(),Zt.setValue(Y,"boneTexture",Ot.boneTexture,U))}ue.isBatchedMesh&&(Zt.setOptional(Y,ue,"batchingTexture"),Zt.setValue(Y,"batchingTexture",ue._matricesTexture,U));const rn=ne.morphAttributes;if((rn.position!==void 0||rn.normal!==void 0||rn.color!==void 0)&&We.update(ue,ne,Kt),(un||it.receiveShadow!==ue.receiveShadow)&&(it.receiveShadow=ue.receiveShadow,Zt.setValue(Y,"receiveShadow",ue.receiveShadow)),oe.isMeshGouraudMaterial&&oe.envMap!==null&&(Mn.envMap.value=Ae,Mn.flipEnvMap.value=Ae.isCubeTexture&&Ae.isRenderTargetTexture===!1?-1:1),oe.isMeshStandardMaterial&&oe.envMap===null&&q.environment!==null&&(Mn.envMapIntensity.value=q.environmentIntensity),un&&(Zt.setValue(Y,"toneMappingExposure",_.toneMappingExposure),it.needsLights&&H(Mn,Dn),Ie&&oe.fog===!0&&Fe.refreshFogUniforms(Mn,Ie),Fe.refreshMaterialUniforms(Mn,oe,X,j,y.state.transmissionRenderTarget),Ay.upload(Y,dt(it),Mn,U)),oe.isShaderMaterial&&oe.uniformsNeedUpdate===!0&&(Ay.upload(Y,dt(it),Mn,U),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&Zt.setValue(Y,"center",ue.center),Zt.setValue(Y,"modelViewMatrix",ue.modelViewMatrix),Zt.setValue(Y,"normalMatrix",ue.normalMatrix),Zt.setValue(Y,"modelMatrix",ue.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const Ot=oe.uniformsGroups;for(let _t=0,Yt=Ot.length;_t<Yt;_t++){const nn=Ot[_t];he.update(nn,Kt),he.bind(nn,Kt)}}return Kt}function H(D,q){D.ambientLightColor.needsUpdate=q,D.lightProbe.needsUpdate=q,D.directionalLights.needsUpdate=q,D.directionalLightShadows.needsUpdate=q,D.pointLights.needsUpdate=q,D.pointLightShadows.needsUpdate=q,D.spotLights.needsUpdate=q,D.spotLightShadows.needsUpdate=q,D.rectAreaLights.needsUpdate=q,D.hemisphereLights.needsUpdate=q}function J(D){return D.isMeshLambertMaterial||D.isMeshToonMaterial||D.isMeshPhongMaterial||D.isMeshStandardMaterial||D.isShadowMaterial||D.isShaderMaterial&&D.lights===!0}this.getActiveCubeFace=function(){return A},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(D,q,ne){$.get(D.texture).__webglTexture=q,$.get(D.depthTexture).__webglTexture=ne;const oe=$.get(D);oe.__hasExternalTextures=!0,oe.__autoAllocateDepthBuffer=ne===void 0,oe.__autoAllocateDepthBuffer||ie.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(D,q){const ne=$.get(D);ne.__webglFramebuffer=q,ne.__useDefaultFramebuffer=q===void 0},this.setRenderTarget=function(D,q=0,ne=0){P=D,A=q,M=ne;let oe=!0,ue=null,Ie=!1,ve=!1;if(D){const Ae=$.get(D);Ae.__useDefaultFramebuffer!==void 0?(fe.bindFramebuffer(Y.FRAMEBUFFER,null),oe=!1):Ae.__webglFramebuffer===void 0?U.setupRenderTarget(D):Ae.__hasExternalTextures&&U.rebindTextures(D,$.get(D.texture).__webglTexture,$.get(D.depthTexture).__webglTexture);const Se=D.texture;(Se.isData3DTexture||Se.isDataArrayTexture||Se.isCompressedArrayTexture)&&(ve=!0);const qe=$.get(D).__webglFramebuffer;D.isWebGLCubeRenderTarget?(Array.isArray(qe[q])?ue=qe[q][ne]:ue=qe[q],Ie=!0):D.samples>0&&U.useMultisampledRTT(D)===!1?ue=$.get(D).__webglMultisampledFramebuffer:Array.isArray(qe)?ue=qe[ne]:ue=qe,E.copy(D.viewport),B.copy(D.scissor),F=D.scissorTest}else E.copy(V).multiplyScalar(X).floor(),B.copy(ee).multiplyScalar(X).floor(),F=se;if(fe.bindFramebuffer(Y.FRAMEBUFFER,ue)&&oe&&fe.drawBuffers(D,ue),fe.viewport(E),fe.scissor(B),fe.setScissorTest(F),Ie){const Ae=$.get(D.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+q,Ae.__webglTexture,ne)}else if(ve){const Ae=$.get(D.texture),Se=q||0;Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Ae.__webglTexture,ne||0,Se)}I=-1},this.readRenderTargetPixels=function(D,q,ne,oe,ue,Ie,ve){if(!(D&&D.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Me=$.get(D).__webglFramebuffer;if(D.isWebGLCubeRenderTarget&&ve!==void 0&&(Me=Me[ve]),Me){fe.bindFramebuffer(Y.FRAMEBUFFER,Me);try{const Ae=D.texture,Se=Ae.format,qe=Ae.type;if(Se!==kr&&Ze.convert(Se)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ge=qe===ii&&(ie.has("EXT_color_buffer_half_float")||ie.has("EXT_color_buffer_float"));if(qe!==xo&&Ze.convert(qe)!==Y.getParameter(Y.IMPLEMENTATION_COLOR_READ_TYPE)&&qe!==Ar&&!Ge){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}q>=0&&q<=D.width-oe&&ne>=0&&ne<=D.height-ue&&Y.readPixels(q,ne,oe,ue,Ze.convert(Se),Ze.convert(qe),Ie)}finally{const Ae=P!==null?$.get(P).__webglFramebuffer:null;fe.bindFramebuffer(Y.FRAMEBUFFER,Ae)}}},this.copyFramebufferToTexture=function(D,q,ne=0){const oe=Math.pow(2,-ne),ue=Math.floor(q.image.width*oe),Ie=Math.floor(q.image.height*oe);U.setTexture2D(q,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,ne,0,0,D.x,D.y,ue,Ie),fe.unbindTexture()},this.copyTextureToTexture=function(D,q,ne,oe=0){const ue=q.image.width,Ie=q.image.height,ve=Ze.convert(ne.format),Me=Ze.convert(ne.type);U.setTexture2D(ne,0),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,ne.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,ne.unpackAlignment),q.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,oe,D.x,D.y,ue,Ie,ve,Me,q.image.data):q.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,oe,D.x,D.y,q.mipmaps[0].width,q.mipmaps[0].height,ve,q.mipmaps[0].data):Y.texSubImage2D(Y.TEXTURE_2D,oe,D.x,D.y,ve,Me,q.image),oe===0&&ne.generateMipmaps&&Y.generateMipmap(Y.TEXTURE_2D),fe.unbindTexture()},this.copyTextureToTexture3D=function(D,q,ne,oe,ue=0){const Ie=Math.round(D.max.x-D.min.x),ve=Math.round(D.max.y-D.min.y),Me=D.max.z-D.min.z+1,Ae=Ze.convert(oe.format),Se=Ze.convert(oe.type);let qe;if(oe.isData3DTexture)U.setTexture3D(oe,0),qe=Y.TEXTURE_3D;else if(oe.isDataArrayTexture||oe.isCompressedArrayTexture)U.setTexture2DArray(oe,0),qe=Y.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,oe.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,oe.unpackAlignment);const Ge=Y.getParameter(Y.UNPACK_ROW_LENGTH),et=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),Et=Y.getParameter(Y.UNPACK_SKIP_PIXELS),yt=Y.getParameter(Y.UNPACK_SKIP_ROWS),Ut=Y.getParameter(Y.UNPACK_SKIP_IMAGES),St=ne.isCompressedTexture?ne.mipmaps[ue]:ne.image;Y.pixelStorei(Y.UNPACK_ROW_LENGTH,St.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,St.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,D.min.x),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,D.min.y),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,D.min.z),ne.isDataTexture||ne.isData3DTexture?Y.texSubImage3D(qe,ue,q.x,q.y,q.z,Ie,ve,Me,Ae,Se,St.data):oe.isCompressedArrayTexture?Y.compressedTexSubImage3D(qe,ue,q.x,q.y,q.z,Ie,ve,Me,Ae,St.data):Y.texSubImage3D(qe,ue,q.x,q.y,q.z,Ie,ve,Me,Ae,Se,St),Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Ge),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,et),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Et),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,yt),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Ut),ue===0&&oe.generateMipmaps&&Y.generateMipmap(qe),fe.unbindTexture()},this.initTexture=function(D){D.isCubeTexture?U.setTextureCube(D,0):D.isData3DTexture?U.setTexture3D(D,0):D.isDataArrayTexture||D.isCompressedArrayTexture?U.setTexture2DArray(D,0):U.setTexture2D(D,0),fe.unbindTexture()},this.resetState=function(){A=0,M=0,P=null,fe.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Xs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===OS?"display-p3":"srgb",n.unpackColorSpace=Fn.workingColorSpace===fg?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class FS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Rt(e),this.density=n}clone(){return new FS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class NS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Rt(e),this.near=n,this.far=r}clone(){return new NS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Uf extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new wo,this.environmentIntensity=1,this.environmentRotation=new wo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class gg{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Om,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=So()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return G6("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ii=new re;class Xl{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Ii.fromBufferAttribute(this,n),Ii.applyMatrix4(e),this.setXYZ(n,Ii.x,Ii.y,Ii.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ii.fromBufferAttribute(this,n),Ii.applyNormalMatrix(e),this.setXYZ(n,Ii.x,Ii.y,Ii.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ii.fromBufferAttribute(this,n),Ii.transformDirection(e),this.setXYZ(n,Ii.x,Ii.y,Ii.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Li(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=cn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=cn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Li(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Li(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Li(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Li(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=cn(n,this.array),r=cn(r,this.array),i=cn(i,this.array),o=cn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new En(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xl(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class yR extends Or{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let bd;const Kh=new re,wd=new re,Ed=new re,Md=new Qe,Jh=new Qe,iV=new Jt,g0=new re,Yh=new re,v0=new re,cF=new Qe,$C=new Qe,uF=new Qe;class oV extends wn{constructor(e=new yR){if(super(),this.isSprite=!0,this.type="Sprite",bd===void 0){bd=new an;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new gg(n,5);bd.setIndex([0,1,2,0,2,3]),bd.setAttribute("position",new Xl(r,3,0,!1)),bd.setAttribute("uv",new Xl(r,2,3,!1))}this.geometry=bd,this.material=e,this.center=new Qe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),wd.setFromMatrixScale(this.matrixWorld),iV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ed.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&wd.multiplyScalar(-Ed.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;y0(g0.set(-.5,-.5,0),Ed,s,wd,i,o),y0(Yh.set(.5,-.5,0),Ed,s,wd,i,o),y0(v0.set(.5,.5,0),Ed,s,wd,i,o),cF.set(0,0),$C.set(1,0),uF.set(1,1);let a=e.ray.intersectTriangle(g0,Yh,v0,!1,Kh);if(a===null&&(y0(Yh.set(-.5,.5,0),Ed,s,wd,i,o),$C.set(0,1),a=e.ray.intersectTriangle(g0,v0,Yh,!1,Kh),a===null))return;const l=e.ray.origin.distanceTo(Kh);l<e.near||l>e.far||n.push({distance:l,point:Kh.clone(),uv:mo.getInterpolation(Kh,g0,Yh,v0,cF,$C,uF,new Qe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function y0(t,e,n,r,i,o){Md.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Jh.x=o*Md.x-i*Md.y,Jh.y=i*Md.x+o*Md.y):Jh.copy(Md),t.copy(e),t.x+=Jh.x,t.y+=Jh.y,t.applyMatrix4(iV)}const x0=new re,dF=new re;class sV extends wn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){x0.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(x0);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){x0.setFromMatrixPosition(e.matrixWorld),dF.setFromMatrixPosition(this.matrixWorld);const r=x0.distanceTo(dF)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const fF=new re,hF=new Nn,pF=new Nn,kme=new re,mF=new Jt,S0=new re,WC=new si,gF=new Jt,jC=new Bu;class xR extends ir{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=GE,this.bindMatrix=new Jt,this.bindMatrixInverse=new Jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ei),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,S0),this.boundingBox.expandByPoint(S0)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new si),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,S0),this.boundingSphere.expandByPoint(S0)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),WC.copy(this.boundingSphere),WC.applyMatrix4(i),e.ray.intersectsSphere(WC)!==!1&&(gF.copy(i).invert(),jC.copy(e.ray).applyMatrix4(gF),!(this.boundingBox!==null&&jC.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,jC)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Nn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===GE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===y6?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;hF.fromBufferAttribute(i.attributes.skinIndex,e),pF.fromBufferAttribute(i.attributes.skinWeight,e),fF.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=pF.getComponent(o);if(s!==0){const a=hF.getComponent(o);mF.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(kme.copy(fF).applyMatrix4(mF),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class US extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class La extends Bn{constructor(e=null,n=1,r=1,i,o,s,a,l,c=Ur,u=Ur,d,f){super(null,s,a,l,c,u,i,o,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const vF=new Jt,zme=new Jt;class vg{constructor(e=[],n=[]){this.uuid=So(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Jt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:zme;vF.multiplyMatrices(a,n[o]),vF.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new vg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new La(n,e,e,kr,Ar);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new US),this.bones.push(s),this.boneInverses.push(new Jt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class kf extends En{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Ad=new Jt,yF=new Jt,_0=[],xF=new Ei,Hme=new Jt,qh=new ir,Qh=new si;class SR extends ir{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new kf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Hme)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ei),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Ad),xF.copy(e.boundingBox).applyMatrix4(Ad),this.boundingBox.union(xF)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new si),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Ad),Qh.copy(e.boundingSphere).applyMatrix4(Ad),this.boundingSphere.union(Qh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,s=e*o+1;for(let a=0;a<r.length;a++)r[a]=i[s+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(qh.geometry=this.geometry,qh.material=this.material,qh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Qh.copy(this.boundingSphere),Qh.applyMatrix4(r),e.ray.intersectsSphere(Qh)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Ad),yF.multiplyMatrices(r,Ad),qh.matrixWorld=yF,qh.raycast(e,_0);for(let s=0,a=_0.length;s<a;s++){const l=_0[s];l.instanceId=o,l.object=this,n.push(l)}_0.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new kf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new La(new Float32Array(i*this.count),i,this.count,IS,Ar));const o=this.morphTexture.source.data.data;let s=0;for(let c=0;c<r.length;c++)s+=r[c];const a=this.geometry.morphTargetsRelative?1:1-s,l=i*e;o[l]=a,o.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Vme(t,e){return t.z-e.z}function Gme(t,e){return e.z-t.z}class $me{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=n}reset(){this.list.length=0,this.index=0}}const Td="batchId",ul=new Jt,SF=new Jt,Wme=new Jt,_F=new Jt,XC=new mg,C0=new Ei,Ac=new si,Zh=new re,KC=new $me,Si=new ir,b0=[];function jme(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let s=0;s<r;s++)e.setComponent(o+n,s,t.getComponent(o,s))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class aV extends ir{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new an,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new La(n,e,e,kr,Ar);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,o=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:d}=l,f=new c.constructor(r*u),m=new En(f,u,d);n.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(o):new Uint16Array(o);n.setIndex(new En(a,1))}const s=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Td,new En(s,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Td))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Td}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Td)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ei);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,ul),this.getBoundingBoxAt(i,C0).applyMatrix4(ul),n.union(C0))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new si);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,ul),this.getBoundingSphereAt(i,Ac).applyMatrix4(ul),n.union(Ac))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let o=null;const s=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(o=s[s.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,o===null?i.vertexStart=0:i.vertexStart=o.vertexStart+o.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,o===null?i.indexStart=0:i.indexStart=o.indexStart+o.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const d=this._visibility,f=this._active,m=this._matricesTexture,v=this._matricesTexture.image.data;d.push(!0),f.push(!0);const x=this._geometryCount;this._geometryCount++,Wme.toArray(v,x*16),m.needsUpdate=!0,s.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Ei,sphereInitialized:!1,sphere:new si});const y=this.geometry.getAttribute(Td);for(let g=0;g<i.vertexCount;g++)y.setX(i.vertexStart+g,x);return y.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),s=n.getIndex(),a=this._reservedRanges[e];if(i&&s.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in r.attributes){if(m===Td)continue;const v=n.getAttribute(m),x=r.getAttribute(m);jme(v,x,l);const y=v.itemSize;for(let g=v.count,S=c;g<S;g++){const _=l+g;for(let w=0;w<y;w++)x.setComponent(_,w,0)}x.needsUpdate=!0,x.addUpdateRange(l*y,c*y)}if(i){const m=a.indexStart;for(let v=0;v<s.count;v++)o.setX(m+v,l+s.getX(v));for(let v=s.count,x=a.indexCount;v<x;v++)o.setX(m+v,l);o.needsUpdate=!0,o.addUpdateRange(m,a.indexCount)}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const d=this._drawRanges[e],f=n.getAttribute("position");return d.count=i?s.count:f.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.box,s=this.geometry;if(i.boxInitialized===!1){o.makeEmpty();const a=s.index,l=s.attributes.position,c=this._drawRanges[e];for(let u=c.start,d=c.start+c.count;u<d;u++){let f=u;a&&(f=a.getX(f)),o.expandByPoint(Zh.fromBufferAttribute(l,f))}i.boxInitialized=!0}return n.copy(o),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],o=i.sphere,s=this.geometry;if(i.sphereInitialized===!1){o.makeEmpty(),this.getBoundingBoxAt(e,C0),C0.getCenter(o.center);const a=s.index,l=s.attributes.position,c=this._drawRanges[e];let u=0;for(let d=c.start,f=c.start+c.count;d<f;d++){let m=d;a&&(m=a.getX(m)),Zh.fromBufferAttribute(l,m),u=Math.max(u,o.center.distanceToSquared(Zh))}o.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(o),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,o=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,o=this._geometryCount;return e>=o||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,o=this._drawRanges,s=this._geometryCount,a=this.matrixWorld,l=this.geometry;Si.material=this.material,Si.geometry.index=l.index,Si.geometry.attributes=l.attributes,Si.geometry.boundingBox===null&&(Si.geometry.boundingBox=new Ei),Si.geometry.boundingSphere===null&&(Si.geometry.boundingSphere=new si);for(let c=0;c<s;c++){if(!r[c]||!i[c])continue;const u=o[c];Si.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Si.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Si.geometry.boundingBox),this.getBoundingSphereAt(c,Si.geometry.boundingSphere),Si.raycast(e,b0);for(let d=0,f=b0.length;d<f;d++){const m=b0[d];m.object=this,m.batchId=c,n.push(m)}b0.length=0}Si.material=null,Si.geometry.index=null,Si.geometry.attributes={},Si.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,l=this._active,c=this._visibility,u=this._multiDrawStarts,d=this._multiDrawCounts,f=this._drawRanges,m=this.perObjectFrustumCulled;m&&(_F.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),XC.setFromProjectionMatrix(_F,e.coordinateSystem));let v=0;if(this.sortObjects){SF.copy(this.matrixWorld).invert(),Zh.setFromMatrixPosition(r.matrixWorld).applyMatrix4(SF);for(let g=0,S=c.length;g<S;g++)if(c[g]&&l[g]){this.getMatrixAt(g,ul),this.getBoundingSphereAt(g,Ac).applyMatrix4(ul);let _=!1;if(m&&(_=!XC.intersectsSphere(Ac)),!_){const w=Zh.distanceTo(Ac.center);KC.push(f[g],w)}}const x=KC.list,y=this.customSort;y===null?x.sort(o.transparent?Gme:Vme):y.call(this,x,r);for(let g=0,S=x.length;g<S;g++){const _=x[g];u[v]=_.start*a,d[v]=_.count,v++}KC.reset()}else for(let x=0,y=c.length;x<y;x++)if(c[x]&&l[x]){let g=!1;if(m&&(this.getMatrixAt(x,ul),this.getBoundingSphereAt(x,Ac).applyMatrix4(ul),g=!XC.intersectsSphere(Ac)),!g){const S=f[x];u[v]=S.start*a,d[v]=S.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,s){this.onBeforeRender(e,null,i,o,s)}}class Ai extends Or{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Rt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const CF=new re,bF=new re,wF=new Jt,JC=new Bu,w0=new si;class $a extends wn{constructor(e=new an,n=new Ai){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)CF.fromBufferAttribute(n,i-1),bF.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=CF.distanceTo(bF);e.setAttribute("lineDistance",new Ht(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),w0.copy(r.boundingSphere),w0.applyMatrix4(i),w0.radius+=o,e.ray.intersectsSphere(w0)===!1)return;wF.copy(i).invert(),JC.copy(e.ray).applyMatrix4(wF);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new re,u=new re,d=new re,f=new re,m=this.isLineSegments?2:1,v=r.index,y=r.attributes.position;if(v!==null){const g=Math.max(0,s.start),S=Math.min(v.count,s.start+s.count);for(let _=g,w=S-1;_<w;_+=m){const A=v.getX(_),M=v.getX(_+1);if(c.fromBufferAttribute(y,A),u.fromBufferAttribute(y,M),JC.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(f);I<e.near||I>e.far||n.push({distance:I,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,s.start),S=Math.min(y.count,s.start+s.count);for(let _=g,w=S-1;_<w;_+=m){if(c.fromBufferAttribute(y,_),u.fromBufferAttribute(y,_+1),JC.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||n.push({distance:M,point:d.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const EF=new re,MF=new re;class Bs extends $a{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)EF.fromBufferAttribute(n,i),MF.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+EF.distanceTo(MF);e.setAttribute("lineDistance",new Ht(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class _R extends $a{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class kS extends Or{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Rt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const AF=new Jt,SM=new Bu,E0=new si,M0=new re;class CR extends wn{constructor(e=new an,n=new kS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),E0.copy(r.boundingSphere),E0.applyMatrix4(i),E0.radius+=o,e.ray.intersectsSphere(E0)===!1)return;AF.copy(i).invert(),SM.copy(e.ray).applyMatrix4(AF);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,s.start),m=Math.min(c.count,s.start+s.count);for(let v=f,x=m;v<x;v++){const y=c.getX(v);M0.fromBufferAttribute(d,y),TF(M0,y,l,i,e,n,this)}}else{const f=Math.max(0,s.start),m=Math.min(d.count,s.start+s.count);for(let v=f,x=m;v<x;v++)M0.fromBufferAttribute(d,v),TF(M0,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function TF(t,e,n,r,i,o,s){const a=SM.distanceSqToPoint(t);if(a<n){const l=new re;SM.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:s})}}class Xme extends Bn{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isVideoTexture=!0,this.minFilter=s!==void 0?s:In,this.magFilter=o!==void 0?o:In,this.generateMipmaps=!1;const u=this;function d(){u.needsUpdate=!0,e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(d)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Kme extends Bn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ur,this.minFilter=Ur,this.generateMipmaps=!1,this.needsUpdate=!0}}class zS extends Bn{constructor(e,n,r,i,o,s,a,l,c,u,d,f){super(null,s,a,l,c,u,i,o,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Jme extends zS{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Mr}}class Yme extends zS{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,oa),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class qme extends Bn{constructor(e,n,r,i,o,s,a,l,c){super(e,n,r,i,o,s,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Os{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let a=0,l=o-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-s,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(o-1);const u=r[i],f=r[i+1]-u,m=(s-u)/f;return(i+m)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),l=n||(s.isVector2?new Qe:new re);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new re,i=[],o=[],s=[],a=new re,l=new Jt;for(let m=0;m<=e;m++){const v=m/e;i[m]=this.getTangentAt(v,new re)}o[0]=new re,s[0]=new re;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let m=1;m<=e;m++){if(o[m]=o[m-1].clone(),s[m]=s[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Sr(i[m-1].dot(i[m]),-1,1));o[m].applyMatrix4(l.makeRotationAxis(a,v))}s[m].crossVectors(i[m],o[m])}if(n===!0){let m=Math.acos(Sr(o[0].dot(o[e]),-1,1));m/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(m=-m);for(let v=1;v<=e;v++)o[v].applyMatrix4(l.makeRotationAxis(i[v],m*v)),s[v].crossVectors(i[v],o[v])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class HS extends Os{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new Qe){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*u-m*d+this.aX,c=f*d+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class lV extends HS{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function bR(){let t=0,e=0,n=0,r=0;function i(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,r=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){i(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,d){let f=(s-o)/c-(a-o)/(c+u)+(a-s)/u,m=(a-s)/u-(l-s)/(u+d)+(l-a)/d;f*=u,m*=u,i(s,a,f,m)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+r*a}}}const A0=new re,YC=new bR,qC=new bR,QC=new bR;class cV extends Os{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new re){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%o]:(A0.subVectors(i[0],i[1]).add(i[0]),c=A0);const d=i[a%o],f=i[(a+1)%o];if(this.closed||a+2<o?u=i[(a+2)%o]:(A0.subVectors(i[o-1],i[o-2]).add(i[o-1]),u=A0),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),m),x=Math.pow(d.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(u),m);x<1e-4&&(x=1),v<1e-4&&(v=x),y<1e-4&&(y=x),YC.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,v,x,y),qC.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,v,x,y),QC.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,v,x,y)}else this.curveType==="catmullrom"&&(YC.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),qC.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),QC.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(YC.calc(l),qC.calc(l),QC.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new re().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function RF(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+o+s)*l+(-3*n+3*r-2*o-s)*a+o*t+n}function Qme(t,e){const n=1-t;return n*n*e}function Zme(t,e){return 2*(1-t)*t*e}function ege(t,e){return t*t*e}function Np(t,e,n,r){return Qme(t,e)+Zme(t,n)+ege(t,r)}function tge(t,e){const n=1-t;return n*n*n*e}function nge(t,e){const n=1-t;return 3*n*n*t*e}function rge(t,e){return 3*(1-t)*t*t*e}function ige(t,e){return t*t*t*e}function Up(t,e,n,r,i){return tge(t,e)+nge(t,n)+rge(t,r)+ige(t,i)}class wR extends Os{constructor(e=new Qe,n=new Qe,r=new Qe,i=new Qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Qe){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Up(e,i.x,o.x,s.x,a.x),Up(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class uV extends Os{constructor(e=new re,n=new re,r=new re,i=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new re){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Up(e,i.x,o.x,s.x,a.x),Up(e,i.y,o.y,s.y,a.y),Up(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ER extends Os{constructor(e=new Qe,n=new Qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Qe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Qe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dV extends Os{constructor(e=new re,n=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new re){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new re){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MR extends Os{constructor(e=new Qe,n=new Qe,r=new Qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Qe){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Np(e,i.x,o.x,s.x),Np(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AR extends Os{constructor(e=new re,n=new re,r=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new re){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Np(e,i.x,o.x,s.x),Np(e,i.y,o.y,s.y),Np(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class TR extends Os{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Qe){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(RF(a,l.x,c.x,u.x,d.x),RF(a,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Qe().fromArray(i))}return this}}var _x=Object.freeze({__proto__:null,ArcCurve:lV,CatmullRomCurve3:cV,CubicBezierCurve:wR,CubicBezierCurve3:uV,EllipseCurve:HS,LineCurve:ER,LineCurve3:dV,QuadraticBezierCurve:MR,QuadraticBezierCurve3:AR,SplineCurve:TR});class fV extends Os{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new _x[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],l=a.getLength(),c=l===0?0:1-s/l;return a.getPointAt(c,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new _x[i.type]().fromJSON(i))}return this}}class Fm extends fV{constructor(e){super(),this.type="Path",this.currentPoint=new Qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new ER(this.currentPoint.clone(),new Qe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new MR(this.currentPoint.clone(),new Qe(e,n),new Qe(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const a=new wR(this.currentPoint.clone(),new Qe(e,n),new Qe(r,i),new Qe(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new TR(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,o,s,a,l),this}absellipse(e,n,r,i,o,s,a,l){const c=new HS(e,n,r,i,o,s,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class yg extends an{constructor(e=[new Qe(0,-.5),new Qe(.5,0),new Qe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Sr(i,0,Math.PI*2);const o=[],s=[],a=[],l=[],c=[],u=1/n,d=new re,f=new Qe,m=new re,v=new re,x=new re;let y=0,g=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:y=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-y,m.z=g*0,v.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(v)}for(let S=0;S<=n;S++){const _=r+S*u*i,w=Math.sin(_),A=Math.cos(_);for(let M=0;M<=e.length-1;M++){d.x=e[M].x*w,d.y=e[M].y,d.z=e[M].x*A,s.push(d.x,d.y,d.z),f.x=S/n,f.y=M/(e.length-1),a.push(f.x,f.y);const P=l[3*M+0]*w,I=l[3*M+1],T=l[3*M+0]*A;c.push(P,I,T)}}for(let S=0;S<n;S++)for(let _=0;_<e.length-1;_++){const w=_+S*e.length,A=w,M=w+e.length,P=w+e.length+1,I=w+1;o.push(A,M,I),o.push(P,I,M)}this.setIndex(o),this.setAttribute("position",new Ht(s,3)),this.setAttribute("uv",new Ht(a,2)),this.setAttribute("normal",new Ht(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yg(e.points,e.segments,e.phiStart,e.phiLength)}}class VS extends yg{constructor(e=1,n=1,r=4,i=8){const o=new Fm;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new VS(e.radius,e.length,e.capSegments,e.radialSegments)}}class GS extends an{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],s=[],a=[],l=[],c=new re,u=new Qe;s.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const m=r+d/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),s.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(s[f]/e+1)/2,u.y=(s[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)o.push(d,d+1,0);this.setIndex(o),this.setAttribute("position",new Ht(s,3)),this.setAttribute("normal",new Ht(a,3)),this.setAttribute("uv",new Ht(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ah extends an{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),o=Math.floor(o);const u=[],d=[],f=[],m=[];let v=0;const x=[],y=r/2;let g=0;S(),s===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Ht(d,3)),this.setAttribute("normal",new Ht(f,3)),this.setAttribute("uv",new Ht(m,2));function S(){const w=new re,A=new re;let M=0;const P=(n-e)/r;for(let I=0;I<=o;I++){const T=[],E=I/o,B=E*(n-e)+e;for(let F=0;F<=i;F++){const L=F/i,z=L*l+a,G=Math.sin(z),j=Math.cos(z);A.x=B*G,A.y=-E*r+y,A.z=B*j,d.push(A.x,A.y,A.z),w.set(G,P,j).normalize(),f.push(w.x,w.y,w.z),m.push(L,1-E),T.push(v++)}x.push(T)}for(let I=0;I<i;I++)for(let T=0;T<o;T++){const E=x[T][I],B=x[T+1][I],F=x[T+1][I+1],L=x[T][I+1];u.push(E,B,L),u.push(B,F,L),M+=6}c.addGroup(g,M,0),g+=M}function _(w){const A=v,M=new Qe,P=new re;let I=0;const T=w===!0?e:n,E=w===!0?1:-1;for(let F=1;F<=i;F++)d.push(0,y*E,0),f.push(0,E,0),m.push(.5,.5),v++;const B=v;for(let F=0;F<=i;F++){const z=F/i*l+a,G=Math.cos(z),j=Math.sin(z);P.x=T*j,P.y=y*E,P.z=T*G,d.push(P.x,P.y,P.z),f.push(0,E,0),M.x=G*.5+.5,M.y=j*.5*E+.5,m.push(M.x,M.y),v++}for(let F=0;F<i;F++){const L=A+F,z=B+F;w===!0?u.push(z,z+1,L):u.push(z+1,z,L),I+=3}c.addGroup(g,I,w===!0?1:2),g+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ah(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class $S extends ah{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,n,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new $S(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ac extends an{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];a(i),c(r),u(),this.setAttribute("position",new Ht(o,3)),this.setAttribute("normal",new Ht(o.slice(),3)),this.setAttribute("uv",new Ht(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const _=new re,w=new re,A=new re;for(let M=0;M<n.length;M+=3)m(n[M+0],_),m(n[M+1],w),m(n[M+2],A),l(_,w,A,S)}function l(S,_,w,A){const M=A+1,P=[];for(let I=0;I<=M;I++){P[I]=[];const T=S.clone().lerp(w,I/M),E=_.clone().lerp(w,I/M),B=M-I;for(let F=0;F<=B;F++)F===0&&I===M?P[I][F]=T:P[I][F]=T.clone().lerp(E,F/B)}for(let I=0;I<M;I++)for(let T=0;T<2*(M-I)-1;T++){const E=Math.floor(T/2);T%2===0?(f(P[I][E+1]),f(P[I+1][E]),f(P[I][E])):(f(P[I][E+1]),f(P[I+1][E+1]),f(P[I+1][E]))}}function c(S){const _=new re;for(let w=0;w<o.length;w+=3)_.x=o[w+0],_.y=o[w+1],_.z=o[w+2],_.normalize().multiplyScalar(S),o[w+0]=_.x,o[w+1]=_.y,o[w+2]=_.z}function u(){const S=new re;for(let _=0;_<o.length;_+=3){S.x=o[_+0],S.y=o[_+1],S.z=o[_+2];const w=y(S)/2/Math.PI+.5,A=g(S)/Math.PI+.5;s.push(w,1-A)}v(),d()}function d(){for(let S=0;S<s.length;S+=6){const _=s[S+0],w=s[S+2],A=s[S+4],M=Math.max(_,w,A),P=Math.min(_,w,A);M>.9&&P<.1&&(_<.2&&(s[S+0]+=1),w<.2&&(s[S+2]+=1),A<.2&&(s[S+4]+=1))}}function f(S){o.push(S.x,S.y,S.z)}function m(S,_){const w=S*3;_.x=e[w+0],_.y=e[w+1],_.z=e[w+2]}function v(){const S=new re,_=new re,w=new re,A=new re,M=new Qe,P=new Qe,I=new Qe;for(let T=0,E=0;T<o.length;T+=9,E+=6){S.set(o[T+0],o[T+1],o[T+2]),_.set(o[T+3],o[T+4],o[T+5]),w.set(o[T+6],o[T+7],o[T+8]),M.set(s[E+0],s[E+1]),P.set(s[E+2],s[E+3]),I.set(s[E+4],s[E+5]),A.copy(S).add(_).add(w).divideScalar(3);const B=y(A);x(M,E+0,S,B),x(P,E+2,_,B),x(I,E+4,w,B)}}function x(S,_,w,A){A<0&&S.x===1&&(s[_]=S.x-1),w.x===0&&w.z===0&&(s[_]=A/2/Math.PI+.5)}function y(S){return Math.atan2(S.z,-S.x)}function g(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ac(e.vertices,e.indices,e.radius,e.details)}}class WS extends ac{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new WS(e.radius,e.detail)}}const T0=new re,R0=new re,ZC=new re,P0=new mo;class hV extends an{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(fu*n),s=e.getIndex(),a=e.getAttribute("position"),l=s?s.count:a.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},m=[];for(let v=0;v<l;v+=3){s?(c[0]=s.getX(v),c[1]=s.getX(v+1),c[2]=s.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:y,c:g}=P0;if(x.fromBufferAttribute(a,c[0]),y.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),P0.getNormal(ZC),d[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[1]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,d[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let S=0;S<3;S++){const _=(S+1)%3,w=d[S],A=d[_],M=P0[u[S]],P=P0[u[_]],I=`${w}_${A}`,T=`${A}_${w}`;T in f&&f[T]?(ZC.dot(f[T].normal)<=o&&(m.push(M.x,M.y,M.z),m.push(P.x,P.y,P.z)),f[T]=null):I in f||(f[I]={index0:c[S],index1:c[_],normal:ZC.clone()})}}for(const v in f)if(f[v]){const{index0:x,index1:y}=f[v];T0.fromBufferAttribute(a,x),R0.fromBufferAttribute(a,y),m.push(T0.x,T0.y,T0.z),m.push(R0.x,R0.y,R0.z)}this.setAttribute("position",new Ht(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class pu extends Fm{constructor(e){super(e),this.uuid=So(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Fm().fromJSON(i))}return this}}const oge={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=pV(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,d,f,m;if(r&&(o=uge(t,e,o,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let v=n;v<i;v+=n)d=t[v],f=t[v+1],d<a&&(a=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Nm(o,s,n,a,l,m,0),s}};function pV(t,e,n,r,i){let o,s;if(i===_ge(t,e,n,r)>0)for(o=e;o<n;o+=r)s=PF(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=PF(o,t[o],t[o+1],s);return s&&jS(s,s.next)&&(km(s),s=s.next),s}function wu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(jS(n,n.next)||dr(n.prev,n,n.next)===0)){if(km(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Nm(t,e,n,r,i,o,s){if(!t)return;!s&&o&&mge(t,r,i,o);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,o?age(t,r,i,o):sge(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),km(t),t=c.next,a=c.next;continue}if(t=c,t===a){s?s===1?(t=lge(wu(t),e,n),Nm(t,e,n,r,i,o,2)):s===2&&cge(t,e,n,r,i,o):Nm(wu(t),e,n,r,i,o,1);break}}}function sge(t){const e=t.prev,n=t,r=t.next;if(dr(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,a=e.y,l=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,d=a<l?a<c?a:c:l<c?l:c,f=i>o?i>s?i:s:o>s?o:s,m=a>l?a>c?a:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=f&&v.y>=d&&v.y<=m&&ef(i,a,o,l,s,c,v.x,v.y)&&dr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function age(t,e,n,r){const i=t.prev,o=t,s=t.next;if(dr(i,o,s)>=0)return!1;const a=i.x,l=o.x,c=s.x,u=i.y,d=o.y,f=s.y,m=a<l?a<c?a:c:l<c?l:c,v=u<d?u<f?u:f:d<f?d:f,x=a>l?a>c?a:c:l>c?l:c,y=u>d?u>f?u:f:d>f?d:f,g=_M(m,v,e,n,r),S=_M(x,y,e,n,r);let _=t.prevZ,w=t.nextZ;for(;_&&_.z>=g&&w&&w.z<=S;){if(_.x>=m&&_.x<=x&&_.y>=v&&_.y<=y&&_!==i&&_!==s&&ef(a,u,l,d,c,f,_.x,_.y)&&dr(_.prev,_,_.next)>=0||(_=_.prevZ,w.x>=m&&w.x<=x&&w.y>=v&&w.y<=y&&w!==i&&w!==s&&ef(a,u,l,d,c,f,w.x,w.y)&&dr(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;_&&_.z>=g;){if(_.x>=m&&_.x<=x&&_.y>=v&&_.y<=y&&_!==i&&_!==s&&ef(a,u,l,d,c,f,_.x,_.y)&&dr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;w&&w.z<=S;){if(w.x>=m&&w.x<=x&&w.y>=v&&w.y<=y&&w!==i&&w!==s&&ef(a,u,l,d,c,f,w.x,w.y)&&dr(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function lge(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!jS(i,o)&&mV(i,r,r.next,o)&&Um(i,o)&&Um(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),km(r),km(r.next),r=t=o),r=r.next}while(r!==t);return wu(r)}function cge(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&yge(s,a)){let l=gV(s,a);s=wu(s,s.next),l=wu(l,l.next),Nm(s,e,n,r,i,o,0),Nm(l,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function uge(t,e,n,r){const i=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;o++)a=e[o]*r,l=o<s-1?e[o+1]*r:t.length,c=pV(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(vge(c));for(i.sort(dge),o=0;o<i.length;o++)n=fge(i[o],n);return n}function dge(t,e){return t.x-e.x}function fge(t,e){const n=hge(t,e);if(!n)return e;const r=gV(n,t);return wu(r,r.next),wu(n,n.next)}function hge(t,e){let n=e,r=-1/0,i;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const f=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=o&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===o))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,d;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&ef(s<c?o:r,s,l,c,s<c?r:o,s,n.x,n.y)&&(d=Math.abs(s-n.y)/(o-n.x),Um(n,t)&&(d<u||d===u&&(n.x>i.x||n.x===i.x&&pge(i,n)))&&(i=n,u=d)),n=n.next;while(n!==a);return i}function pge(t,e){return dr(t.prev,t,e.prev)<0&&dr(e.next,t,t.next)<0}function mge(t,e,n,r){let i=t;do i.z===0&&(i.z=_M(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,gge(i)}function gge(t){let e,n,r,i,o,s,a,l,c=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1);return t}function _M(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function vge(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function ef(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function yge(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!xge(t,e)&&(Um(t,e)&&Um(e,t)&&Sge(t,e)&&(dr(t.prev,t,e.prev)||dr(t,e.prev,e))||jS(t,e)&&dr(t.prev,t,t.next)>0&&dr(e.prev,e,e.next)>0)}function dr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function jS(t,e){return t.x===e.x&&t.y===e.y}function mV(t,e,n,r){const i=B0(dr(t,e,n)),o=B0(dr(t,e,r)),s=B0(dr(n,r,t)),a=B0(dr(n,r,e));return!!(i!==o&&s!==a||i===0&&I0(t,n,e)||o===0&&I0(t,r,e)||s===0&&I0(n,t,r)||a===0&&I0(n,e,r))}function I0(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function B0(t){return t>0?1:t<0?-1:0}function xge(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mV(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Um(t,e){return dr(t.prev,t,t.next)<0?dr(t,e,t.next)>=0&&dr(t,t.prev,e)>=0:dr(t,e,t.prev)<0||dr(t,t.next,e)<0}function Sge(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function gV(t,e){const n=new CM(t.i,t.x,t.y),r=new CM(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function PF(t,e,n,r){const i=new CM(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function km(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function CM(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _ge(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class ta{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return ta.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];IF(e),BF(r,e);let s=e.length;n.forEach(IF);for(let l=0;l<n.length;l++)i.push(s),s+=n[l].length,BF(r,n[l]);const a=oge.triangulate(r,i);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function IF(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function BF(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class XS extends an{constructor(e=new pu([new Qe(.5,.5),new Qe(-.5,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];s(c)}this.setAttribute("position",new Ht(i,3)),this.setAttribute("uv",new Ht(o,2)),this.computeVertexNormals();function s(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,y=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:Cge;let _,w=!1,A,M,P,I;g&&(_=g.getSpacedPoints(u),w=!0,f=!1,A=g.computeFrenetFrames(u,!1),M=new re,P=new re,I=new re),f||(y=0,m=0,v=0,x=0);const T=a.extractPoints(c);let E=T.shape;const B=T.holes;if(!ta.isClockWise(E)){E=E.reverse();for(let Q=0,ie=B.length;Q<ie;Q++){const ye=B[Q];ta.isClockWise(ye)&&(B[Q]=ye.reverse())}}const L=ta.triangulateShape(E,B),z=E;for(let Q=0,ie=B.length;Q<ie;Q++){const ye=B[Q];E=E.concat(ye)}function G(Q,ie,ye){return ie||console.error("THREE.ExtrudeGeometry: vec does not exist"),Q.clone().addScaledVector(ie,ye)}const j=E.length,X=L.length;function N(Q,ie,ye){let fe,pe,$;const U=Q.x-ie.x,le=Q.y-ie.y,be=ye.x-Q.x,we=ye.y-Q.y,Oe=U*U+le*le,De=U*we-le*be;if(Math.abs(De)>Number.EPSILON){const ge=Math.sqrt(Oe),Fe=Math.sqrt(be*be+we*we),Xe=ie.x-le/ge,Ne=ie.y+U/ge,He=ye.x-we/Fe,Ye=ye.y+be/Fe,Ke=((He-Xe)*we-(Ye-Ne)*be)/(U*we-le*be);fe=Xe+U*Ke-Q.x,pe=Ne+le*Ke-Q.y;const We=fe*fe+pe*pe;if(We<=2)return new Qe(fe,pe);$=Math.sqrt(We/2)}else{let ge=!1;U>Number.EPSILON?be>Number.EPSILON&&(ge=!0):U<-Number.EPSILON?be<-Number.EPSILON&&(ge=!0):Math.sign(le)===Math.sign(we)&&(ge=!0),ge?(fe=-le,pe=U,$=Math.sqrt(Oe)):(fe=U,pe=le,$=Math.sqrt(Oe/2))}return new Qe(fe/$,pe/$)}const W=[];for(let Q=0,ie=z.length,ye=ie-1,fe=Q+1;Q<ie;Q++,ye++,fe++)ye===ie&&(ye=0),fe===ie&&(fe=0),W[Q]=N(z[Q],z[ye],z[fe]);const V=[];let ee,se=W.concat();for(let Q=0,ie=B.length;Q<ie;Q++){const ye=B[Q];ee=[];for(let fe=0,pe=ye.length,$=pe-1,U=fe+1;fe<pe;fe++,$++,U++)$===pe&&($=0),U===pe&&(U=0),ee[fe]=N(ye[fe],ye[$],ye[U]);V.push(ee),se=se.concat(ee)}for(let Q=0;Q<y;Q++){const ie=Q/y,ye=m*Math.cos(ie*Math.PI/2),fe=v*Math.sin(ie*Math.PI/2)+x;for(let pe=0,$=z.length;pe<$;pe++){const U=G(z[pe],W[pe],fe);de(U.x,U.y,-ye)}for(let pe=0,$=B.length;pe<$;pe++){const U=B[pe];ee=V[pe];for(let le=0,be=U.length;le<be;le++){const we=G(U[le],ee[le],fe);de(we.x,we.y,-ye)}}}const me=v+x;for(let Q=0;Q<j;Q++){const ie=f?G(E[Q],se[Q],me):E[Q];w?(P.copy(A.normals[0]).multiplyScalar(ie.x),M.copy(A.binormals[0]).multiplyScalar(ie.y),I.copy(_[0]).add(P).add(M),de(I.x,I.y,I.z)):de(ie.x,ie.y,0)}for(let Q=1;Q<=u;Q++)for(let ie=0;ie<j;ie++){const ye=f?G(E[ie],se[ie],me):E[ie];w?(P.copy(A.normals[Q]).multiplyScalar(ye.x),M.copy(A.binormals[Q]).multiplyScalar(ye.y),I.copy(_[Q]).add(P).add(M),de(I.x,I.y,I.z)):de(ye.x,ye.y,d/u*Q)}for(let Q=y-1;Q>=0;Q--){const ie=Q/y,ye=m*Math.cos(ie*Math.PI/2),fe=v*Math.sin(ie*Math.PI/2)+x;for(let pe=0,$=z.length;pe<$;pe++){const U=G(z[pe],W[pe],fe);de(U.x,U.y,d+ye)}for(let pe=0,$=B.length;pe<$;pe++){const U=B[pe];ee=V[pe];for(let le=0,be=U.length;le<be;le++){const we=G(U[le],ee[le],fe);w?de(we.x,we.y+_[u-1].y,_[u-1].x+ye):de(we.x,we.y,d+ye)}}}K(),te();function K(){const Q=i.length/3;if(f){let ie=0,ye=j*ie;for(let fe=0;fe<X;fe++){const pe=L[fe];_e(pe[2]+ye,pe[1]+ye,pe[0]+ye)}ie=u+y*2,ye=j*ie;for(let fe=0;fe<X;fe++){const pe=L[fe];_e(pe[0]+ye,pe[1]+ye,pe[2]+ye)}}else{for(let ie=0;ie<X;ie++){const ye=L[ie];_e(ye[2],ye[1],ye[0])}for(let ie=0;ie<X;ie++){const ye=L[ie];_e(ye[0]+j*u,ye[1]+j*u,ye[2]+j*u)}}r.addGroup(Q,i.length/3-Q,0)}function te(){const Q=i.length/3;let ie=0;ae(z,ie),ie+=z.length;for(let ye=0,fe=B.length;ye<fe;ye++){const pe=B[ye];ae(pe,ie),ie+=pe.length}r.addGroup(Q,i.length/3-Q,1)}function ae(Q,ie){let ye=Q.length;for(;--ye>=0;){const fe=ye;let pe=ye-1;pe<0&&(pe=Q.length-1);for(let $=0,U=u+y*2;$<U;$++){const le=j*$,be=j*($+1),we=ie+fe+le,Oe=ie+pe+le,De=ie+pe+be,ge=ie+fe+be;Re(we,Oe,De,ge)}}}function de(Q,ie,ye){l.push(Q),l.push(ie),l.push(ye)}function _e(Q,ie,ye){Te(Q),Te(ie),Te(ye);const fe=i.length/3,pe=S.generateTopUV(r,i,fe-3,fe-2,fe-1);Y(pe[0]),Y(pe[1]),Y(pe[2])}function Re(Q,ie,ye,fe){Te(Q),Te(ie),Te(fe),Te(ie),Te(ye),Te(fe);const pe=i.length/3,$=S.generateSideWallUV(r,i,pe-6,pe-3,pe-2,pe-1);Y($[0]),Y($[1]),Y($[3]),Y($[1]),Y($[2]),Y($[3])}function Te(Q){i.push(l[Q*3+0]),i.push(l[Q*3+1]),i.push(l[Q*3+2])}function Y(Q){o.push(Q.x),o.push(Q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return bge(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new _x[i.type]().fromJSON(i)),new XS(r,e.options)}}const Cge={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Qe(o,s),new Qe(a,l),new Qe(c,u)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[o*3],y=e[o*3+1],g=e[o*3+2];return Math.abs(a-u)<Math.abs(s-c)?[new Qe(s,1-l),new Qe(c,1-d),new Qe(f,1-v),new Qe(x,1-g)]:[new Qe(a,1-l),new Qe(u,1-d),new Qe(m,1-v),new Qe(y,1-g)]}};function bge(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class xg extends ac{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new xg(e.radius,e.detail)}}class Sg extends ac{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Sg(e.radius,e.detail)}}class KS extends an{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,m=new re,v=new Qe;for(let x=0;x<=i;x++){for(let y=0;y<=r;y++){const g=o+y/r*s;m.x=d*Math.cos(g),m.y=d*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/n+1)/2,v.y=(m.y/n+1)/2,u.push(v.x,v.y)}d+=f}for(let x=0;x<i;x++){const y=x*(r+1);for(let g=0;g<r;g++){const S=g+y,_=S,w=S+r+1,A=S+r+2,M=S+1;a.push(_,w,M),a.push(w,A,M)}}this.setIndex(a),this.setAttribute("position",new Ht(l,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class JS extends an{constructor(e=new pu([new Qe(0,.5),new Qe(-.5,-.5),new Qe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ht(i,3)),this.setAttribute("normal",new Ht(o,3)),this.setAttribute("uv",new Ht(s,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let m=f.shape;const v=f.holes;ta.isClockWise(m)===!1&&(m=m.reverse());for(let y=0,g=v.length;y<g;y++){const S=v[y];ta.isClockWise(S)===!0&&(v[y]=S.reverse())}const x=ta.triangulateShape(m,v);for(let y=0,g=v.length;y<g;y++){const S=v[y];m=m.concat(S)}for(let y=0,g=m.length;y<g;y++){const S=m[y];i.push(S.x,S.y,0),o.push(0,0,1),s.push(S.x,S.y)}for(let y=0,g=x.length;y<g;y++){const S=x[y],_=S[0]+d,w=S[1]+d,A=S[2]+d;r.push(_,w,A),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return wge(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new JS(r,e.curveSegments)}}function wge(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class _g extends an{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(s+a,Math.PI);let c=0;const u=[],d=new re,f=new re,m=[],v=[],x=[],y=[];for(let g=0;g<=r;g++){const S=[],_=g/r;let w=0;g===0&&s===0?w=.5/n:g===r&&l===Math.PI&&(w=-.5/n);for(let A=0;A<=n;A++){const M=A/n;d.x=-e*Math.cos(i+M*o)*Math.sin(s+_*a),d.y=e*Math.cos(s+_*a),d.z=e*Math.sin(i+M*o)*Math.sin(s+_*a),v.push(d.x,d.y,d.z),f.copy(d).normalize(),x.push(f.x,f.y,f.z),y.push(M+w,1-_),S.push(c++)}u.push(S)}for(let g=0;g<r;g++)for(let S=0;S<n;S++){const _=u[g][S+1],w=u[g][S],A=u[g+1][S],M=u[g+1][S+1];(g!==0||s>0)&&m.push(_,w,M),(g!==r-1||l<Math.PI)&&m.push(w,A,M)}this.setIndex(m),this.setAttribute("position",new Ht(v,3)),this.setAttribute("normal",new Ht(x,3)),this.setAttribute("uv",new Ht(y,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _g(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class YS extends ac{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new YS(e.radius,e.detail)}}class qS extends an{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],l=[],c=[],u=new re,d=new re,f=new re;for(let m=0;m<=r;m++)for(let v=0;v<=i;v++){const x=v/i*o,y=m/r*Math.PI*2;d.x=(e+n*Math.cos(y))*Math.cos(x),d.y=(e+n*Math.cos(y))*Math.sin(x),d.z=n*Math.sin(y),a.push(d.x,d.y,d.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(v/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let v=1;v<=i;v++){const x=(i+1)*m+v-1,y=(i+1)*(m-1)+v-1,g=(i+1)*(m-1)+v,S=(i+1)*m+v;s.push(x,y,S),s.push(y,g,S)}this.setIndex(s),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(l,3)),this.setAttribute("uv",new Ht(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class QS extends an{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],d=new re,f=new re,m=new re,v=new re,x=new re,y=new re,g=new re;for(let _=0;_<=r;++_){const w=_/r*o*Math.PI*2;S(w,o,s,e,m),S(w+.01,o,s,e,v),y.subVectors(v,m),g.addVectors(v,m),x.crossVectors(y,g),g.crossVectors(x,y),x.normalize(),g.normalize();for(let A=0;A<=i;++A){const M=A/i*Math.PI*2,P=-n*Math.cos(M),I=n*Math.sin(M);d.x=m.x+(P*g.x+I*x.x),d.y=m.y+(P*g.y+I*x.y),d.z=m.z+(P*g.z+I*x.z),l.push(d.x,d.y,d.z),f.subVectors(d,m).normalize(),c.push(f.x,f.y,f.z),u.push(_/r),u.push(A/i)}}for(let _=1;_<=r;_++)for(let w=1;w<=i;w++){const A=(i+1)*(_-1)+(w-1),M=(i+1)*_+(w-1),P=(i+1)*_+w,I=(i+1)*(_-1)+w;a.push(A,M,I),a.push(M,P,I)}this.setIndex(a),this.setAttribute("position",new Ht(l,3)),this.setAttribute("normal",new Ht(c,3)),this.setAttribute("uv",new Ht(u,2));function S(_,w,A,M,P){const I=Math.cos(_),T=Math.sin(_),E=A/w*_,B=Math.cos(E);P.x=M*(2+B)*.5*I,P.y=M*(2+B)*T*.5,P.z=M*Math.sin(E)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class ZS extends an{constructor(e=new AR(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new re,l=new re,c=new Qe;let u=new re;const d=[],f=[],m=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new Ht(d,3)),this.setAttribute("normal",new Ht(f,3)),this.setAttribute("uv",new Ht(m,2));function x(){for(let _=0;_<n;_++)y(_);y(o===!1?n:0),S(),g()}function y(_){u=e.getPointAt(_/n,u);const w=s.normals[_],A=s.binormals[_];for(let M=0;M<=i;M++){const P=M/i*Math.PI*2,I=Math.sin(P),T=-Math.cos(P);l.x=T*w.x+I*A.x,l.y=T*w.y+I*A.y,l.z=T*w.z+I*A.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,d.push(a.x,a.y,a.z)}}function g(){for(let _=1;_<=n;_++)for(let w=1;w<=i;w++){const A=(i+1)*(_-1)+(w-1),M=(i+1)*_+(w-1),P=(i+1)*_+w,I=(i+1)*(_-1)+w;v.push(A,M,I),v.push(M,P,I)}}function S(){for(let _=0;_<=n;_++)for(let w=0;w<=i;w++)c.x=_/n,c.y=w/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new ZS(new _x[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class vV extends an{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new re,o=new re;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,m=d.count;for(let v=f,x=f+m;v<x;v+=3)for(let y=0;y<3;y++){const g=a.getX(v+y),S=a.getX(v+(y+1)%3);i.fromBufferAttribute(s,g),o.fromBufferAttribute(s,S),OF(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(s,u),o.fromBufferAttribute(s,d),OF(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new Ht(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function OF(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var LF=Object.freeze({__proto__:null,BoxGeometry:Ou,CapsuleGeometry:VS,CircleGeometry:GS,ConeGeometry:$S,CylinderGeometry:ah,DodecahedronGeometry:WS,EdgesGeometry:hV,ExtrudeGeometry:XS,IcosahedronGeometry:xg,LatheGeometry:yg,OctahedronGeometry:Sg,PlaneGeometry:sc,PolyhedronGeometry:ac,RingGeometry:KS,ShapeGeometry:JS,SphereGeometry:_g,TetrahedronGeometry:YS,TorusGeometry:qS,TorusKnotGeometry:QS,TubeGeometry:ZS,WireframeGeometry:vV});class yV extends Or{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Rt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class xV extends to{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Cg extends Or{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ca extends Cg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Rt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Rt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Rt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class SV extends Or{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Rt(16777215),this.specular=new Rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wo,this.combine=dg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class _V extends Or{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Rt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class CV extends Or{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class bV extends Or{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wo,this.combine=dg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wV extends Or{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Rt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=oc,this.normalScale=new Qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class EV extends Ai{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function ru(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function MV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function AV(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function bM(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const a=n[o]*e;for(let l=0;l!==e;++l)i[s++]=t[a+l]}return i}function RR(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push.apply(n,s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function Ege(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),d=[],f=[];for(let m=0;m<c.times.length;++m){const v=c.times[m]*i;if(!(v<n||v>=r)){d.push(c.times[m]);for(let x=0;x<u;++x)f.push(c.values[m*u+x])}}d.length!==0&&(c.times=ru(d,c.times.constructor),c.values=ru(f,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}function Mge(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const v=a.times.length-1;let x;if(o<=a.times[0]){const g=u,S=d-u;x=a.values.slice(g,S)}else if(o>=a.times[v]){const g=v*d+u,S=g+d-u;x=a.values.slice(g,S)}else{const g=a.createInterpolant(),S=u,_=d-u;g.evaluate(o),x=g.resultBuffer.slice(S,_)}l==="quaternion"&&new qr().fromArray(x).normalize().conjugate().toArray(x);const y=c.times.length;for(let g=0;g<y;++g){const S=g*m+f;if(l==="quaternion")qr.multiplyQuaternionsFlat(c.values,S,x,0,c.values,S);else{const _=m-f*2;for(let w=0;w<_;++w)c.values[S+w]-=x[w]}}}return t.blendMode=oR,t}const Age={convertArray:ru,isTypedArray:MV,getKeyframeOrder:AV,sortedArray:bM,flattenJSON:RR,subclip:Ege,makeClipAdditive:Mge};class lh{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const a=n[1];e<a&&(r=2,o=a);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<n[a]?s=a:r=a+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class TV extends lh{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Zc,endingEnd:Zc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],l=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case eu:o=e,a=2*n-r;break;case Rm:o=i.length-2,a=n+i[o]-i[o+1];break;default:o=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case eu:s=e,l=2*r-n;break;case Rm:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=o*u,this._offsetNext=s*u}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,m=this._weightNext,v=(r-n)/(i-n),x=v*v,y=x*v,g=-f*y+2*f*x-f*v,S=(1+f)*y+(-1.5-2*f)*x+(-.5+f)*v+1,_=(-1-m)*y+(1.5+m)*x+.5*v,w=m*y-m*x;for(let A=0;A!==a;++A)o[A]=g*s[u+A]+S*s[c+A]+_*s[l+A]+w*s[d+A];return o}}class PR extends lh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==a;++f)o[f]=s[c+f]*d+s[l+f]*u;return o}}class RV extends lh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ls{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ru(n,this.TimeBufferType),this.values=ru(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:ru(e.times,Array),values:ru(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new RV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new TV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Df:n=this.InterpolantFactoryMethodDiscrete;break;case bu:n=this.InterpolantFactoryMethodLinear;break;case My:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Df;case this.InterpolantFactoryMethodLinear:return bu;case this.InterpolantFactoryMethodSmooth:return My}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=r.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,s),e=!1;break}s=l}if(i!==void 0&&MV(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===My,o=e.length-1;let s=1;for(let a=1;a<o;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,f=d-r,m=d+r;for(let v=0;v!==r;++v){const x=n[d+v];if(x!==n[f+v]||x!==n[m+v]){l=!0;break}}}if(l){if(a!==s){e[s]=e[a];const d=a*r,f=s*r;for(let m=0;m!==r;++m)n[f+m]=n[d+m]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,l=s*r,c=0;c!==r;++c)n[l+c]=n[a+c];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ls.prototype.TimeBufferType=Float32Array;Ls.prototype.ValueBufferType=Float32Array;Ls.prototype.DefaultInterpolation=bu;class Lu extends Ls{}Lu.prototype.ValueTypeName="bool";Lu.prototype.ValueBufferType=Array;Lu.prototype.DefaultInterpolation=Df;Lu.prototype.InterpolantFactoryMethodLinear=void 0;Lu.prototype.InterpolantFactoryMethodSmooth=void 0;class IR extends Ls{}IR.prototype.ValueTypeName="color";class zf extends Ls{}zf.prototype.ValueTypeName="number";class PV extends lh{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)qr.slerpFlat(o,0,s,c-a,s,c,l);return o}}class Kl extends Ls{InterpolantFactoryMethodLinear(e){return new PV(this.times,this.values,this.getValueSize(),e)}}Kl.prototype.ValueTypeName="quaternion";Kl.prototype.DefaultInterpolation=bu;Kl.prototype.InterpolantFactoryMethodSmooth=void 0;class Du extends Ls{}Du.prototype.ValueTypeName="string";Du.prototype.ValueBufferType=Array;Du.prototype.DefaultInterpolation=Df;Du.prototype.InterpolantFactoryMethodLinear=void 0;Du.prototype.InterpolantFactoryMethodSmooth=void 0;class Hf extends Ls{}Hf.prototype.ValueTypeName="vector";class Vf{constructor(e="",n=-1,r=[],i=BS){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=So(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)n.push(Rge(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(Ls.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let a=0;a<o;a++){let l=[],c=[];l.push((a+o-1)%o,a,(a+1)%o),c.push(0,1,0);const u=AV(l);l=bM(l,1,u),c=bM(c,1,u),!i&&l[0]===0&&(l.push(o),c.push(c[0])),s.push(new zf(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(o);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return s}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,m,v,x){if(m.length!==0){const y=[],g=[];RR(m,y,g,v),y.length!==0&&x.push(new d(f,y,g))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let x=0;x<f[v].morphTargets.length;x++)m[f[v].morphTargets[x]]=-1;for(const x in m){const y=[],g=[];for(let S=0;S!==f[v].morphTargets.length;++S){const _=f[v];y.push(_.time),g.push(_.morphTarget===x?1:0)}i.push(new zf(".morphTargetInfluence["+x+"]",y,g))}l=m.length*s}else{const m=".bones["+n[d].name+"]";r(Hf,m+".position",f,"pos",i),r(Kl,m+".quaternion",f,"rot",i),r(Hf,m+".scale",f,"scl",i)}}return i.length===0?null:new this(o,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Tge(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zf;case"vector":case"vector2":case"vector3":case"vector4":return Hf;case"color":return IR;case"quaternion":return Kl;case"bool":case"boolean":return Lu;case"string":return Du}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Rge(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Tge(t.type);if(t.times===void 0){const n=[],r=[];RR(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ia={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class e1{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,o===!1&&i.onStart!==void 0&&i.onStart(u,s,a),o=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const m=c[d],v=c[d+1];if(m.global&&(m.lastIndex=0),m.test(u))return v}return null}}}const IV=new e1;class ci{constructor(e){this.manager=e!==void 0?e:IV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ci.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ca={};class Pge extends Error{constructor(e,n){super(e),this.response=n}}class ai extends ci{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Ia.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Ca[e]!==void 0){Ca[e].push({onLoad:n,onProgress:r,onError:i});return}Ca[e]=[],Ca[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ca[e],d=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=f?parseInt(f):0,v=m!==0;let x=0;const y=new ReadableStream({start(g){S();function S(){d.read().then(({done:_,value:w})=>{if(_)g.close();else{x+=w.byteLength;const A=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:m});for(let M=0,P=u.length;M<P;M++){const I=u[M];I.onProgress&&I.onProgress(A)}g.enqueue(w),S()}})}}});return new Response(y)}else throw new Pge(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),f=d&&d[1]?d[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(v=>m.decode(v))}}}).then(c=>{Ia.add(e,c);const u=Ca[e];delete Ca[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Ca[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ca[e];for(let d=0,f=u.length;d<f;d++){const m=u[d];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ige extends ci{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new ai(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Vf.parse(e[r]);n.push(i)}return n}}class Bge extends ci{constructor(e){super(e)}load(e,n,r,i){const o=this,s=[],a=new zS,l=new ai(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const m=o.parse(f,!0);s[d]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=In),a.image=s,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=o.parse(d,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let v=0;v<m;v++){s[v]={mipmaps:[]};for(let x=0;x<f.mipmapCount;x++)s[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+x]),s[v].format=f.format,s[v].width=f.width,s[v].height=f.height}a.image=s}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=In),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class zm extends ci{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Ia.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=Dm("img");function l(){u(),Ia.add(e,this),n&&n(this),o.manager.itemEnd(e)}function c(d){u(),i&&i(d),o.manager.itemError(e),o.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class BV extends ci{constructor(e){super(e)}load(e,n,r,i){const o=new pg;o.colorSpace=po;const s=new zm(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function l(c){s.load(e[c],function(u){o.images[c]=u,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return o}}class BR extends ci{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new La,a=new ai(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(l){let c;try{c=o.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Mr,s.wrapT=c.wrapT!==void 0?c.wrapT:Mr,s.magFilter=c.magFilter!==void 0?c.magFilter:In,s.minFilter=c.minFilter!==void 0?c.minFilter:In,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(s.colorSpace=c.colorSpace),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Qo),c.mipmapCount===1&&(s.minFilter=In),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,n&&n(s,c)},r,i),s}}class OV extends ci{constructor(e){super(e)}load(e,n,r,i){const o=new Bn,s=new zm(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class lc extends wn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Rt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class LV extends lc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Rt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const eb=new Jt,DF=new re,FF=new re;class OR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Qe(512,512),this.map=null,this.mapPass=null,this.matrix=new Jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new mg,this._frameExtents=new Qe(1,1),this._viewportCount=1,this._viewports=[new Nn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;DF.setFromMatrixPosition(e.matrixWorld),n.position.copy(DF),FF.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(FF),n.updateMatrixWorld(),eb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(eb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Oge extends OR{constructor(){super(new cr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Ff*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class LR extends lc{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new Oge}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const NF=new Jt,ep=new re,tb=new re;class Lge extends OR{constructor(){super(new cr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Qe(4,2),this._viewportCount=6,this._viewports=[new Nn(2,1,1,1),new Nn(0,1,1,1),new Nn(3,1,1,1),new Nn(1,1,1,1),new Nn(3,0,1,1),new Nn(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),ep.setFromMatrixPosition(e.matrixWorld),r.position.copy(ep),tb.copy(r.position),tb.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(tb),r.updateMatrixWorld(),i.makeTranslation(-ep.x,-ep.y,-ep.z),NF.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NF)}}class DR extends lc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Lge}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Dge extends OR{constructor(){super(new Es(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class FR extends lc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new Dge}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class DV extends lc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class FV extends lc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class NV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class UV extends lc{constructor(e=new NV,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class t1 extends ci{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,s=new ai(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=t1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Rt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new Rt().setHex(s.value);break;case"v2":i.uniforms[o].value=new Qe().fromArray(s.value);break;case"v3":i.uniforms[o].value=new re().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Nn().fromArray(s.value);break;case"m3":i.uniforms[o].value=new ln().fromArray(s.value);break;case"m4":i.uniforms[o].value=new Jt().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new Qe().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:yV,SpriteMaterial:yR,RawShaderMaterial:xV,ShaderMaterial:to,PointsMaterial:kS,MeshPhysicalMaterial:ca,MeshStandardMaterial:Cg,MeshPhongMaterial:SV,MeshToonMaterial:_V,MeshNormalMaterial:CV,MeshLambertMaterial:bV,MeshDepthMaterial:mR,MeshDistanceMaterial:gR,MeshBasicMaterial:Ji,MeshMatcapMaterial:wV,LineDashedMaterial:EV,LineBasicMaterial:Ai,Material:Or};return new n[e]}}class na{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class kV extends an{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class zV extends ci{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new ai(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,v){if(n[v]!==void 0)return n[v];const y=m.interleavedBuffers[v],g=o(m,y.buffer),S=Qd(y.type,g),_=new gg(S,y.stride);return _.uuid=y.uuid,n[v]=_,_}function o(m,v){if(r[v]!==void 0)return r[v];const y=m.arrayBuffers[v],g=new Uint32Array(y).buffer;return r[v]=g,g}const s=e.isInstancedBufferGeometry?new kV:new an,a=e.data.index;if(a!==void 0){const m=Qd(a.type,a.array);s.setIndex(new En(m,1))}const l=e.data.attributes;for(const m in l){const v=l[m];let x;if(v.isInterleavedBufferAttribute){const y=i(e.data,v.data);x=new Xl(y,v.itemSize,v.offset,v.normalized)}else{const y=Qd(v.type,v.array),g=v.isInstancedBufferAttribute?kf:En;x=new g(y,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),s.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const v=c[m],x=[];for(let y=0,g=v.length;y<g;y++){const S=v[y];let _;if(S.isInterleavedBufferAttribute){const w=i(e.data,S.data);_=new Xl(w,S.itemSize,S.offset,S.normalized)}else{const w=Qd(S.type,S.array);_=new En(w,S.itemSize,S.normalized)}S.name!==void 0&&(_.name=S.name),x.push(_)}s.morphAttributes[m]=x}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let m=0,v=d.length;m!==v;++m){const x=d[m];s.addGroup(x.start,x.count,x.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const m=new re;f.center!==void 0&&m.fromArray(f.center),s.boundingSphere=new si(m,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Fge extends ci{constructor(e){super(e)}load(e,n,r,i){const o=this,s=this.path===""?na.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new ai(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?na.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new ai(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),a=JSON.parse(s),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,o,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let d=!1;for(const f in s)if(s[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new pu().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new vg().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new zV;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in LF?a=LF[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new t1;o.setTextures(n);for(let s=0,a=e.length;s<a;s++){const l=e[s];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=Vf.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function s(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:Qd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new e1(n);o=new zm(l),o.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const m=[];for(let v=0,x=f.length;v<x;v++){const y=f[v],g=a(y);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new La(g.data,g.width,g.height)))}i[d.uuid]=new tu(m)}else{const m=a(d.url);i[d.uuid]=new tu(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return s.data?{data:Qd(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new zm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const m=c[d],v=await o(m);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new La(v.data,v.width,v.height)))}r[l.uuid]=new tu(u)}else{const u=await o(l.url);r[l.uuid]=new tu(u)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new pg,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new La:u=new Bn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Nge)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],UF),u.wrapT=r(a.wrap[1],UF)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,kF)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,kF)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,o){let s;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let v=0,x=f.length;v<x;v++){const y=f[v];r[y]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",y),m.push(r[y])}return m}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":s=new Uf,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new Rt(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new NS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new FS(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new cr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Es(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new DV(e.color,e.intensity);break;case"DirectionalLight":s=new FR(e.color,e.intensity);break;case"PointLight":s=new DR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new FV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new LR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new LV(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new UV().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),d=l(e.material),s=new xR(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),d=l(e.material),s=new ir(u,d);break;case"InstancedMesh":u=a(e.geometry),d=l(e.material);const f=e.count,m=e.instanceMatrix,v=e.instanceColor;s=new SR(u,d,f),s.instanceMatrix=new kf(new Float32Array(m.array),16),v!==void 0&&(s.instanceColor=new kf(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":u=a(e.geometry),d=l(e.material),s=new aV(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,d),s.geometry=u,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._visibility=e.visibility,s._active=e.active,s._bounds=e.bounds.map(x=>{const y=new Ei;y.min.fromArray(x.boxMin),y.max.fromArray(x.boxMax);const g=new si;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:y,sphereInitialized:x.sphereInitialized,sphere:g}}),s._maxGeometryCount=e.maxGeometryCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._geometryCount=e.geometryCount,s._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":s=new sV;break;case"Line":s=new $a(a(e.geometry),l(e.material));break;case"LineLoop":s=new _R(a(e.geometry),l(e.material));break;case"LineSegments":s=new Bs(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new CR(a(e.geometry),l(e.material));break;case"Sprite":s=new oV(l(e.material));break;case"Group":s=new Pa;break;case"Bone":s=new US;break;default:s=new wn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)s.add(this.parseObject(f[m],n,r,i,o))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const v=f[m];s.animations.push(o[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const v=f[m],x=s.getObjectByProperty("uuid",v.object);x!==void 0&&s.addLevel(x,v.distance,v.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Nge={UVMapping:Gl,CubeReflectionMapping:oa,CubeRefractionMapping:$l,EquirectangularReflectionMapping:Bf,EquirectangularRefractionMapping:Tm,CubeUVReflectionMapping:ih},UF={RepeatWrapping:Wl,ClampToEdgeWrapping:Mr,MirroredRepeatWrapping:Of},kF={NearestFilter:Ur,NearestMipmapNearestFilter:RS,NearestMipmapLinearFilter:Qc,LinearFilter:In,LinearMipmapNearestFilter:ff,LinearMipmapLinearFilter:Qo};class HV extends ci{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=Ia.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(c=>{n&&n(c),o.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ia.add(e,c),n&&n(c),o.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Ia.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Ia.add(e,l),o.manager.itemStart(e)}}let O0;class NR{static getContext(){return O0===void 0&&(O0=new(window.AudioContext||window.webkitAudioContext)),O0}static setContext(e){O0=e}}class Uge extends ci{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new ai(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){try{const c=l.slice(0);NR.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const zF=new Jt,HF=new Jt,Tc=new Jt;class kge{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new cr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new cr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Tc.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(fu*n.fov*.5)/n.zoom;let a,l;HF.elements[12]=-i,zF.elements[12]=i,a=-s*n.aspect+o,l=s*n.aspect+o,Tc.elements[0]=2*n.near/(l-a),Tc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Tc),a=-s*n.aspect-o,l=s*n.aspect-o,Tc.elements[0]=2*n.near/(l-a),Tc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Tc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(HF),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zF)}}class UR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=VF(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=VF();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function VF(){return(typeof performance>"u"?Date:performance).now()}const Rc=new re,GF=new qr,zge=new re,Pc=new re;class Hge extends wn{constructor(){super(),this.type="AudioListener",this.context=NR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new UR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Rc,GF,zge),Pc.set(0,0,-1).applyQuaternion(GF),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Rc.x,i),n.positionY.linearRampToValueAtTime(Rc.y,i),n.positionZ.linearRampToValueAtTime(Rc.z,i),n.forwardX.linearRampToValueAtTime(Pc.x,i),n.forwardY.linearRampToValueAtTime(Pc.y,i),n.forwardZ.linearRampToValueAtTime(Pc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Rc.x,Rc.y,Rc.z),n.setOrientation(Pc.x,Pc.y,Pc.z,r.x,r.y,r.z)}}class VV extends wn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ic=new re,$F=new qr,Vge=new re,Bc=new re;class Gge extends VV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ic,$F,Vge),Bc.set(0,0,1).applyQuaternion($F);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ic.x,r),n.positionY.linearRampToValueAtTime(Ic.y,r),n.positionZ.linearRampToValueAtTime(Ic.z,r),n.orientationX.linearRampToValueAtTime(Bc.x,r),n.orientationY.linearRampToValueAtTime(Bc.y,r),n.orientationZ.linearRampToValueAtTime(Bc.z,r)}else n.setPosition(Ic.x,Ic.y,Ic.z),n.setOrientation(Bc.x,Bc.y,Bc.z)}}class $ge{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class GV{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=n}else{s+=n;const a=n/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){qr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;qr.multiplyQuaternionsFlat(e,s,e,n,e,r),qr.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const l=n+a;e[l]=e[l]*s+e[r+a]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const a=n+s;e[a]=e[a]+e[r+s]*i}}}const kR="\\[\\]\\.:\\/",Wge=new RegExp("["+kR+"]","g"),zR="[^"+kR+"]",jge="[^"+kR.replace("\\.","")+"]",Xge=/((?:WC+[\/:])*)/.source.replace("WC",zR),Kge=/(WCOD+)?/.source.replace("WCOD",jge),Jge=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",zR),Yge=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",zR),qge=new RegExp("^"+Xge+Kge+Jge+Yge+"$"),Qge=["material","materials","bones","map"];class Zge{constructor(e,n,r){const i=r||bn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class bn{constructor(e,n,r){this.path=n,this.parsedPath=r||bn.parseTrackName(n),this.node=bn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new bn.Composite(e,n,r):new bn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Wge,"")}static parseTrackName(e){const n=qge.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);Qge.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=bn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bn.Composite=Zge;bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bn.prototype.GetterByBindingType=[bn.prototype._getValue_direct,bn.prototype._getValue_array,bn.prototype._getValue_arrayElement,bn.prototype._getValue_toArray];bn.prototype.SetterByBindingTypeAndVersioning=[[bn.prototype._setValue_direct,bn.prototype._setValue_direct_setNeedsUpdate,bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_array,bn.prototype._setValue_array_setNeedsUpdate,bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_arrayElement,bn.prototype._setValue_arrayElement_setNeedsUpdate,bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_fromArray,bn.prototype._setValue_fromArray_setNeedsUpdate,bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class eve{constructor(){this.isAnimationObjectGroup=!0,this.uuid=So(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],m=f.uuid;let v=n[m];if(v===void 0){v=l++,n[m]=v,e.push(f);for(let x=0,y=s;x!==y;++x)o[x].push(new bn(f,r[x],i[x]))}else if(v<c){a=e[v];const x=--c,y=e[x];n[y.uuid]=v,e[v]=y,n[m]=x,e[x]=f;for(let g=0,S=s;g!==S;++g){const _=o[g],w=_[x];let A=_[v];_[v]=w,A===void 0&&(A=new bn(f,r[g],i[g])),_[x]=A}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,u=n[c];if(u!==void 0&&u>=o){const d=o++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let m=0,v=i;m!==v;++m){const x=r[m],y=x[d],g=x[u];x[u]=y,x[d]=g}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<o){const f=--o,m=e[f],v=--s,x=e[v];n[m.uuid]=d,e[d]=m,n[x.uuid]=f,e[f]=x,e.pop();for(let y=0,g=i;y!==g;++y){const S=r[y],_=S[f],w=S[v];S[d]=_,S[f]=w,S.pop()}}else{const f=--s,m=e[f];f>0&&(n[m.uuid]=d),e[d]=m,e.pop();for(let v=0,x=i;v!==x;++v){const y=r[v];y[d]=y[f],y.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=o.length,r[e]=i,s.push(e),a.push(n),o.push(d);for(let f=u,m=l.length;f!==m;++f){const v=l[f];d[f]=new bn(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,l=s[a],c=e[a];n[c]=r,s[r]=l,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}class $V{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,a=new Array(s),l={endingStart:Zc,endingEnd:Zc};for(let c=0;c!==s;++c){const u=o[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=A6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=o,l[1]=o+r,c[0]=e/s,c[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const s=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case oR:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(a);break;case BS:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===T6;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===M6){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=eu,i.endingEnd=eu):(e?i.endingStart=this.zeroSlopeAtStart?eu:Zc:i.endingStart=Rm,n?i.endingEnd=this.zeroSlopeAtEnd?eu:Zc:i.endingEnd=Rm)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=o,l[0]=n,a[1]=o+e,l[1]=r,this}}const tve=new Float32Array(1);class nve extends la{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==o;++d){const f=i[d],m=f.name;let v=u[m];if(v!==void 0)++v.referenceCount,s[d]=v;else{if(v=s[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,m));continue}const x=n&&n._propertyBindings[d].binding.parsedPath;v=new GV(bn.create(r,m,x),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,m),s[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new PR(new Float32Array(2),new Float32Array(2),1,tve),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?Vf.findByName(i,e):e;const a=s!==null?s.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=BS),l!==void 0){const d=l.actionByRoot[o];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new $V(this,s,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,o),u}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?Vf.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,o,s);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,l=s.length;a!==l;++a){const c=s[a];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class HR{constructor(e){this.value=e}clone(){return new HR(this.value.clone===void 0?this.value:this.value.clone())}}let rve=0;class ive extends la{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:rve++}),this.name="",this.usage=Om,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class ove extends gg{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class sve{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const WF=new Jt;class VR{constructor(e,n,r=0,i=1/0){this.ray=new Bu(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new hu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return WF.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(WF),this}intersectObject(e,n=!0,r=[]){return wM(e,this,r,n),r.sort(jF),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)wM(e[i],this,r,n);return r.sort(jF),r}}function jF(t,e){return t.distance-e.distance}function wM(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,s=i.length;o<s;o++)wM(i[o],e,n,!0)}}class EM{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Sr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ave{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const XF=new Qe;class lve{constructor(e=new Qe(1/0,1/0),n=new Qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=XF.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,XF).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const KF=new re,L0=new re;class cve{constructor(e=new re,n=new re){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){KF.subVectors(e,this.start),L0.subVectors(this.end,this.start);const r=L0.dot(L0);let o=L0.dot(KF)/r;return n&&(o=Sr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const JF=new re;class uve extends wn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new an,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,l=32;s<l;s++,a++){const c=s/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Ht(i,3));const o=new Ai({fog:!1,toneMapped:!1});this.cone=new Bs(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),JF.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(JF),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const dl=new re,D0=new Jt,nb=new Jt;class dve extends Bs{constructor(e){const n=WV(e),r=new an,i=[],o=[],s=new Rt(0,0,1),a=new Rt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new Ht(i,3)),r.setAttribute("color",new Ht(o,3));const l=new Ai({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");nb.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(D0.multiplyMatrices(nb,a.matrixWorld),dl.setFromMatrixPosition(D0),i.setXYZ(s,dl.x,dl.y,dl.z),D0.multiplyMatrices(nb,a.parent.matrixWorld),dl.setFromMatrixPosition(D0),i.setXYZ(s+1,dl.x,dl.y,dl.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function WV(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,WV(t.children[n]));return e}class fve extends ir{constructor(e,n,r){const i=new _g(n,4,2),o=new Ji({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hve=new re,YF=new Rt,qF=new Rt;class pve extends wn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Sg(n);i.rotateY(Math.PI*.5),this.material=new Ji({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new En(s,3)),this.add(new ir(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");YF.copy(this.light.color),qF.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?YF:qF;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(hve.setFromMatrixPosition(this.light.matrixWorld).negate())}}class mve extends Bs{constructor(e=10,n=10,r=4473924,i=8947848){r=new Rt(r),i=new Rt(i);const o=n/2,s=e/n,a=e/2,l=[],c=[];for(let f=0,m=0,v=-a;f<=n;f++,v+=s){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=f===o?r:i;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new an;u.setAttribute("position",new Ht(l,3)),u.setAttribute("color",new Ht(c,3));const d=new Ai({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class gve extends Bs{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new Rt(o),s=new Rt(s);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),m=Math.sin(f)*e,v=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,v);const x=d&1?o:s;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<r;d++){const f=d&1?o:s,m=e-e/r*d;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m;a.push(y,0,g),l.push(f.r,f.g,f.b),x=(v+1)/i*(Math.PI*2),y=Math.sin(x)*m,g=Math.cos(x)*m,a.push(y,0,g),l.push(f.r,f.g,f.b)}}const c=new an;c.setAttribute("position",new Ht(a,3)),c.setAttribute("color",new Ht(l,3));const u=new Ai({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const QF=new re,F0=new re,ZF=new re;class vve extends wn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new an;i.setAttribute("position",new Ht([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new Ai({fog:!1,toneMapped:!1});this.lightPlane=new $a(i,o),this.add(this.lightPlane),i=new an,i.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new $a(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),QF.setFromMatrixPosition(this.light.matrixWorld),F0.setFromMatrixPosition(this.light.target.matrixWorld),ZF.subVectors(F0,QF),this.lightPlane.lookAt(F0),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(F0),this.targetLine.scale.z=ZF.length()}}const N0=new re,vr=new hg;class yve extends Bs{constructor(e){const n=new an,r=new Ai({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),o.push(0,0,0),s[v]===void 0&&(s[v]=[]),s[v].push(i.length/3-1)}n.setAttribute("position",new Ht(i,3)),n.setAttribute("color",new Ht(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const c=new Rt(16755200),u=new Rt(16711680),d=new Rt(43775),f=new Rt(16777215),m=new Rt(3355443);this.setColors(c,u,d,f,m)}setColors(e,n,r,i,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;vr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Cr("c",n,e,vr,0,0,-1),Cr("t",n,e,vr,0,0,1),Cr("n1",n,e,vr,-r,-i,-1),Cr("n2",n,e,vr,r,-i,-1),Cr("n3",n,e,vr,-r,i,-1),Cr("n4",n,e,vr,r,i,-1),Cr("f1",n,e,vr,-r,-i,1),Cr("f2",n,e,vr,r,-i,1),Cr("f3",n,e,vr,-r,i,1),Cr("f4",n,e,vr,r,i,1),Cr("u1",n,e,vr,r*.7,i*1.1,-1),Cr("u2",n,e,vr,-r*.7,i*1.1,-1),Cr("u3",n,e,vr,0,i*2,-1),Cr("cf1",n,e,vr,-r,0,1),Cr("cf2",n,e,vr,r,0,1),Cr("cf3",n,e,vr,0,-i,1),Cr("cf4",n,e,vr,0,i,1),Cr("cn1",n,e,vr,-r,0,-1),Cr("cn2",n,e,vr,r,0,-1),Cr("cn3",n,e,vr,0,-i,-1),Cr("cn4",n,e,vr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Cr(t,e,n,r,i,o,s){N0.set(i,o,s).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],N0.x,N0.y,N0.z)}}const U0=new Ei;class xve extends Bs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new an;o.setIndex(new En(r,1)),o.setAttribute("position",new En(i,3)),super(o,new Ai({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&U0.setFromObject(this.object),U0.isEmpty())return;const n=U0.min,r=U0.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Sve extends Bs{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new an;o.setIndex(new En(r,1)),o.setAttribute("position",new Ht(i,3)),super(o,new Ai({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class _ve extends $a{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new an;s.setAttribute("position",new Ht(o,3)),s.computeBoundingSphere(),super(s,new Ai({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new an;l.setAttribute("position",new Ht(a,3)),l.computeBoundingSphere(),this.add(new ir(l,new Ji({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const e3=new re;let k0,rb;class Cve extends wn{constructor(e=new re(0,0,1),n=new re(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",k0===void 0&&(k0=new an,k0.setAttribute("position",new Ht([0,0,0,0,1,0],3)),rb=new ah(0,.5,1,5,1),rb.translate(0,-.5,0)),this.position.copy(n),this.line=new $a(k0,new Ai({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ir(rb,new Ji({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{e3.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(e3,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class bve extends Bs{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new an;i.setAttribute("position",new Ht(n,3)),i.setAttribute("color",new Ht(r,3));const o=new Ai({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new Rt,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wve{constructor(){this.type="ShapePath",this.color=new Rt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Fm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const S=[];for(let _=0,w=g.length;_<w;_++){const A=g[_],M=new pu;M.curves=A.curves,S.push(M)}return S}function r(g,S){const _=S.length;let w=!1;for(let A=_-1,M=0;M<_;A=M++){let P=S[A],I=S[M],T=I.x-P.x,E=I.y-P.y;if(Math.abs(E)>Number.EPSILON){if(E<0&&(P=S[M],T=-T,I=S[A],E=-E),g.y<P.y||g.y>I.y)continue;if(g.y===P.y){if(g.x===P.x)return!0}else{const B=E*(g.x-P.x)-T*(g.y-P.y);if(B===0)return!0;if(B<0)continue;w=!w}}else{if(g.y!==P.y)continue;if(I.x<=g.x&&g.x<=P.x||P.x<=g.x&&g.x<=I.x)return!0}}return w}const i=ta.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l;const c=[];if(o.length===1)return a=o[0],l=new pu,l.curves=a.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const d=[],f=[];let m=[],v=0,x;f[v]=void 0,m[v]=[];for(let g=0,S=o.length;g<S;g++)a=o[g],x=a.getPoints(),s=i(x),s=e?!s:s,s?(!u&&f[v]&&v++,f[v]={s:new pu,p:x},f[v].s.curves=a.curves,u&&v++,m[v]=[]):m[v].push({h:a,p:x[0]});if(!f[0])return n(o);if(f.length>1){let g=!1,S=0;for(let _=0,w=f.length;_<w;_++)d[_]=[];for(let _=0,w=f.length;_<w;_++){const A=m[_];for(let M=0;M<A.length;M++){const P=A[M];let I=!0;for(let T=0;T<f.length;T++)r(P.p,f[T].p)&&(_!==T&&S++,I?(I=!1,d[T].push(P)):g=!0);I&&d[_].push(P)}}S>0&&g===!1&&(m=d)}let y;for(let g=0,S=f.length;g<S;g++){l=f[g].s,c.push(l),y=m[g];for(let _=0,w=y.length;_<w;_++)l.holes.push(y[_].h)}return c}}class Eve extends bo{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:rh}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=rh);const Mve=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:JT,AddEquation:bl,AddOperation:d6,AdditiveAnimationBlendMode:oR,AdditiveBlending:zE,AgXToneMapping:g6,AlphaFormat:S6,AlwaysCompare:k6,AlwaysDepth:i6,AlwaysStencilFunc:gM,AmbientLight:DV,AnimationAction:$V,AnimationClip:Vf,AnimationLoader:Ige,AnimationMixer:nve,AnimationObjectGroup:eve,AnimationUtils:Age,ArcCurve:lV,ArrayCamera:rV,ArrowHelper:Cve,AttachedBindMode:GE,Audio:VV,AudioAnalyser:$ge,AudioContext:NR,AudioListener:Hge,AudioLoader:Uge,AxesHelper:bve,BackSide:Ni,BasicDepthPacking:P6,BasicShadowMap:U5,BatchedMesh:aV,Bone:US,BooleanKeyframeTrack:Lu,Box2:lve,Box3:Ei,Box3Helper:Sve,BoxGeometry:Ou,BoxHelper:xve,BufferAttribute:En,BufferGeometry:an,BufferGeometryLoader:zV,ByteType:YT,Cache:Ia,Camera:hg,CameraHelper:yve,CanvasTexture:qme,CapsuleGeometry:VS,CatmullRomCurve3:cV,CineonToneMapping:p6,CircleGeometry:GS,ClampToEdgeWrapping:Mr,Clock:UR,Color:Rt,ColorKeyframeTrack:IR,ColorManagement:Fn,CompressedArrayTexture:Jme,CompressedCubeTexture:Yme,CompressedTexture:zS,CompressedTextureLoader:Bge,ConeGeometry:$S,ConstantAlphaFactor:t6,ConstantColorFactor:Z5,CubeCamera:J6,CubeReflectionMapping:oa,CubeRefractionMapping:$l,CubeTexture:pg,CubeTextureLoader:BV,CubeUVReflectionMapping:ih,CubicBezierCurve:wR,CubicBezierCurve3:uV,CubicInterpolant:TV,CullFaceBack:kE,CullFaceFront:N5,CullFaceFrontBack:Gce,CullFaceNone:F5,Curve:Os,CurvePath:fV,CustomBlending:k5,CustomToneMapping:m6,CylinderGeometry:ah,Cylindrical:ave,Data3DTexture:cR,DataArrayTexture:LS,DataTexture:La,DataTextureLoader:BR,DataUtils:nu,DecrementStencilOp:Yce,DecrementWrapStencilOp:Qce,DefaultLoadingManager:IV,DepthFormat:du,DepthStencilFormat:Lf,DepthTexture:pR,DetachedBindMode:y6,DirectionalLight:FR,DirectionalLightHelper:vve,DiscreteInterpolant:RV,DisplayP3ColorSpace:OS,DodecahedronGeometry:WS,DoubleSide:Ko,DstAlphaFactor:K5,DstColorFactor:Y5,DynamicCopyUsage:hue,DynamicDrawUsage:aue,DynamicReadUsage:uue,EdgesGeometry:hV,EllipseCurve:HS,EqualCompare:D6,EqualDepth:s6,EqualStencilFunc:nue,EquirectangularReflectionMapping:Bf,EquirectangularRefractionMapping:Tm,Euler:wo,EventDispatcher:la,ExtrudeGeometry:XS,FileLoader:ai,Float16BufferAttribute:Que,Float32BufferAttribute:Ht,FloatType:Ar,Fog:NS,FogExp2:FS,FramebufferTexture:Kme,FrontSide:ia,Frustum:mg,GLBufferAttribute:sve,GLSL1:mue,GLSL3:vM,GreaterCompare:F6,GreaterDepth:l6,GreaterEqualCompare:U6,GreaterEqualDepth:a6,GreaterEqualStencilFunc:sue,GreaterStencilFunc:iue,GridHelper:mve,Group:Pa,HalfFloatType:ii,HemisphereLight:LV,HemisphereLightHelper:pve,IcosahedronGeometry:xg,ImageBitmapLoader:HV,ImageLoader:zm,ImageUtils:$6,IncrementStencilOp:Jce,IncrementWrapStencilOp:qce,InstancedBufferAttribute:kf,InstancedBufferGeometry:kV,InstancedInterleavedBuffer:ove,InstancedMesh:SR,Int16BufferAttribute:Yue,Int32BufferAttribute:que,Int8BufferAttribute:Xue,IntType:PS,InterleavedBuffer:gg,InterleavedBufferAttribute:Xl,Interpolant:lh,InterpolateDiscrete:Df,InterpolateLinear:bu,InterpolateSmooth:My,InvertStencilOp:Zce,KeepStencilOp:zc,KeyframeTrack:Ls,LOD:sV,LatheGeometry:yg,Layers:hu,LessCompare:L6,LessDepth:o6,LessEqualCompare:aR,LessEqualDepth:Am,LessEqualStencilFunc:rue,LessStencilFunc:tue,Light:lc,LightProbe:UV,Line:$a,Line3:cve,LineBasicMaterial:Ai,LineCurve:ER,LineCurve3:dV,LineDashedMaterial:EV,LineLoop:_R,LineSegments:Bs,LinearDisplayP3ColorSpace:fg,LinearFilter:In,LinearInterpolant:PR,LinearMipMapLinearFilter:$E,LinearMipMapNearestFilter:jce,LinearMipmapLinearFilter:Qo,LinearMipmapNearestFilter:ff,LinearSRGBColorSpace:is,LinearToneMapping:f6,LinearTransfer:Pm,Loader:ci,LoaderUtils:na,LoadingManager:e1,LoopOnce:M6,LoopPingPong:T6,LoopRepeat:A6,LuminanceAlphaFormat:b6,LuminanceFormat:C6,MOUSE:Uc,Material:Or,MaterialLoader:t1,MathUtils:z6,Matrix3:ln,Matrix4:Jt,MaxEquation:G5,Mesh:ir,MeshBasicMaterial:Ji,MeshDepthMaterial:mR,MeshDistanceMaterial:gR,MeshLambertMaterial:bV,MeshMatcapMaterial:wV,MeshNormalMaterial:CV,MeshPhongMaterial:SV,MeshPhysicalMaterial:ca,MeshStandardMaterial:Cg,MeshToonMaterial:_V,MinEquation:V5,MirroredRepeatWrapping:Of,MixOperation:u6,MultiplyBlending:VE,MultiplyOperation:dg,NearestFilter:Ur,NearestMipMapLinearFilter:Wce,NearestMipMapNearestFilter:$ce,NearestMipmapLinearFilter:Qc,NearestMipmapNearestFilter:RS,NeutralToneMapping:v6,NeverCompare:O6,NeverDepth:r6,NeverStencilFunc:eue,NoBlending:Zs,NoColorSpace:Ma,NoToneMapping:ea,NormalAnimationBlendMode:BS,NormalBlending:uu,NotEqualCompare:N6,NotEqualDepth:c6,NotEqualStencilFunc:oue,NumberKeyframeTrack:zf,Object3D:wn,ObjectLoader:Fge,ObjectSpaceNormalMap:B6,OctahedronGeometry:Sg,OneFactor:W5,OneMinusConstantAlphaFactor:n6,OneMinusConstantColorFactor:e6,OneMinusDstAlphaFactor:J5,OneMinusDstColorFactor:q5,OneMinusSrcAlphaFactor:xx,OneMinusSrcColorFactor:X5,OrthographicCamera:Es,P3Primaries:Bm,PCFShadowMap:TS,PCFSoftShadowMap:Dp,PMREMGenerator:yM,Path:Fm,PerspectiveCamera:cr,Plane:Ea,PlaneGeometry:sc,PlaneHelper:_ve,PointLight:DR,PointLightHelper:fve,Points:CR,PointsMaterial:kS,PolarGridHelper:gve,PolyhedronGeometry:ac,PositionalAudio:Gge,PropertyBinding:bn,PropertyMixer:GV,QuadraticBezierCurve:MR,QuadraticBezierCurve3:AR,Quaternion:qr,QuaternionKeyframeTrack:Kl,QuaternionLinearInterpolant:PV,RED_GREEN_RGTC2_Format:pM,RED_RGTC1_Format:E6,REVISION:rh,RGBADepthPacking:I6,RGBAFormat:kr,RGBAIntegerFormat:rR,RGBA_ASTC_10x10_Format:lM,RGBA_ASTC_10x5_Format:oM,RGBA_ASTC_10x6_Format:sM,RGBA_ASTC_10x8_Format:aM,RGBA_ASTC_12x10_Format:cM,RGBA_ASTC_12x12_Format:uM,RGBA_ASTC_4x4_Format:qE,RGBA_ASTC_5x4_Format:QE,RGBA_ASTC_5x5_Format:ZE,RGBA_ASTC_6x5_Format:eM,RGBA_ASTC_6x6_Format:tM,RGBA_ASTC_8x5_Format:nM,RGBA_ASTC_8x6_Format:rM,RGBA_ASTC_8x8_Format:iM,RGBA_BPTC_Format:Ey,RGBA_ETC2_EAC_Format:YE,RGBA_PVRTC_2BPPV1_Format:KE,RGBA_PVRTC_4BPPV1_Format:XE,RGBA_S3TC_DXT1_Format:Cy,RGBA_S3TC_DXT3_Format:by,RGBA_S3TC_DXT5_Format:wy,RGBFormat:_6,RGB_BPTC_SIGNED_Format:dM,RGB_BPTC_UNSIGNED_Format:fM,RGB_ETC1_Format:iR,RGB_ETC2_Format:JE,RGB_PVRTC_2BPPV1_Format:jE,RGB_PVRTC_4BPPV1_Format:WE,RGB_S3TC_DXT1_Format:_y,RGFormat:w6,RGIntegerFormat:nR,RawShaderMaterial:xV,Ray:Bu,Raycaster:VR,Rec709Primaries:Im,RectAreaLight:FV,RedFormat:IS,RedIntegerFormat:tR,ReinhardToneMapping:h6,RenderTarget:W6,RepeatWrapping:Wl,ReplaceStencilOp:Kce,ReverseSubtractEquation:H5,RingGeometry:KS,SIGNED_RED_GREEN_RGTC2_Format:mM,SIGNED_RED_RGTC1_Format:hM,SRGBColorSpace:po,SRGBTransfer:Kn,Scene:Uf,ShaderChunk:dn,ShaderLib:bs,ShaderMaterial:to,ShadowMaterial:yV,Shape:pu,ShapeGeometry:JS,ShapePath:wve,ShapeUtils:ta,ShortType:qT,Skeleton:vg,SkeletonHelper:dve,SkinnedMesh:xR,Source:tu,Sphere:si,SphereGeometry:_g,Spherical:EM,SphericalHarmonics3:NV,SplineCurve:TR,SpotLight:LR,SpotLightHelper:uve,Sprite:oV,SpriteMaterial:yR,SrcAlphaFactor:yx,SrcAlphaSaturateFactor:Q5,SrcColorFactor:j5,StaticCopyUsage:fue,StaticDrawUsage:Om,StaticReadUsage:cue,StereoCamera:kge,StreamCopyUsage:pue,StreamDrawUsage:lue,StreamReadUsage:due,StringKeyframeTrack:Du,SubtractEquation:z5,SubtractiveBlending:HE,TOUCH:kc,TangentSpaceNormalMap:oc,TetrahedronGeometry:YS,Texture:Bn,TextureLoader:OV,TorusGeometry:qS,TorusKnotGeometry:QS,Triangle:mo,TriangleFanDrawMode:Sx,TriangleStripDrawMode:sR,TrianglesDrawMode:R6,TubeGeometry:ZS,UVMapping:Gl,Uint16BufferAttribute:uR,Uint32BufferAttribute:dR,Uint8BufferAttribute:Kue,Uint8ClampedBufferAttribute:Jue,Uniform:HR,UniformsGroup:ive,UniformsLib:Tt,UniformsUtils:K6,UnsignedByteType:xo,UnsignedInt248Type:oh,UnsignedInt5999Type:x6,UnsignedIntType:jl,UnsignedShort4444Type:ZT,UnsignedShort5551Type:eR,UnsignedShortType:QT,VSMShadowMap:xs,Vector2:Qe,Vector3:re,Vector4:Nn,VectorKeyframeTrack:Hf,VideoTexture:Xme,WebGL3DRenderTarget:Nue,WebGLArrayRenderTarget:Fue,WebGLCoordinateSystem:Xs,WebGLCubeRenderTarget:fR,WebGLMultipleRenderTargets:Eve,WebGLRenderTarget:bo,WebGLRenderer:vR,WebGLUtils:nV,WebGPUCoordinateSystem:Lm,WireframeGeometry:vV,WrapAroundEnding:Rm,ZeroCurvatureEnding:Zc,ZeroFactor:$5,ZeroSlopeEnding:eu,ZeroStencilOp:Xce,createCanvasElement:V6},Symbol.toStringTag,{value:"Module"}));var jV={exports:{}},Fu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Fu.ConcurrentRoot=1;Fu.ContinuousEventPriority=4;Fu.DefaultEventPriority=16;Fu.DiscreteEventPriority=1;Fu.IdleEventPriority=536870912;Fu.LegacyRoot=0;jV.exports=Fu;var tf=jV.exports;function Ave(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(m=>m(e,f))}},i=()=>e,o=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function m(){const v=u(e);if(!d(f,v)){const x=f;c(f=v,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?o(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Tve=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),t3=Tve?C.useEffect:C.useLayoutEffect;function XV(t){const e=typeof t=="function"?Ave(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=C.useReducer(y=>y+1,0),s=e.getState(),a=C.useRef(s),l=C.useRef(r),c=C.useRef(i),u=C.useRef(!1),d=C.useRef();d.current===void 0&&(d.current=r(s));let f,m=!1;(a.current!==s||l.current!==r||c.current!==i||u.current)&&(f=r(s),m=!i(d.current,f)),t3(()=>{m&&(d.current=f),a.current=s,l.current=r,c.current=i,u.current=!1});const v=C.useRef(s);t3(()=>{const y=()=>{try{const S=e.getState(),_=l.current(S);c.current(d.current,_)||(a.current=S,d.current=_,o())}catch{u.current=!0,o()}},g=e.subscribe(y);return e.getState()!==v.current&&y(),g},[]);const x=m?f:d.current;return C.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var KV={exports:{}},JV={exports:{}},YV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,W){var V=N.length;N.push(W);e:for(;0<V;){var ee=V-1>>>1,se=N[ee];if(0<i(se,W))N[ee]=W,N[V]=se,V=ee;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var W=N[0],V=N.pop();if(V!==W){N[0]=V;e:for(var ee=0,se=N.length,me=se>>>1;ee<me;){var K=2*(ee+1)-1,te=N[K],ae=K+1,de=N[ae];if(0>i(te,V))ae<se&&0>i(de,te)?(N[ee]=de,N[ae]=V,ee=ae):(N[ee]=te,N[K]=V,ee=K);else if(ae<se&&0>i(de,V))N[ee]=de,N[ae]=V,ee=ae;else break e}}return W}function i(N,W){var V=N.sortIndex-W.sortIndex;return V!==0?V:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,f=3,m=!1,v=!1,x=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=N)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function w(N){if(x=!1,_(N),!v)if(n(l)!==null)v=!0,j(A);else{var W=n(c);W!==null&&X(w,W.startTime-N)}}function A(N,W){v=!1,x&&(x=!1,g(I),I=-1),m=!0;var V=f;try{for(_(W),d=n(l);d!==null&&(!(d.expirationTime>W)||N&&!B());){var ee=d.callback;if(typeof ee=="function"){d.callback=null,f=d.priorityLevel;var se=ee(d.expirationTime<=W);W=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(l)&&r(l),_(W)}else r(l);d=n(l)}if(d!==null)var me=!0;else{var K=n(c);K!==null&&X(w,K.startTime-W),me=!1}return me}finally{d=null,f=V,m=!1}}var M=!1,P=null,I=-1,T=5,E=-1;function B(){return!(t.unstable_now()-E<T)}function F(){if(P!==null){var N=t.unstable_now();E=N;var W=!0;try{W=P(!0,N)}finally{W?L():(M=!1,P=null)}}else M=!1}var L;if(typeof S=="function")L=function(){S(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=F,L=function(){G.postMessage(null)}}else L=function(){y(F,0)};function j(N){P=N,M||(M=!0,L())}function X(N,W){I=y(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,j(A))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var V=f;f=W;try{return N()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var V=f;f=N;try{return W()}finally{f=V}},t.unstable_scheduleCallback=function(N,W,V){var ee=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,N){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=V+se,N={id:u++,callback:W,priorityLevel:N,startTime:V,expirationTime:se,sortIndex:-1},V>ee?(N.sortIndex=V,e(c,N),n(l)===null&&N===n(c)&&(x?(g(I),I=-1):x=!0,X(w,V-ee))):(N.sortIndex=se,e(l,N),v||m||(v=!0,j(A))),N},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(N){var W=f;return function(){var V=f;f=W;try{return N.apply(this,arguments)}finally{f=V}}}})(YV);JV.exports=YV;var MM=JV.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rve=function(e){var n={},r=C,i=MM,o=Object.assign;function s(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),A=Symbol.iterator;function M(h){return h===null||typeof h!="object"?null:(h=A&&h[A]||h["@@iterator"],typeof h=="function"?h:null)}function P(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case y:return"Suspense";case g:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case v:return(h.displayName||"Context")+".Consumer";case m:return(h._context.displayName||"Context")+".Provider";case x:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case S:return p=h.displayName||null,p!==null?p:P(h.type)||"Memo";case _:p=h._payload,h=h._init;try{return P(h(p))}catch{}}return null}function I(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(p);case 8:return p===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function T(h){var p=h,b=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,p.flags&4098&&(b=p.return),h=p.return;while(h)}return p.tag===3?b:null}function E(h){if(T(h)!==h)throw Error(s(188))}function B(h){var p=h.alternate;if(!p){if(p=T(h),p===null)throw Error(s(188));return p!==h?null:h}for(var b=h,R=p;;){var O=b.return;if(O===null)break;var k=O.alternate;if(k===null){if(R=O.return,R!==null){b=R;continue}break}if(O.child===k.child){for(k=O.child;k;){if(k===b)return E(O),h;if(k===R)return E(O),p;k=k.sibling}throw Error(s(188))}if(b.return!==R.return)b=O,R=k;else{for(var ce=!1,Be=O.child;Be;){if(Be===b){ce=!0,b=O,R=k;break}if(Be===R){ce=!0,R=O,b=k;break}Be=Be.sibling}if(!ce){for(Be=k.child;Be;){if(Be===b){ce=!0,b=k,R=O;break}if(Be===R){ce=!0,R=k,b=O;break}Be=Be.sibling}if(!ce)throw Error(s(189))}}if(b.alternate!==R)throw Error(s(190))}if(b.tag!==3)throw Error(s(188));return b.stateNode.current===b?h:p}function F(h){return h=B(h),h!==null?L(h):null}function L(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=L(h);if(p!==null)return p;h=h.sibling}return null}function z(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=z(h);if(p!==null)return p}h=h.sibling}return null}var G=Array.isArray,j=e.getPublicInstance,X=e.getRootHostContext,N=e.getChildHostContext,W=e.prepareForCommit,V=e.resetAfterCommit,ee=e.createInstance,se=e.appendInitialChild,me=e.finalizeInitialChildren,K=e.prepareUpdate,te=e.shouldSetTextContent,ae=e.createTextInstance,de=e.scheduleTimeout,_e=e.cancelTimeout,Re=e.noTimeout,Te=e.isPrimaryRenderer,Y=e.supportsMutation,Q=e.supportsPersistence,ie=e.supportsHydration,ye=e.getInstanceFromNode,fe=e.preparePortalMount,pe=e.getCurrentEventPriority,$=e.detachDeletedInstance,U=e.supportsMicrotasks,le=e.scheduleMicrotask,be=e.supportsTestSelectors,we=e.findFiberRoot,Oe=e.getBoundingRect,De=e.getTextContent,ge=e.isHiddenSubtree,Fe=e.matchAccessibilityRole,Xe=e.setFocusIfFocusable,Ne=e.setupIntersectionObserver,He=e.appendChild,Ye=e.appendChildToContainer,Ke=e.commitTextUpdate,We=e.commitMount,ot=e.commitUpdate,je=e.insertBefore,Ze=e.insertInContainerBefore,ft=e.removeChild,he=e.removeChildFromContainer,Ee=e.resetTextContent,Z=e.hideInstance,ze=e.hideTextInstance,Pe=e.unhideInstance,ct=e.unhideTextInstance,at=e.clearContainer,Ft=e.cloneInstance,Dt=e.createContainerChildSet,Lt=e.appendChildToContainerChildSet,Pt=e.finalizeContainerChildren,st=e.replaceContainerChildren,ut=e.cloneHiddenInstance,lt=e.cloneHiddenTextInstance,Gt=e.canHydrateInstance,yn=e.canHydrateTextInstance,bt=e.canHydrateSuspenseInstance,ht=e.isSuspenseInstancePending,Mt=e.isSuspenseInstanceFallback,wt=e.registerSuspenseInstanceRetry,vt=e.getNextHydratableSibling,dt=e.getFirstHydratableChild,pn=e.getFirstHydratableChildWithinContainer,fn=e.getFirstHydratableChildWithinSuspenseInstance,H=e.hydrateInstance,J=e.hydrateTextInstance,D=e.hydrateSuspenseInstance,q=e.getNextHydratableInstanceAfterSuspenseInstance,ne=e.commitHydratedContainer,oe=e.commitHydratedSuspenseInstance,ue=e.clearSuspenseBoundary,Ie=e.clearSuspenseBoundaryFromContainer,ve=e.shouldDeleteUnhydratedTailInstances,Me=e.didNotMatchHydratedContainerTextInstance,Ae=e.didNotMatchHydratedTextInstance,Se;function qe(h){if(Se===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);Se=p&&p[1]||""}return`
`+Se+h}var Ge=!1;function et(h,p){if(!h||Ge)return"";Ge=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(gt){var R=gt}Reflect.construct(h,[],p)}else{try{p.call()}catch(gt){R=gt}h.call(p.prototype)}else{try{throw Error()}catch(gt){R=gt}h()}}catch(gt){if(gt&&R&&typeof gt.stack=="string"){for(var O=gt.stack.split(`
`),k=R.stack.split(`
`),ce=O.length-1,Be=k.length-1;1<=ce&&0<=Be&&O[ce]!==k[Be];)Be--;for(;1<=ce&&0<=Be;ce--,Be--)if(O[ce]!==k[Be]){if(ce!==1||Be!==1)do if(ce--,Be--,0>Be||O[ce]!==k[Be]){var Je=`
`+O[ce].replace(" at new "," at ");return h.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",h.displayName)),Je}while(1<=ce&&0<=Be);break}}}finally{Ge=!1,Error.prepareStackTrace=b}return(h=h?h.displayName||h.name:"")?qe(h):""}var Et=Object.prototype.hasOwnProperty,yt=[],Ut=-1;function St(h){return{current:h}}function it(h){0>Ut||(h.current=yt[Ut],yt[Ut]=null,Ut--)}function zt(h,p){Ut++,yt[Ut]=h.current,h.current=p}var At={},Kt=St(At),Vt=St(!1),un=At;function Dn(h,p){var b=h.type.contextTypes;if(!b)return At;var R=h.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===p)return R.__reactInternalMemoizedMaskedChildContext;var O={},k;for(k in b)O[k]=p[k];return R&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=O),O}function Zt(h){return h=h.childContextTypes,h!=null}function Mn(){it(Vt),it(Kt)}function rn(h,p,b){if(Kt.current!==At)throw Error(s(168));zt(Kt,p),zt(Vt,b)}function Ot(h,p,b){var R=h.stateNode;if(p=p.childContextTypes,typeof R.getChildContext!="function")return b;R=R.getChildContext();for(var O in R)if(!(O in p))throw Error(s(108,I(h)||"Unknown",O));return o({},b,R)}function _t(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||At,un=Kt.current,zt(Kt,h),zt(Vt,Vt.current),!0}function Yt(h,p,b){var R=h.stateNode;if(!R)throw Error(s(169));b?(h=Ot(h,p,un),R.__reactInternalMemoizedMergedChildContext=h,it(Vt),it(Kt),zt(Kt,h)):it(Vt),zt(Vt,b)}var nn=Math.clz32?Math.clz32:tr,An=Math.log,xn=Math.LN2;function tr(h){return h>>>=0,h===0?32:31-(An(h)/xn|0)|0}var Lr=64,Qr=4194304;function ui(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function di(h,p){var b=h.pendingLanes;if(b===0)return 0;var R=0,O=h.suspendedLanes,k=h.pingedLanes,ce=b&268435455;if(ce!==0){var Be=ce&~O;Be!==0?R=ui(Be):(k&=ce,k!==0&&(R=ui(k)))}else ce=b&~O,ce!==0?R=ui(ce):k!==0&&(R=ui(k));if(R===0)return 0;if(p!==0&&p!==R&&!(p&O)&&(O=R&-R,k=p&-p,O>=k||O===16&&(k&4194240)!==0))return p;if(R&4&&(R|=b&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=R;0<p;)b=31-nn(p),O=1<<b,R|=h[b],p&=~O;return R}function To(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(h,p){for(var b=h.suspendedLanes,R=h.pingedLanes,O=h.expirationTimes,k=h.pendingLanes;0<k;){var ce=31-nn(k),Be=1<<ce,Je=O[ce];Je===-1?(!(Be&b)||Be&R)&&(O[ce]=To(Be,p)):Je<=p&&(h.expiredLanes|=Be),k&=~Be}}function cc(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Nu(h){for(var p=[],b=0;31>b;b++)p.push(h);return p}function Xa(h,p,b){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-nn(p),h[p]=b}function ei(h,p){var b=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var R=h.eventTimes;for(h=h.expirationTimes;0<b;){var O=31-nn(b),k=1<<O;p[O]=0,R[O]=-1,h[O]=-1,b&=~k}}function Ds(h,p){var b=h.entangledLanes|=p;for(h=h.entanglements;b;){var R=31-nn(b),O=1<<R;O&p|h[R]&p&&(h[R]|=p),b&=~O}}var mn=0;function ls(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var Fs=i.unstable_scheduleCallback,uc=i.unstable_cancelCallback,Uu=i.unstable_shouldYield,uh=i.unstable_requestPaint,xt=i.unstable_now,qt=i.unstable_ImmediatePriority,jn=i.unstable_UserBlockingPriority,Yn=i.unstable_NormalPriority,Xn=i.unstable_IdlePriority,ua=null,Hi=null;function Ag(h){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(ua,h,void 0,(h.current.flags&128)===128)}catch{}}function ku(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var Ns=typeof Object.is=="function"?Object.is:ku,da=null,Tg=!1,r1=!1;function iP(h){da===null?da=[h]:da.push(h)}function k8(h){Tg=!0,iP(h)}function Us(){if(!r1&&da!==null){r1=!0;var h=0,p=mn;try{var b=da;for(mn=1;h<b.length;h++){var R=b[h];do R=R(!0);while(R!==null)}da=null,Tg=!1}catch(O){throw da!==null&&(da=da.slice(h+1)),Fs(qt,Us),O}finally{mn=p,r1=!1}}return null}var z8=a.ReactCurrentBatchConfig;function Rg(h,p){if(Ns(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var b=Object.keys(h),R=Object.keys(p);if(b.length!==R.length)return!1;for(R=0;R<b.length;R++){var O=b[R];if(!Et.call(p,O)||!Ns(h[O],p[O]))return!1}return!0}function H8(h){switch(h.tag){case 5:return qe(h.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 2:case 15:return h=et(h.type,!1),h;case 11:return h=et(h.type.render,!1),h;case 1:return h=et(h.type,!0),h;default:return""}}function cs(h,p){if(h&&h.defaultProps){p=o({},p),h=h.defaultProps;for(var b in h)p[b]===void 0&&(p[b]=h[b]);return p}return p}var Pg=St(null),Ig=null,zu=null,i1=null;function o1(){i1=zu=Ig=null}function oP(h,p,b){Te?(zt(Pg,p._currentValue),p._currentValue=b):(zt(Pg,p._currentValue2),p._currentValue2=b)}function s1(h){var p=Pg.current;it(Pg),Te?h._currentValue=p:h._currentValue2=p}function a1(h,p,b){for(;h!==null;){var R=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,R!==null&&(R.childLanes|=p)):R!==null&&(R.childLanes&p)!==p&&(R.childLanes|=p),h===b)break;h=h.return}}function Hu(h,p){Ig=h,i1=zu=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&p&&(io=!0),h.firstContext=null)}function Ro(h){var p=Te?h._currentValue:h._currentValue2;if(i1!==h)if(h={context:h,memoizedValue:p,next:null},zu===null){if(Ig===null)throw Error(s(308));zu=h,Ig.dependencies={lanes:0,firstContext:h}}else zu=zu.next=h;return p}var ks=null,Ka=!1;function l1(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sP(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function fa(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Ja(h,p){var b=h.updateQueue;b!==null&&(b=b.shared,Tr!==null&&h.mode&1&&!(gn&2)?(h=b.interleaved,h===null?(p.next=p,ks===null?ks=[b]:ks.push(b)):(p.next=h.next,h.next=p),b.interleaved=p):(h=b.pending,h===null?p.next=p:(p.next=h.next,h.next=p),b.pending=p))}function Bg(h,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var R=p.lanes;R&=h.pendingLanes,b|=R,p.lanes=b,Ds(h,b)}}function aP(h,p){var b=h.updateQueue,R=h.alternate;if(R!==null&&(R=R.updateQueue,b===R)){var O=null,k=null;if(b=b.firstBaseUpdate,b!==null){do{var ce={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};k===null?O=k=ce:k=k.next=ce,b=b.next}while(b!==null);k===null?O=k=p:k=k.next=p}else O=k=p;b={baseState:R.baseState,firstBaseUpdate:O,lastBaseUpdate:k,shared:R.shared,effects:R.effects},h.updateQueue=b;return}h=b.lastBaseUpdate,h===null?b.firstBaseUpdate=p:h.next=p,b.lastBaseUpdate=p}function Og(h,p,b,R){var O=h.updateQueue;Ka=!1;var k=O.firstBaseUpdate,ce=O.lastBaseUpdate,Be=O.shared.pending;if(Be!==null){O.shared.pending=null;var Je=Be,gt=Je.next;Je.next=null,ce===null?k=gt:ce.next=gt,ce=Je;var kt=h.alternate;kt!==null&&(kt=kt.updateQueue,Be=kt.lastBaseUpdate,Be!==ce&&(Be===null?kt.firstBaseUpdate=gt:Be.next=gt,kt.lastBaseUpdate=Je))}if(k!==null){var on=O.baseState;ce=0,kt=gt=Je=null,Be=k;do{var Qt=Be.lane,$n=Be.eventTime;if((R&Qt)===Qt){kt!==null&&(kt=kt.next={eventTime:$n,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var jt=h,mi=Be;switch(Qt=p,$n=b,mi.tag){case 1:if(jt=mi.payload,typeof jt=="function"){on=jt.call($n,on,Qt);break e}on=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=mi.payload,Qt=typeof jt=="function"?jt.call($n,on,Qt):jt,Qt==null)break e;on=o({},on,Qt);break e;case 2:Ka=!0}}Be.callback!==null&&Be.lane!==0&&(h.flags|=64,Qt=O.effects,Qt===null?O.effects=[Be]:Qt.push(Be))}else $n={eventTime:$n,lane:Qt,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},kt===null?(gt=kt=$n,Je=on):kt=kt.next=$n,ce|=Qt;if(Be=Be.next,Be===null){if(Be=O.shared.pending,Be===null)break;Qt=Be,Be=Qt.next,Qt.next=null,O.lastBaseUpdate=Qt,O.shared.pending=null}}while(1);if(kt===null&&(Je=on),O.baseState=Je,O.firstBaseUpdate=gt,O.lastBaseUpdate=kt,p=O.shared.interleaved,p!==null){O=p;do ce|=O.lane,O=O.next;while(O!==p)}else k===null&&(O.shared.lanes=0);Yu|=ce,h.lanes=ce,h.memoizedState=on}}function lP(h,p,b){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var R=h[p],O=R.callback;if(O!==null){if(R.callback=null,R=b,typeof O!="function")throw Error(s(191,O));O.call(R)}}}var cP=new r.Component().refs;function c1(h,p,b,R){p=h.memoizedState,b=b(R,p),b=b==null?p:o({},p,b),h.memoizedState=b,h.lanes===0&&(h.updateQueue.baseState=b)}var Lg={isMounted:function(h){return(h=h._reactInternals)?T(h)===h:!1},enqueueSetState:function(h,p,b){h=h._reactInternals;var R=Ri(),O=Qa(h),k=fa(R,O);k.payload=p,b!=null&&(k.callback=b),Ja(h,k),p=Lo(h,O,R),p!==null&&Bg(p,h,O)},enqueueReplaceState:function(h,p,b){h=h._reactInternals;var R=Ri(),O=Qa(h),k=fa(R,O);k.tag=1,k.payload=p,b!=null&&(k.callback=b),Ja(h,k),p=Lo(h,O,R),p!==null&&Bg(p,h,O)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var b=Ri(),R=Qa(h),O=fa(b,R);O.tag=2,p!=null&&(O.callback=p),Ja(h,O),p=Lo(h,R,b),p!==null&&Bg(p,h,R)}};function uP(h,p,b,R,O,k,ce){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(R,k,ce):p.prototype&&p.prototype.isPureReactComponent?!Rg(b,R)||!Rg(O,k):!0}function dP(h,p,b){var R=!1,O=At,k=p.contextType;return typeof k=="object"&&k!==null?k=Ro(k):(O=Zt(p)?un:Kt.current,R=p.contextTypes,k=(R=R!=null)?Dn(h,O):At),p=new p(b,k),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Lg,h.stateNode=p,p._reactInternals=h,R&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=O,h.__reactInternalMemoizedMaskedChildContext=k),p}function fP(h,p,b,R){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,R),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,R),p.state!==h&&Lg.enqueueReplaceState(p,p.state,null)}function u1(h,p,b,R){var O=h.stateNode;O.props=b,O.state=h.memoizedState,O.refs=cP,l1(h);var k=p.contextType;typeof k=="object"&&k!==null?O.context=Ro(k):(k=Zt(p)?un:Kt.current,O.context=Dn(h,k)),O.state=h.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(c1(h,p,k,b),O.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(p=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),p!==O.state&&Lg.enqueueReplaceState(O,O.state,null),Og(h,b,O,R),O.state=h.memoizedState),typeof O.componentDidMount=="function"&&(h.flags|=4194308)}var Vu=[],Gu=0,Dg=null,Fg=0,Po=[],Io=0,dc=null,ha=1,pa="";function fc(h,p){Vu[Gu++]=Fg,Vu[Gu++]=Dg,Dg=h,Fg=p}function hP(h,p,b){Po[Io++]=ha,Po[Io++]=pa,Po[Io++]=dc,dc=h;var R=ha;h=pa;var O=32-nn(R)-1;R&=~(1<<O),b+=1;var k=32-nn(p)+O;if(30<k){var ce=O-O%5;k=(R&(1<<ce)-1).toString(32),R>>=ce,O-=ce,ha=1<<32-nn(p)+O|b<<O|R,pa=k+h}else ha=1<<k|b<<O|R,pa=h}function d1(h){h.return!==null&&(fc(h,1),hP(h,1,0))}function f1(h){for(;h===Dg;)Dg=Vu[--Gu],Vu[Gu]=null,Fg=Vu[--Gu],Vu[Gu]=null;for(;h===dc;)dc=Po[--Io],Po[Io]=null,pa=Po[--Io],Po[Io]=null,ha=Po[--Io],Po[Io]=null}var no=null,ro=null,nr=!1,dh=!1,us=null;function pP(h,p){var b=Do(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=h,p=h.deletions,p===null?(h.deletions=[b],h.flags|=16):p.push(b)}function mP(h,p){switch(h.tag){case 5:return p=Gt(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,no=h,ro=dt(p),!0):!1;case 6:return p=yn(p,h.pendingProps),p!==null?(h.stateNode=p,no=h,ro=null,!0):!1;case 13:if(p=bt(p),p!==null){var b=dc!==null?{id:ha,overflow:pa}:null;return h.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=Do(18,null,null,0),b.stateNode=p,b.return=h,h.child=b,no=h,ro=null,!0}return!1;default:return!1}}function h1(h){return(h.mode&1)!==0&&(h.flags&128)===0}function p1(h){if(nr){var p=ro;if(p){var b=p;if(!mP(h,p)){if(h1(h))throw Error(s(418));p=vt(b);var R=no;p&&mP(h,p)?pP(R,b):(h.flags=h.flags&-4097|2,nr=!1,no=h)}}else{if(h1(h))throw Error(s(418));h.flags=h.flags&-4097|2,nr=!1,no=h}}}function gP(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;no=h}function fh(h){if(!ie||h!==no)return!1;if(!nr)return gP(h),nr=!0,!1;if(h.tag!==3&&(h.tag!==5||ve(h.type)&&!te(h.type,h.memoizedProps))){var p=ro;if(p){if(h1(h)){for(h=ro;h;)h=vt(h);throw Error(s(418))}for(;p;)pP(h,p),p=vt(p)}}if(gP(h),h.tag===13){if(!ie)throw Error(s(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));ro=q(h)}else ro=no?vt(h.stateNode):null;return!0}function $u(){ie&&(ro=no=null,dh=nr=!1)}function m1(h){us===null?us=[h]:us.push(h)}function hh(h,p,b){if(h=b.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(s(309));var R=b.stateNode}if(!R)throw Error(s(147,h));var O=R,k=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===k?p.ref:(p=function(ce){var Be=O.refs;Be===cP&&(Be=O.refs={}),ce===null?delete Be[k]:Be[k]=ce},p._stringRef=k,p)}if(typeof h!="string")throw Error(s(284));if(!b._owner)throw Error(s(290,h))}return h}function Ng(h,p){throw h=Object.prototype.toString.call(p),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function vP(h){var p=h._init;return p(h._payload)}function yP(h){function p(Ue,Le){if(h){var $e=Ue.deletions;$e===null?(Ue.deletions=[Le],Ue.flags|=16):$e.push(Le)}}function b(Ue,Le){if(!h)return null;for(;Le!==null;)p(Ue,Le),Le=Le.sibling;return null}function R(Ue,Le){for(Ue=new Map;Le!==null;)Le.key!==null?Ue.set(Le.key,Le):Ue.set(Le.index,Le),Le=Le.sibling;return Ue}function O(Ue,Le){return Ue=el(Ue,Le),Ue.index=0,Ue.sibling=null,Ue}function k(Ue,Le,$e){return Ue.index=$e,h?($e=Ue.alternate,$e!==null?($e=$e.index,$e<Le?(Ue.flags|=2,Le):$e):(Ue.flags|=2,Le)):(Ue.flags|=1048576,Le)}function ce(Ue){return h&&Ue.alternate===null&&(Ue.flags|=2),Ue}function Be(Ue,Le,$e,Bt){return Le===null||Le.tag!==6?(Le=Q1($e,Ue.mode,Bt),Le.return=Ue,Le):(Le=O(Le,$e),Le.return=Ue,Le)}function Je(Ue,Le,$e,Bt){var Wt=$e.type;return Wt===u?kt(Ue,Le,$e.props.children,Bt,$e.key):Le!==null&&(Le.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_&&vP(Wt)===Le.type)?(Bt=O(Le,$e.props),Bt.ref=hh(Ue,Le,$e),Bt.return=Ue,Bt):(Bt=pv($e.type,$e.key,$e.props,null,Ue.mode,Bt),Bt.ref=hh(Ue,Le,$e),Bt.return=Ue,Bt)}function gt(Ue,Le,$e,Bt){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==$e.containerInfo||Le.stateNode.implementation!==$e.implementation?(Le=Z1($e,Ue.mode,Bt),Le.return=Ue,Le):(Le=O(Le,$e.children||[]),Le.return=Ue,Le)}function kt(Ue,Le,$e,Bt,Wt){return Le===null||Le.tag!==7?(Le=xc($e,Ue.mode,Bt,Wt),Le.return=Ue,Le):(Le=O(Le,$e),Le.return=Ue,Le)}function on(Ue,Le,$e){if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Le=Q1(""+Le,Ue.mode,$e),Le.return=Ue,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case l:return $e=pv(Le.type,Le.key,Le.props,null,Ue.mode,$e),$e.ref=hh(Ue,null,Le),$e.return=Ue,$e;case c:return Le=Z1(Le,Ue.mode,$e),Le.return=Ue,Le;case _:var Bt=Le._init;return on(Ue,Bt(Le._payload),$e)}if(G(Le)||M(Le))return Le=xc(Le,Ue.mode,$e,null),Le.return=Ue,Le;Ng(Ue,Le)}return null}function Qt(Ue,Le,$e,Bt){var Wt=Le!==null?Le.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Wt!==null?null:Be(Ue,Le,""+$e,Bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:return $e.key===Wt?Je(Ue,Le,$e,Bt):null;case c:return $e.key===Wt?gt(Ue,Le,$e,Bt):null;case _:return Wt=$e._init,Qt(Ue,Le,Wt($e._payload),Bt)}if(G($e)||M($e))return Wt!==null?null:kt(Ue,Le,$e,Bt,null);Ng(Ue,$e)}return null}function $n(Ue,Le,$e,Bt,Wt){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return Ue=Ue.get($e)||null,Be(Le,Ue,""+Bt,Wt);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case l:return Ue=Ue.get(Bt.key===null?$e:Bt.key)||null,Je(Le,Ue,Bt,Wt);case c:return Ue=Ue.get(Bt.key===null?$e:Bt.key)||null,gt(Le,Ue,Bt,Wt);case _:var hn=Bt._init;return $n(Ue,Le,$e,hn(Bt._payload),Wt)}if(G(Bt)||M(Bt))return Ue=Ue.get($e)||null,kt(Le,Ue,Bt,Wt,null);Ng(Le,Bt)}return null}function jt(Ue,Le,$e,Bt){for(var Wt=null,hn=null,sn=Le,Rn=Le=0,jr=null;sn!==null&&Rn<$e.length;Rn++){sn.index>Rn?(jr=sn,sn=null):jr=sn.sibling;var Pn=Qt(Ue,sn,$e[Rn],Bt);if(Pn===null){sn===null&&(sn=jr);break}h&&sn&&Pn.alternate===null&&p(Ue,sn),Le=k(Pn,Le,Rn),hn===null?Wt=Pn:hn.sibling=Pn,hn=Pn,sn=jr}if(Rn===$e.length)return b(Ue,sn),nr&&fc(Ue,Rn),Wt;if(sn===null){for(;Rn<$e.length;Rn++)sn=on(Ue,$e[Rn],Bt),sn!==null&&(Le=k(sn,Le,Rn),hn===null?Wt=sn:hn.sibling=sn,hn=sn);return nr&&fc(Ue,Rn),Wt}for(sn=R(Ue,sn);Rn<$e.length;Rn++)jr=$n(sn,Ue,Rn,$e[Rn],Bt),jr!==null&&(h&&jr.alternate!==null&&sn.delete(jr.key===null?Rn:jr.key),Le=k(jr,Le,Rn),hn===null?Wt=jr:hn.sibling=jr,hn=jr);return h&&sn.forEach(function(tl){return p(Ue,tl)}),nr&&fc(Ue,Rn),Wt}function mi(Ue,Le,$e,Bt){var Wt=M($e);if(typeof Wt!="function")throw Error(s(150));if($e=Wt.call($e),$e==null)throw Error(s(151));for(var hn=Wt=null,sn=Le,Rn=Le=0,jr=null,Pn=$e.next();sn!==null&&!Pn.done;Rn++,Pn=$e.next()){sn.index>Rn?(jr=sn,sn=null):jr=sn.sibling;var tl=Qt(Ue,sn,Pn.value,Bt);if(tl===null){sn===null&&(sn=jr);break}h&&sn&&tl.alternate===null&&p(Ue,sn),Le=k(tl,Le,Rn),hn===null?Wt=tl:hn.sibling=tl,hn=tl,sn=jr}if(Pn.done)return b(Ue,sn),nr&&fc(Ue,Rn),Wt;if(sn===null){for(;!Pn.done;Rn++,Pn=$e.next())Pn=on(Ue,Pn.value,Bt),Pn!==null&&(Le=k(Pn,Le,Rn),hn===null?Wt=Pn:hn.sibling=Pn,hn=Pn);return nr&&fc(Ue,Rn),Wt}for(sn=R(Ue,sn);!Pn.done;Rn++,Pn=$e.next())Pn=$n(sn,Ue,Rn,Pn.value,Bt),Pn!==null&&(h&&Pn.alternate!==null&&sn.delete(Pn.key===null?Rn:Pn.key),Le=k(Pn,Le,Rn),hn===null?Wt=Pn:hn.sibling=Pn,hn=Pn);return h&&sn.forEach(function(v9){return p(Ue,v9)}),nr&&fc(Ue,Rn),Wt}function Fo(Ue,Le,$e,Bt){if(typeof $e=="object"&&$e!==null&&$e.type===u&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:e:{for(var Wt=$e.key,hn=Le;hn!==null;){if(hn.key===Wt){if(Wt=$e.type,Wt===u){if(hn.tag===7){b(Ue,hn.sibling),Le=O(hn,$e.props.children),Le.return=Ue,Ue=Le;break e}}else if(hn.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===_&&vP(Wt)===hn.type){b(Ue,hn.sibling),Le=O(hn,$e.props),Le.ref=hh(Ue,hn,$e),Le.return=Ue,Ue=Le;break e}b(Ue,hn);break}else p(Ue,hn);hn=hn.sibling}$e.type===u?(Le=xc($e.props.children,Ue.mode,Bt,$e.key),Le.return=Ue,Ue=Le):(Bt=pv($e.type,$e.key,$e.props,null,Ue.mode,Bt),Bt.ref=hh(Ue,Le,$e),Bt.return=Ue,Ue=Bt)}return ce(Ue);case c:e:{for(hn=$e.key;Le!==null;){if(Le.key===hn)if(Le.tag===4&&Le.stateNode.containerInfo===$e.containerInfo&&Le.stateNode.implementation===$e.implementation){b(Ue,Le.sibling),Le=O(Le,$e.children||[]),Le.return=Ue,Ue=Le;break e}else{b(Ue,Le);break}else p(Ue,Le);Le=Le.sibling}Le=Z1($e,Ue.mode,Bt),Le.return=Ue,Ue=Le}return ce(Ue);case _:return hn=$e._init,Fo(Ue,Le,hn($e._payload),Bt)}if(G($e))return jt(Ue,Le,$e,Bt);if(M($e))return mi(Ue,Le,$e,Bt);Ng(Ue,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Le!==null&&Le.tag===6?(b(Ue,Le.sibling),Le=O(Le,$e),Le.return=Ue,Ue=Le):(b(Ue,Le),Le=Q1($e,Ue.mode,Bt),Le.return=Ue,Ue=Le),ce(Ue)):b(Ue,Le)}return Fo}var Wu=yP(!0),xP=yP(!1),ph={},Bo=St(ph),mh=St(ph),ju=St(ph);function zs(h){if(h===ph)throw Error(s(174));return h}function g1(h,p){zt(ju,p),zt(mh,h),zt(Bo,ph),h=X(p),it(Bo),zt(Bo,h)}function Xu(){it(Bo),it(mh),it(ju)}function SP(h){var p=zs(ju.current),b=zs(Bo.current);p=N(b,h.type,p),b!==p&&(zt(mh,h),zt(Bo,p))}function v1(h){mh.current===h&&(it(Bo),it(mh))}var sr=St(0);function Ug(h){for(var p=h;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||ht(b)||Mt(b)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var y1=[];function x1(){for(var h=0;h<y1.length;h++){var p=y1[h];Te?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}y1.length=0}var kg=a.ReactCurrentDispatcher,Oo=a.ReactCurrentBatchConfig,Ku=0,gr=null,fi=null,Wr=null,zg=!1,gh=!1,vh=0,V8=0;function hi(){throw Error(s(321))}function S1(h,p){if(p===null)return!1;for(var b=0;b<p.length&&b<h.length;b++)if(!Ns(h[b],p[b]))return!1;return!0}function _1(h,p,b,R,O,k){if(Ku=k,gr=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,kg.current=h===null||h.memoizedState===null?j8:X8,h=b(R,O),gh){k=0;do{if(gh=!1,vh=0,25<=k)throw Error(s(301));k+=1,Wr=fi=null,p.updateQueue=null,kg.current=K8,h=b(R,O)}while(gh)}if(kg.current=Wg,p=fi!==null&&fi.next!==null,Ku=0,Wr=fi=gr=null,zg=!1,p)throw Error(s(300));return h}function C1(){var h=vh!==0;return vh=0,h}function ma(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?gr.memoizedState=Wr=h:Wr=Wr.next=h,Wr}function Hs(){if(fi===null){var h=gr.alternate;h=h!==null?h.memoizedState:null}else h=fi.next;var p=Wr===null?gr.memoizedState:Wr.next;if(p!==null)Wr=p,fi=h;else{if(h===null)throw Error(s(310));fi=h,h={memoizedState:fi.memoizedState,baseState:fi.baseState,baseQueue:fi.baseQueue,queue:fi.queue,next:null},Wr===null?gr.memoizedState=Wr=h:Wr=Wr.next=h}return Wr}function hc(h,p){return typeof p=="function"?p(h):p}function Hg(h){var p=Hs(),b=p.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=h;var R=fi,O=R.baseQueue,k=b.pending;if(k!==null){if(O!==null){var ce=O.next;O.next=k.next,k.next=ce}R.baseQueue=O=k,b.pending=null}if(O!==null){k=O.next,R=R.baseState;var Be=ce=null,Je=null,gt=k;do{var kt=gt.lane;if((Ku&kt)===kt)Je!==null&&(Je=Je.next={lane:0,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null}),R=gt.hasEagerState?gt.eagerState:h(R,gt.action);else{var on={lane:kt,action:gt.action,hasEagerState:gt.hasEagerState,eagerState:gt.eagerState,next:null};Je===null?(Be=Je=on,ce=R):Je=Je.next=on,gr.lanes|=kt,Yu|=kt}gt=gt.next}while(gt!==null&&gt!==k);Je===null?ce=R:Je.next=Be,Ns(R,p.memoizedState)||(io=!0),p.memoizedState=R,p.baseState=ce,p.baseQueue=Je,b.lastRenderedState=R}if(h=b.interleaved,h!==null){O=h;do k=O.lane,gr.lanes|=k,Yu|=k,O=O.next;while(O!==h)}else O===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function Vg(h){var p=Hs(),b=p.queue;if(b===null)throw Error(s(311));b.lastRenderedReducer=h;var R=b.dispatch,O=b.pending,k=p.memoizedState;if(O!==null){b.pending=null;var ce=O=O.next;do k=h(k,ce.action),ce=ce.next;while(ce!==O);Ns(k,p.memoizedState)||(io=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),b.lastRenderedState=k}return[k,R]}function _P(){}function CP(h,p){var b=gr,R=Hs(),O=p(),k=!Ns(R.memoizedState,O);if(k&&(R.memoizedState=O,io=!0),R=R.queue,xh(EP.bind(null,b,R,h),[h]),R.getSnapshot!==p||k||Wr!==null&&Wr.memoizedState.tag&1){if(b.flags|=2048,yh(9,wP.bind(null,b,R,O,p),void 0,null),Tr===null)throw Error(s(349));Ku&30||bP(b,p,O)}return O}function bP(h,p,b){h.flags|=16384,h={getSnapshot:p,value:b},p=gr.updateQueue,p===null?(p={lastEffect:null,stores:null},gr.updateQueue=p,p.stores=[h]):(b=p.stores,b===null?p.stores=[h]:b.push(h))}function wP(h,p,b,R){p.value=b,p.getSnapshot=R,MP(p)&&Lo(h,1,-1)}function EP(h,p,b){return b(function(){MP(p)&&Lo(h,1,-1)})}function MP(h){var p=h.getSnapshot;h=h.value;try{var b=p();return!Ns(h,b)}catch{return!0}}function b1(h){var p=ma();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:h},p.queue=h,h=h.dispatch=W8.bind(null,gr,h),[p.memoizedState,h]}function yh(h,p,b,R){return h={tag:h,create:p,destroy:b,deps:R,next:null},p=gr.updateQueue,p===null?(p={lastEffect:null,stores:null},gr.updateQueue=p,p.lastEffect=h.next=h):(b=p.lastEffect,b===null?p.lastEffect=h.next=h:(R=b.next,b.next=h,h.next=R,p.lastEffect=h)),h}function AP(){return Hs().memoizedState}function Gg(h,p,b,R){var O=ma();gr.flags|=h,O.memoizedState=yh(1|p,b,void 0,R===void 0?null:R)}function $g(h,p,b,R){var O=Hs();R=R===void 0?null:R;var k=void 0;if(fi!==null){var ce=fi.memoizedState;if(k=ce.destroy,R!==null&&S1(R,ce.deps)){O.memoizedState=yh(p,b,k,R);return}}gr.flags|=h,O.memoizedState=yh(1|p,b,k,R)}function w1(h,p){return Gg(8390656,8,h,p)}function xh(h,p){return $g(2048,8,h,p)}function TP(h,p){return $g(4,2,h,p)}function RP(h,p){return $g(4,4,h,p)}function PP(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function IP(h,p,b){return b=b!=null?b.concat([h]):null,$g(4,4,PP.bind(null,p,h),b)}function E1(){}function BP(h,p){var b=Hs();p=p===void 0?null:p;var R=b.memoizedState;return R!==null&&p!==null&&S1(p,R[1])?R[0]:(b.memoizedState=[h,p],h)}function OP(h,p){var b=Hs();p=p===void 0?null:p;var R=b.memoizedState;return R!==null&&p!==null&&S1(p,R[1])?R[0]:(h=h(),b.memoizedState=[h,p],h)}function G8(h,p){var b=mn;mn=b!==0&&4>b?b:4,h(!0);var R=Oo.transition;Oo.transition={};try{h(!1),p()}finally{mn=b,Oo.transition=R}}function LP(){return Hs().memoizedState}function $8(h,p,b){var R=Qa(h);b={lane:R,action:b,hasEagerState:!1,eagerState:null,next:null},DP(h)?FP(p,b):(NP(h,p,b),b=Ri(),h=Lo(h,R,b),h!==null&&UP(h,p,R))}function W8(h,p,b){var R=Qa(h),O={lane:R,action:b,hasEagerState:!1,eagerState:null,next:null};if(DP(h))FP(p,O);else{NP(h,p,O);var k=h.alternate;if(h.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var ce=p.lastRenderedState,Be=k(ce,b);if(O.hasEagerState=!0,O.eagerState=Be,Ns(Be,ce))return}catch{}finally{}b=Ri(),h=Lo(h,R,b),h!==null&&UP(h,p,R)}}function DP(h){var p=h.alternate;return h===gr||p!==null&&p===gr}function FP(h,p){gh=zg=!0;var b=h.pending;b===null?p.next=p:(p.next=b.next,b.next=p),h.pending=p}function NP(h,p,b){Tr!==null&&h.mode&1&&!(gn&2)?(h=p.interleaved,h===null?(b.next=b,ks===null?ks=[p]:ks.push(p)):(b.next=h.next,h.next=b),p.interleaved=b):(h=p.pending,h===null?b.next=b:(b.next=h.next,h.next=b),p.pending=b)}function UP(h,p,b){if(b&4194240){var R=p.lanes;R&=h.pendingLanes,b|=R,p.lanes=b,Ds(h,b)}}var Wg={readContext:Ro,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},j8={readContext:Ro,useCallback:function(h,p){return ma().memoizedState=[h,p===void 0?null:p],h},useContext:Ro,useEffect:w1,useImperativeHandle:function(h,p,b){return b=b!=null?b.concat([h]):null,Gg(4194308,4,PP.bind(null,p,h),b)},useLayoutEffect:function(h,p){return Gg(4194308,4,h,p)},useInsertionEffect:function(h,p){return Gg(4,2,h,p)},useMemo:function(h,p){var b=ma();return p=p===void 0?null:p,h=h(),b.memoizedState=[h,p],h},useReducer:function(h,p,b){var R=ma();return p=b!==void 0?b(p):p,R.memoizedState=R.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},R.queue=h,h=h.dispatch=$8.bind(null,gr,h),[R.memoizedState,h]},useRef:function(h){var p=ma();return h={current:h},p.memoizedState=h},useState:b1,useDebugValue:E1,useDeferredValue:function(h){var p=b1(h),b=p[0],R=p[1];return w1(function(){var O=Oo.transition;Oo.transition={};try{R(h)}finally{Oo.transition=O}},[h]),b},useTransition:function(){var h=b1(!1),p=h[0];return h=G8.bind(null,h[1]),ma().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,b){var R=gr,O=ma();if(nr){if(b===void 0)throw Error(s(407));b=b()}else{if(b=p(),Tr===null)throw Error(s(349));Ku&30||bP(R,p,b)}O.memoizedState=b;var k={value:b,getSnapshot:p};return O.queue=k,w1(EP.bind(null,R,k,h),[h]),R.flags|=2048,yh(9,wP.bind(null,R,k,b,p),void 0,null),b},useId:function(){var h=ma(),p=Tr.identifierPrefix;if(nr){var b=pa,R=ha;b=(R&~(1<<32-nn(R)-1)).toString(32)+b,p=":"+p+"R"+b,b=vh++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=V8++,p=":"+p+"r"+b.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},X8={readContext:Ro,useCallback:BP,useContext:Ro,useEffect:xh,useImperativeHandle:IP,useInsertionEffect:TP,useLayoutEffect:RP,useMemo:OP,useReducer:Hg,useRef:AP,useState:function(){return Hg(hc)},useDebugValue:E1,useDeferredValue:function(h){var p=Hg(hc),b=p[0],R=p[1];return xh(function(){var O=Oo.transition;Oo.transition={};try{R(h)}finally{Oo.transition=O}},[h]),b},useTransition:function(){var h=Hg(hc)[0],p=Hs().memoizedState;return[h,p]},useMutableSource:_P,useSyncExternalStore:CP,useId:LP,unstable_isNewReconciler:!1},K8={readContext:Ro,useCallback:BP,useContext:Ro,useEffect:xh,useImperativeHandle:IP,useInsertionEffect:TP,useLayoutEffect:RP,useMemo:OP,useReducer:Vg,useRef:AP,useState:function(){return Vg(hc)},useDebugValue:E1,useDeferredValue:function(h){var p=Vg(hc),b=p[0],R=p[1];return xh(function(){var O=Oo.transition;Oo.transition={};try{R(h)}finally{Oo.transition=O}},[h]),b},useTransition:function(){var h=Vg(hc)[0],p=Hs().memoizedState;return[h,p]},useMutableSource:_P,useSyncExternalStore:CP,useId:LP,unstable_isNewReconciler:!1};function M1(h,p){try{var b="",R=p;do b+=H8(R),R=R.return;while(R);var O=b}catch(k){O=`
Error generating stack: `+k.message+`
`+k.stack}return{value:h,source:p,stack:O}}function A1(h,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var J8=typeof WeakMap=="function"?WeakMap:Map;function kP(h,p,b){b=fa(-1,b),b.tag=3,b.payload={element:null};var R=p.value;return b.callback=function(){av||(av=!0,W1=R),A1(h,p)},b}function zP(h,p,b){b=fa(-1,b),b.tag=3;var R=h.type.getDerivedStateFromError;if(typeof R=="function"){var O=p.value;b.payload=function(){return R(O)},b.callback=function(){A1(h,p)}}var k=h.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(b.callback=function(){A1(h,p),typeof R!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var ce=p.stack;this.componentDidCatch(p.value,{componentStack:ce!==null?ce:""})}),b}function HP(h,p,b){var R=h.pingCache;if(R===null){R=h.pingCache=new J8;var O=new Set;R.set(p,O)}else O=R.get(p),O===void 0&&(O=new Set,R.set(p,O));O.has(b)||(O.add(b),h=c9.bind(null,h,p,b),p.then(h,h))}function VP(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function GP(h,p,b,R,O){return h.mode&1?(h.flags|=65536,h.lanes=O,h):(h===p?h.flags|=65536:(h.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=fa(-1,1),p.tag=2,Ja(b,p))),b.lanes|=1),h)}function Vs(h){h.flags|=4}function $P(h,p){if(h!==null&&h.child===p.child)return!0;if(p.flags&16)return!1;for(h=p.child;h!==null;){if(h.flags&12854||h.subtreeFlags&12854)return!1;h=h.sibling}return!0}var Sh,_h,jg,Xg;if(Y)Sh=function(h,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)se(h,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},_h=function(){},jg=function(h,p,b,R,O){if(h=h.memoizedProps,h!==R){var k=p.stateNode,ce=zs(Bo.current);b=K(k,b,h,R,O,ce),(p.updateQueue=b)&&Vs(p)}},Xg=function(h,p,b,R){b!==R&&Vs(p)};else if(Q){Sh=function(h,p,b,R){for(var O=p.child;O!==null;){if(O.tag===5){var k=O.stateNode;b&&R&&(k=ut(k,O.type,O.memoizedProps,O)),se(h,k)}else if(O.tag===6)k=O.stateNode,b&&R&&(k=lt(k,O.memoizedProps,O)),se(h,k);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)k=O.child,k!==null&&(k.return=O),Sh(h,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===p)break;for(;O.sibling===null;){if(O.return===null||O.return===p)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};var WP=function(h,p,b,R){for(var O=p.child;O!==null;){if(O.tag===5){var k=O.stateNode;b&&R&&(k=ut(k,O.type,O.memoizedProps,O)),Lt(h,k)}else if(O.tag===6)k=O.stateNode,b&&R&&(k=lt(k,O.memoizedProps,O)),Lt(h,k);else if(O.tag!==4){if(O.tag===22&&O.memoizedState!==null)k=O.child,k!==null&&(k.return=O),WP(h,O,!0,!0);else if(O.child!==null){O.child.return=O,O=O.child;continue}}if(O===p)break;for(;O.sibling===null;){if(O.return===null||O.return===p)return;O=O.return}O.sibling.return=O.return,O=O.sibling}};_h=function(h,p){var b=p.stateNode;if(!$P(h,p)){h=b.containerInfo;var R=Dt(h);WP(R,p,!1,!1),b.pendingChildren=R,Vs(p),Pt(h,R)}},jg=function(h,p,b,R,O){var k=h.stateNode,ce=h.memoizedProps;if((h=$P(h,p))&&ce===R)p.stateNode=k;else{var Be=p.stateNode,Je=zs(Bo.current),gt=null;ce!==R&&(gt=K(Be,b,ce,R,O,Je)),h&&gt===null?p.stateNode=k:(k=Ft(k,gt,b,ce,R,p,h,Be),me(k,b,R,O,Je)&&Vs(p),p.stateNode=k,h?Vs(p):Sh(k,p,!1,!1))}},Xg=function(h,p,b,R){b!==R?(h=zs(ju.current),b=zs(Bo.current),p.stateNode=ae(R,h,b,p),Vs(p)):p.stateNode=h.stateNode}}else _h=function(){},jg=function(){},Xg=function(){};function Ch(h,p){if(!nr)switch(h.tailMode){case"hidden":p=h.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?h.tail=null:b.sibling=null;break;case"collapsed":b=h.tail;for(var R=null;b!==null;)b.alternate!==null&&(R=b),b=b.sibling;R===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:R.sibling=null}}function pi(h){var p=h.alternate!==null&&h.alternate.child===h.child,b=0,R=0;if(p)for(var O=h.child;O!==null;)b|=O.lanes|O.childLanes,R|=O.subtreeFlags&14680064,R|=O.flags&14680064,O.return=h,O=O.sibling;else for(O=h.child;O!==null;)b|=O.lanes|O.childLanes,R|=O.subtreeFlags,R|=O.flags,O.return=h,O=O.sibling;return h.subtreeFlags|=R,h.childLanes=b,p}function Y8(h,p,b){var R=p.pendingProps;switch(f1(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(p),null;case 1:return Zt(p.type)&&Mn(),pi(p),null;case 3:return R=p.stateNode,Xu(),it(Vt),it(Kt),x1(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(h===null||h.child===null)&&(fh(p)?Vs(p):h===null||h.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,us!==null&&(K1(us),us=null))),_h(h,p),pi(p),null;case 5:v1(p),b=zs(ju.current);var O=p.type;if(h!==null&&p.stateNode!=null)jg(h,p,O,R,b),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!R){if(p.stateNode===null)throw Error(s(166));return pi(p),null}if(h=zs(Bo.current),fh(p)){if(!ie)throw Error(s(175));h=H(p.stateNode,p.type,p.memoizedProps,b,h,p,!dh),p.updateQueue=h,h!==null&&Vs(p)}else{var k=ee(O,R,b,h,p);Sh(k,p,!1,!1),p.stateNode=k,me(k,O,R,b,h)&&Vs(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return pi(p),null;case 6:if(h&&p.stateNode!=null)Xg(h,p,h.memoizedProps,R);else{if(typeof R!="string"&&p.stateNode===null)throw Error(s(166));if(h=zs(ju.current),b=zs(Bo.current),fh(p)){if(!ie)throw Error(s(176));if(h=p.stateNode,R=p.memoizedProps,(b=J(h,R,p,!dh))&&(O=no,O!==null))switch(k=(O.mode&1)!==0,O.tag){case 3:Me(O.stateNode.containerInfo,h,R,k);break;case 5:Ae(O.type,O.memoizedProps,O.stateNode,h,R,k)}b&&Vs(p)}else p.stateNode=ae(R,h,b,p)}return pi(p),null;case 13:if(it(sr),R=p.memoizedState,nr&&ro!==null&&p.mode&1&&!(p.flags&128)){for(h=ro;h;)h=vt(h);return $u(),p.flags|=98560,p}if(R!==null&&R.dehydrated!==null){if(R=fh(p),h===null){if(!R)throw Error(s(318));if(!ie)throw Error(s(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));D(h,p)}else $u(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return pi(p),null}return us!==null&&(K1(us),us=null),p.flags&128?(p.lanes=b,p):(R=R!==null,b=!1,h===null?fh(p):b=h.memoizedState!==null,R&&!b&&(p.child.flags|=8192,p.mode&1&&(h===null||sr.current&1?Dr===0&&(Dr=3):Y1())),p.updateQueue!==null&&(p.flags|=4),pi(p),null);case 4:return Xu(),_h(h,p),h===null&&fe(p.stateNode.containerInfo),pi(p),null;case 10:return s1(p.type._context),pi(p),null;case 17:return Zt(p.type)&&Mn(),pi(p),null;case 19:if(it(sr),O=p.memoizedState,O===null)return pi(p),null;if(R=(p.flags&128)!==0,k=O.rendering,k===null)if(R)Ch(O,!1);else{if(Dr!==0||h!==null&&h.flags&128)for(h=p.child;h!==null;){if(k=Ug(h),k!==null){for(p.flags|=128,Ch(O,!1),h=k.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=b,R=p.child;R!==null;)b=R,O=h,b.flags&=14680066,k=b.alternate,k===null?(b.childLanes=0,b.lanes=O,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,O=k.dependencies,b.dependencies=O===null?null:{lanes:O.lanes,firstContext:O.firstContext}),R=R.sibling;return zt(sr,sr.current&1|2),p.child}h=h.sibling}O.tail!==null&&xt()>$1&&(p.flags|=128,R=!0,Ch(O,!1),p.lanes=4194304)}else{if(!R)if(h=Ug(k),h!==null){if(p.flags|=128,R=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),Ch(O,!0),O.tail===null&&O.tailMode==="hidden"&&!k.alternate&&!nr)return pi(p),null}else 2*xt()-O.renderingStartTime>$1&&b!==1073741824&&(p.flags|=128,R=!0,Ch(O,!1),p.lanes=4194304);O.isBackwards?(k.sibling=p.child,p.child=k):(h=O.last,h!==null?h.sibling=k:p.child=k,O.last=k)}return O.tail!==null?(p=O.tail,O.rendering=p,O.tail=p.sibling,O.renderingStartTime=xt(),p.sibling=null,h=sr.current,zt(sr,R?h&1|2:h&1),p):(pi(p),null);case 22:case 23:return J1(),R=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==R&&(p.flags|=8192),R&&p.mode&1?oo&1073741824&&(pi(p),Y&&p.subtreeFlags&6&&(p.flags|=8192)):pi(p),null;case 24:return null;case 25:return null}throw Error(s(156,p.tag))}var q8=a.ReactCurrentOwner,io=!1;function Ti(h,p,b,R){p.child=h===null?xP(p,null,b,R):Wu(p,h.child,b,R)}function jP(h,p,b,R,O){b=b.render;var k=p.ref;return Hu(p,O),R=_1(h,p,b,R,k,O),b=C1(),h!==null&&!io?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~O,ga(h,p,O)):(nr&&b&&d1(p),p.flags|=1,Ti(h,p,R,O),p.child)}function XP(h,p,b,R,O){if(h===null){var k=b.type;return typeof k=="function"&&!q1(k)&&k.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=k,KP(h,p,k,R,O)):(h=pv(b.type,null,R,p,p.mode,O),h.ref=p.ref,h.return=p,p.child=h)}if(k=h.child,!(h.lanes&O)){var ce=k.memoizedProps;if(b=b.compare,b=b!==null?b:Rg,b(ce,R)&&h.ref===p.ref)return ga(h,p,O)}return p.flags|=1,h=el(k,R),h.ref=p.ref,h.return=p,p.child=h}function KP(h,p,b,R,O){if(h!==null&&Rg(h.memoizedProps,R)&&h.ref===p.ref)if(io=!1,(h.lanes&O)!==0)h.flags&131072&&(io=!0);else return p.lanes=h.lanes,ga(h,p,O);return T1(h,p,b,R,O)}function JP(h,p,b){var R=p.pendingProps,O=R.children,k=h!==null?h.memoizedState:null;if(R.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},zt(Ju,oo),oo|=b;else if(b&1073741824)p.memoizedState={baseLanes:0,cachePool:null},R=k!==null?k.baseLanes:b,zt(Ju,oo),oo|=R;else return h=k!==null?k.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,zt(Ju,oo),oo|=h,null;else k!==null?(R=k.baseLanes|b,p.memoizedState=null):R=b,zt(Ju,oo),oo|=R;return Ti(h,p,O,b),p.child}function YP(h,p){var b=p.ref;(h===null&&b!==null||h!==null&&h.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function T1(h,p,b,R,O){var k=Zt(b)?un:Kt.current;return k=Dn(p,k),Hu(p,O),b=_1(h,p,b,R,k,O),R=C1(),h!==null&&!io?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~O,ga(h,p,O)):(nr&&R&&d1(p),p.flags|=1,Ti(h,p,b,O),p.child)}function qP(h,p,b,R,O){if(Zt(b)){var k=!0;_t(p)}else k=!1;if(Hu(p,O),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),dP(p,b,R),u1(p,b,R,O),R=!0;else if(h===null){var ce=p.stateNode,Be=p.memoizedProps;ce.props=Be;var Je=ce.context,gt=b.contextType;typeof gt=="object"&&gt!==null?gt=Ro(gt):(gt=Zt(b)?un:Kt.current,gt=Dn(p,gt));var kt=b.getDerivedStateFromProps,on=typeof kt=="function"||typeof ce.getSnapshotBeforeUpdate=="function";on||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Be!==R||Je!==gt)&&fP(p,ce,R,gt),Ka=!1;var Qt=p.memoizedState;ce.state=Qt,Og(p,R,ce,O),Je=p.memoizedState,Be!==R||Qt!==Je||Vt.current||Ka?(typeof kt=="function"&&(c1(p,b,kt,R),Je=p.memoizedState),(Be=Ka||uP(p,b,Be,R,Qt,Je,gt))?(on||typeof ce.UNSAFE_componentWillMount!="function"&&typeof ce.componentWillMount!="function"||(typeof ce.componentWillMount=="function"&&ce.componentWillMount(),typeof ce.UNSAFE_componentWillMount=="function"&&ce.UNSAFE_componentWillMount()),typeof ce.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ce.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=R,p.memoizedState=Je),ce.props=R,ce.state=Je,ce.context=gt,R=Be):(typeof ce.componentDidMount=="function"&&(p.flags|=4194308),R=!1)}else{ce=p.stateNode,sP(h,p),Be=p.memoizedProps,gt=p.type===p.elementType?Be:cs(p.type,Be),ce.props=gt,on=p.pendingProps,Qt=ce.context,Je=b.contextType,typeof Je=="object"&&Je!==null?Je=Ro(Je):(Je=Zt(b)?un:Kt.current,Je=Dn(p,Je));var $n=b.getDerivedStateFromProps;(kt=typeof $n=="function"||typeof ce.getSnapshotBeforeUpdate=="function")||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Be!==on||Qt!==Je)&&fP(p,ce,R,Je),Ka=!1,Qt=p.memoizedState,ce.state=Qt,Og(p,R,ce,O);var jt=p.memoizedState;Be!==on||Qt!==jt||Vt.current||Ka?(typeof $n=="function"&&(c1(p,b,$n,R),jt=p.memoizedState),(gt=Ka||uP(p,b,gt,R,Qt,jt,Je)||!1)?(kt||typeof ce.UNSAFE_componentWillUpdate!="function"&&typeof ce.componentWillUpdate!="function"||(typeof ce.componentWillUpdate=="function"&&ce.componentWillUpdate(R,jt,Je),typeof ce.UNSAFE_componentWillUpdate=="function"&&ce.UNSAFE_componentWillUpdate(R,jt,Je)),typeof ce.componentDidUpdate=="function"&&(p.flags|=4),typeof ce.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ce.componentDidUpdate!="function"||Be===h.memoizedProps&&Qt===h.memoizedState||(p.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Be===h.memoizedProps&&Qt===h.memoizedState||(p.flags|=1024),p.memoizedProps=R,p.memoizedState=jt),ce.props=R,ce.state=jt,ce.context=Je,R=gt):(typeof ce.componentDidUpdate!="function"||Be===h.memoizedProps&&Qt===h.memoizedState||(p.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Be===h.memoizedProps&&Qt===h.memoizedState||(p.flags|=1024),R=!1)}return R1(h,p,b,R,k,O)}function R1(h,p,b,R,O,k){YP(h,p);var ce=(p.flags&128)!==0;if(!R&&!ce)return O&&Yt(p,b,!1),ga(h,p,k);R=p.stateNode,q8.current=p;var Be=ce&&typeof b.getDerivedStateFromError!="function"?null:R.render();return p.flags|=1,h!==null&&ce?(p.child=Wu(p,h.child,null,k),p.child=Wu(p,null,Be,k)):Ti(h,p,Be,k),p.memoizedState=R.state,O&&Yt(p,b,!0),p.child}function QP(h){var p=h.stateNode;p.pendingContext?rn(h,p.pendingContext,p.pendingContext!==p.context):p.context&&rn(h,p.context,!1),g1(h,p.containerInfo)}function ZP(h,p,b,R,O){return $u(),m1(O),p.flags|=256,Ti(h,p,b,R),p.child}var Kg={dehydrated:null,treeContext:null,retryLane:0};function Jg(h){return{baseLanes:h,cachePool:null}}function eI(h,p,b){var R=p.pendingProps,O=sr.current,k=!1,ce=(p.flags&128)!==0,Be;if((Be=ce)||(Be=h!==null&&h.memoizedState===null?!1:(O&2)!==0),Be?(k=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(O|=1),zt(sr,O&1),h===null)return p1(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(p.mode&1?Mt(h)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(O=R.children,h=R.fallback,k?(R=p.mode,k=p.child,O={mode:"hidden",children:O},!(R&1)&&k!==null?(k.childLanes=0,k.pendingProps=O):k=mv(O,R,0,null),h=xc(h,R,b,null),k.return=p,h.return=p,k.sibling=h,p.child=k,p.child.memoizedState=Jg(b),p.memoizedState=Kg,h):P1(p,O));if(O=h.memoizedState,O!==null){if(Be=O.dehydrated,Be!==null){if(ce)return p.flags&256?(p.flags&=-257,Yg(h,p,b,Error(s(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(k=R.fallback,O=p.mode,R=mv({mode:"visible",children:R.children},O,0,null),k=xc(k,O,b,null),k.flags|=2,R.return=p,k.return=p,R.sibling=k,p.child=R,p.mode&1&&Wu(p,h.child,null,b),p.child.memoizedState=Jg(b),p.memoizedState=Kg,k);if(!(p.mode&1))p=Yg(h,p,b,null);else if(Mt(Be))p=Yg(h,p,b,Error(s(419)));else if(R=(b&h.childLanes)!==0,io||R){if(R=Tr,R!==null){switch(b&-b){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}R=k&(R.suspendedLanes|b)?0:k,R!==0&&R!==O.retryLane&&(O.retryLane=R,Lo(h,R,-1))}Y1(),p=Yg(h,p,b,Error(s(421)))}else ht(Be)?(p.flags|=128,p.child=h.child,p=u9.bind(null,h),wt(Be,p),p=null):(b=O.treeContext,ie&&(ro=fn(Be),no=p,nr=!0,us=null,dh=!1,b!==null&&(Po[Io++]=ha,Po[Io++]=pa,Po[Io++]=dc,ha=b.id,pa=b.overflow,dc=p)),p=P1(p,p.pendingProps.children),p.flags|=4096);return p}return k?(R=nI(h,p,R.children,R.fallback,b),k=p.child,O=h.child.memoizedState,k.memoizedState=O===null?Jg(b):{baseLanes:O.baseLanes|b,cachePool:null},k.childLanes=h.childLanes&~b,p.memoizedState=Kg,R):(b=tI(h,p,R.children,b),p.memoizedState=null,b)}return k?(R=nI(h,p,R.children,R.fallback,b),k=p.child,O=h.child.memoizedState,k.memoizedState=O===null?Jg(b):{baseLanes:O.baseLanes|b,cachePool:null},k.childLanes=h.childLanes&~b,p.memoizedState=Kg,R):(b=tI(h,p,R.children,b),p.memoizedState=null,b)}function P1(h,p){return p=mv({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function tI(h,p,b,R){var O=h.child;return h=O.sibling,b=el(O,{mode:"visible",children:b}),!(p.mode&1)&&(b.lanes=R),b.return=p,b.sibling=null,h!==null&&(R=p.deletions,R===null?(p.deletions=[h],p.flags|=16):R.push(h)),p.child=b}function nI(h,p,b,R,O){var k=p.mode;h=h.child;var ce=h.sibling,Be={mode:"hidden",children:b};return!(k&1)&&p.child!==h?(b=p.child,b.childLanes=0,b.pendingProps=Be,p.deletions=null):(b=el(h,Be),b.subtreeFlags=h.subtreeFlags&14680064),ce!==null?R=el(ce,R):(R=xc(R,k,O,null),R.flags|=2),R.return=p,b.return=p,b.sibling=R,p.child=b,R}function Yg(h,p,b,R){return R!==null&&m1(R),Wu(p,h.child,null,b),h=P1(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function rI(h,p,b){h.lanes|=p;var R=h.alternate;R!==null&&(R.lanes|=p),a1(h.return,p,b)}function I1(h,p,b,R,O){var k=h.memoizedState;k===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:R,tail:b,tailMode:O}:(k.isBackwards=p,k.rendering=null,k.renderingStartTime=0,k.last=R,k.tail=b,k.tailMode=O)}function iI(h,p,b){var R=p.pendingProps,O=R.revealOrder,k=R.tail;if(Ti(h,p,R.children,b),R=sr.current,R&2)R=R&1|2,p.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&rI(h,b,p);else if(h.tag===19)rI(h,b,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}R&=1}if(zt(sr,R),!(p.mode&1))p.memoizedState=null;else switch(O){case"forwards":for(b=p.child,O=null;b!==null;)h=b.alternate,h!==null&&Ug(h)===null&&(O=b),b=b.sibling;b=O,b===null?(O=p.child,p.child=null):(O=b.sibling,b.sibling=null),I1(p,!1,O,b,k);break;case"backwards":for(b=null,O=p.child,p.child=null;O!==null;){if(h=O.alternate,h!==null&&Ug(h)===null){p.child=O;break}h=O.sibling,O.sibling=b,b=O,O=h}I1(p,!0,b,null,k);break;case"together":I1(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function ga(h,p,b){if(h!==null&&(p.dependencies=h.dependencies),Yu|=p.lanes,!(b&p.childLanes))return null;if(h!==null&&p.child!==h.child)throw Error(s(153));if(p.child!==null){for(h=p.child,b=el(h,h.pendingProps),p.child=b,b.return=p;h.sibling!==null;)h=h.sibling,b=b.sibling=el(h,h.pendingProps),b.return=p;b.sibling=null}return p.child}function Q8(h,p,b){switch(p.tag){case 3:QP(p),$u();break;case 5:SP(p);break;case 1:Zt(p.type)&&_t(p);break;case 4:g1(p,p.stateNode.containerInfo);break;case 10:oP(p,p.type._context,p.memoizedProps.value);break;case 13:var R=p.memoizedState;if(R!==null)return R.dehydrated!==null?(zt(sr,sr.current&1),p.flags|=128,null):b&p.child.childLanes?eI(h,p,b):(zt(sr,sr.current&1),h=ga(h,p,b),h!==null?h.sibling:null);zt(sr,sr.current&1);break;case 19:if(R=(b&p.childLanes)!==0,h.flags&128){if(R)return iI(h,p,b);p.flags|=128}var O=p.memoizedState;if(O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),zt(sr,sr.current),R)break;return null;case 22:case 23:return p.lanes=0,JP(h,p,b)}return ga(h,p,b)}function Z8(h,p){switch(f1(p),p.tag){case 1:return Zt(p.type)&&Mn(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Xu(),it(Vt),it(Kt),x1(),h=p.flags,h&65536&&!(h&128)?(p.flags=h&-65537|128,p):null;case 5:return v1(p),null;case 13:if(it(sr),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(s(340));$u()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return it(sr),null;case 4:return Xu(),null;case 10:return s1(p.type._context),null;case 22:case 23:return J1(),null;case 24:return null;default:return null}}var qg=!1,pc=!1,e9=typeof WeakSet=="function"?WeakSet:Set,It=null;function Qg(h,p){var b=h.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(R){$i(h,p,R)}else b.current=null}function B1(h,p,b){try{b()}catch(R){$i(h,p,R)}}var oI=!1;function t9(h,p){for(W(h.containerInfo),It=p;It!==null;)if(h=It,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,It=p;else for(;It!==null;){h=It;try{var b=h.alternate;if(h.flags&1024)switch(h.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var R=b.memoizedProps,O=b.memoizedState,k=h.stateNode,ce=k.getSnapshotBeforeUpdate(h.elementType===h.type?R:cs(h.type,R),O);k.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:Y&&at(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Be){$i(h,h.return,Be)}if(p=h.sibling,p!==null){p.return=h.return,It=p;break}It=h.return}return b=oI,oI=!1,b}function mc(h,p,b){var R=p.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var O=R=R.next;do{if((O.tag&h)===h){var k=O.destroy;O.destroy=void 0,k!==void 0&&B1(p,b,k)}O=O.next}while(O!==R)}}function bh(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&h)===h){var R=b.create;b.destroy=R()}b=b.next}while(b!==p)}}function O1(h){var p=h.ref;if(p!==null){var b=h.stateNode;switch(h.tag){case 5:h=j(b);break;default:h=b}typeof p=="function"?p(h):p.current=h}}function sI(h,p,b){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(ua,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var R=h=h.next;do{var O=R,k=O.destroy;O=O.tag,k!==void 0&&(O&2||O&4)&&B1(p,b,k),R=R.next}while(R!==h)}break;case 1:if(Qg(p,b),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(ce){$i(p,b,ce)}break;case 5:Qg(p,b);break;case 4:Y?fI(h,p,b):Q&&Q&&(p=p.stateNode.containerInfo,b=Dt(p),st(p,b))}}function aI(h,p,b){for(var R=p;;)if(sI(h,R,b),R.child===null||Y&&R.tag===4){if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function lI(h){var p=h.alternate;p!==null&&(h.alternate=null,lI(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&$(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function cI(h){return h.tag===5||h.tag===3||h.tag===4}function uI(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||cI(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function dI(h){if(Y){e:{for(var p=h.return;p!==null;){if(cI(p))break e;p=p.return}throw Error(s(160))}var b=p;switch(b.tag){case 5:p=b.stateNode,b.flags&32&&(Ee(p),b.flags&=-33),b=uI(h),D1(h,b,p);break;case 3:case 4:p=b.stateNode.containerInfo,b=uI(h),L1(h,b,p);break;default:throw Error(s(161))}}}function L1(h,p,b){var R=h.tag;if(R===5||R===6)h=h.stateNode,p?Ze(b,h,p):Ye(b,h);else if(R!==4&&(h=h.child,h!==null))for(L1(h,p,b),h=h.sibling;h!==null;)L1(h,p,b),h=h.sibling}function D1(h,p,b){var R=h.tag;if(R===5||R===6)h=h.stateNode,p?je(b,h,p):He(b,h);else if(R!==4&&(h=h.child,h!==null))for(D1(h,p,b),h=h.sibling;h!==null;)D1(h,p,b),h=h.sibling}function fI(h,p,b){for(var R=p,O=!1,k,ce;;){if(!O){O=R.return;e:for(;;){if(O===null)throw Error(s(160));switch(k=O.stateNode,O.tag){case 5:ce=!1;break e;case 3:k=k.containerInfo,ce=!0;break e;case 4:k=k.containerInfo,ce=!0;break e}O=O.return}O=!0}if(R.tag===5||R.tag===6)aI(h,R,b),ce?he(k,R.stateNode):ft(k,R.stateNode);else if(R.tag===18)ce?Ie(k,R.stateNode):ue(k,R.stateNode);else if(R.tag===4){if(R.child!==null){k=R.stateNode.containerInfo,ce=!0,R.child.return=R,R=R.child;continue}}else if(sI(h,R,b),R.child!==null){R.child.return=R,R=R.child;continue}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return,R.tag===4&&(O=!1)}R.sibling.return=R.return,R=R.sibling}}function F1(h,p){if(Y){switch(p.tag){case 0:case 11:case 14:case 15:mc(3,p,p.return),bh(3,p),mc(5,p,p.return);return;case 1:return;case 5:var b=p.stateNode;if(b!=null){var R=p.memoizedProps;h=h!==null?h.memoizedProps:R;var O=p.type,k=p.updateQueue;p.updateQueue=null,k!==null&&ot(b,k,O,h,R,p)}return;case 6:if(p.stateNode===null)throw Error(s(162));b=p.memoizedProps,Ke(p.stateNode,h!==null?h.memoizedProps:b,b);return;case 3:ie&&h!==null&&h.memoizedState.isDehydrated&&ne(p.stateNode.containerInfo);return;case 12:return;case 13:Zg(p);return;case 19:Zg(p);return;case 17:return}throw Error(s(163))}switch(p.tag){case 0:case 11:case 14:case 15:mc(3,p,p.return),bh(3,p),mc(5,p,p.return);return;case 12:return;case 13:Zg(p);return;case 19:Zg(p);return;case 3:ie&&h!==null&&h.memoizedState.isDehydrated&&ne(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(Q){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,st(p.containerInfo,p.pendingChildren);break e}throw Error(s(163))}}function Zg(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var b=h.stateNode;b===null&&(b=h.stateNode=new e9),p.forEach(function(R){var O=d9.bind(null,h,R);b.has(R)||(b.add(R),R.then(O,O))})}}function n9(h,p){for(It=p;It!==null;){p=It;var b=p.deletions;if(b!==null)for(var R=0;R<b.length;R++){var O=b[R];try{var k=h;Y?fI(k,O,p):aI(k,O,p);var ce=O.alternate;ce!==null&&(ce.return=null),O.return=null}catch(Wt){$i(O,p,Wt)}}if(b=p.child,p.subtreeFlags&12854&&b!==null)b.return=p,It=b;else for(;It!==null;){p=It;try{var Be=p.flags;if(Be&32&&Y&&Ee(p.stateNode),Be&512){var Je=p.alternate;if(Je!==null){var gt=Je.ref;gt!==null&&(typeof gt=="function"?gt(null):gt.current=null)}}if(Be&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var kt=p.alternate;(kt===null||kt.memoizedState===null)&&(G1=xt())}break;case 22:var on=p.memoizedState!==null,Qt=p.alternate,$n=Qt!==null&&Qt.memoizedState!==null;if(b=p,Y){e:if(R=b,O=on,k=null,Y)for(var jt=R;;){if(jt.tag===5){if(k===null){k=jt;var mi=jt.stateNode;O?Z(mi):Pe(jt.stateNode,jt.memoizedProps)}}else if(jt.tag===6){if(k===null){var Fo=jt.stateNode;O?ze(Fo):ct(Fo,jt.memoizedProps)}}else if((jt.tag!==22&&jt.tag!==23||jt.memoizedState===null||jt===R)&&jt.child!==null){jt.child.return=jt,jt=jt.child;continue}if(jt===R)break;for(;jt.sibling===null;){if(jt.return===null||jt.return===R)break e;k===jt&&(k=null),jt=jt.return}k===jt&&(k=null),jt.sibling.return=jt.return,jt=jt.sibling}}if(on&&!$n&&b.mode&1){It=b;for(var Ue=b.child;Ue!==null;){for(b=It=Ue;It!==null;){R=It;var Le=R.child;switch(R.tag){case 0:case 11:case 14:case 15:mc(4,R,R.return);break;case 1:Qg(R,R.return);var $e=R.stateNode;if(typeof $e.componentWillUnmount=="function"){var Bt=R.return;try{$e.props=R.memoizedProps,$e.state=R.memoizedState,$e.componentWillUnmount()}catch(Wt){$i(R,Bt,Wt)}}break;case 5:Qg(R,R.return);break;case 22:if(R.memoizedState!==null){mI(b);continue}}Le!==null?(Le.return=R,It=Le):mI(b)}Ue=Ue.sibling}}}switch(Be&4102){case 2:dI(p),p.flags&=-3;break;case 6:dI(p),p.flags&=-3,F1(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,F1(p.alternate,p);break;case 4:F1(p.alternate,p)}}catch(Wt){$i(p,p.return,Wt)}if(b=p.sibling,b!==null){b.return=p.return,It=b;break}It=p.return}}}function r9(h,p,b){It=h,hI(h)}function hI(h,p,b){for(var R=(h.mode&1)!==0;It!==null;){var O=It,k=O.child;if(O.tag===22&&R){var ce=O.memoizedState!==null||qg;if(!ce){var Be=O.alternate,Je=Be!==null&&Be.memoizedState!==null||pc;Be=qg;var gt=pc;if(qg=ce,(pc=Je)&&!gt)for(It=O;It!==null;)ce=It,Je=ce.child,ce.tag===22&&ce.memoizedState!==null?gI(O):Je!==null?(Je.return=ce,It=Je):gI(O);for(;k!==null;)It=k,hI(k),k=k.sibling;It=O,qg=Be,pc=gt}pI(h)}else O.subtreeFlags&8772&&k!==null?(k.return=O,It=k):pI(h)}}function pI(h){for(;It!==null;){var p=It;if(p.flags&8772){var b=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:pc||bh(5,p);break;case 1:var R=p.stateNode;if(p.flags&4&&!pc)if(b===null)R.componentDidMount();else{var O=p.elementType===p.type?b.memoizedProps:cs(p.type,b.memoizedProps);R.componentDidUpdate(O,b.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var k=p.updateQueue;k!==null&&lP(p,k,R);break;case 3:var ce=p.updateQueue;if(ce!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=j(p.child.stateNode);break;case 1:b=p.child.stateNode}lP(p,ce,b)}break;case 5:var Be=p.stateNode;b===null&&p.flags&4&&We(Be,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(ie&&p.memoizedState===null){var Je=p.alternate;if(Je!==null){var gt=Je.memoizedState;if(gt!==null){var kt=gt.dehydrated;kt!==null&&oe(kt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}pc||p.flags&512&&O1(p)}catch(on){$i(p,p.return,on)}}if(p===h){It=null;break}if(b=p.sibling,b!==null){b.return=p.return,It=b;break}It=p.return}}function mI(h){for(;It!==null;){var p=It;if(p===h){It=null;break}var b=p.sibling;if(b!==null){b.return=p.return,It=b;break}It=p.return}}function gI(h){for(;It!==null;){var p=It;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{bh(4,p)}catch(Je){$i(p,b,Je)}break;case 1:var R=p.stateNode;if(typeof R.componentDidMount=="function"){var O=p.return;try{R.componentDidMount()}catch(Je){$i(p,O,Je)}}var k=p.return;try{O1(p)}catch(Je){$i(p,k,Je)}break;case 5:var ce=p.return;try{O1(p)}catch(Je){$i(p,ce,Je)}}}catch(Je){$i(p,p.return,Je)}if(p===h){It=null;break}var Be=p.sibling;if(Be!==null){Be.return=p.return,It=Be;break}It=p.return}}var ev=0,tv=1,nv=2,rv=3,iv=4;if(typeof Symbol=="function"&&Symbol.for){var wh=Symbol.for;ev=wh("selector.component"),tv=wh("selector.has_pseudo_class"),nv=wh("selector.role"),rv=wh("selector.test_id"),iv=wh("selector.text")}function N1(h){var p=ye(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(s(364));return p}if(h=we(h),h===null)throw Error(s(362));return h.stateNode.current}function U1(h,p){switch(p.$$typeof){case ev:if(h.type===p.value)return!0;break;case tv:e:{p=p.value,h=[h,0];for(var b=0;b<h.length;){var R=h[b++],O=h[b++],k=p[O];if(R.tag!==5||!ge(R)){for(;k!=null&&U1(R,k);)O++,k=p[O];if(O===p.length){p=!0;break e}else for(R=R.child;R!==null;)h.push(R,O),R=R.sibling}}p=!1}return p;case nv:if(h.tag===5&&Fe(h.stateNode,p.value))return!0;break;case iv:if((h.tag===5||h.tag===6)&&(h=De(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case rv:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function k1(h){switch(h.$$typeof){case ev:return"<"+(P(h.value)||"Unknown")+">";case tv:return":has("+(k1(h)||"")+")";case nv:return'[role="'+h.value+'"]';case iv:return'"'+h.value+'"';case rv:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function vI(h,p){var b=[];h=[h,0];for(var R=0;R<h.length;){var O=h[R++],k=h[R++],ce=p[k];if(O.tag!==5||!ge(O)){for(;ce!=null&&U1(O,ce);)k++,ce=p[k];if(k===p.length)b.push(O);else for(O=O.child;O!==null;)h.push(O,k),O=O.sibling}}return b}function z1(h,p){if(!be)throw Error(s(363));h=N1(h),h=vI(h,p),p=[],h=Array.from(h);for(var b=0;b<h.length;){var R=h[b++];if(R.tag===5)ge(R)||p.push(R.stateNode);else for(R=R.child;R!==null;)h.push(R),R=R.sibling}return p}var i9=Math.ceil,ov=a.ReactCurrentDispatcher,H1=a.ReactCurrentOwner,_r=a.ReactCurrentBatchConfig,gn=0,Tr=null,Rr=null,ti=0,oo=0,Ju=St(0),Dr=0,Eh=null,Yu=0,sv=0,V1=0,Mh=null,Vi=null,G1=0,$1=1/0;function qu(){$1=xt()+500}var av=!1,W1=null,Ya=null,lv=!1,qa=null,cv=0,Ah=0,j1=null,uv=-1,dv=0;function Ri(){return gn&6?xt():uv!==-1?uv:uv=xt()}function Qa(h){return h.mode&1?gn&2&&ti!==0?ti&-ti:z8.transition!==null?(dv===0&&(h=Lr,Lr<<=1,!(Lr&4194240)&&(Lr=64),dv=h),dv):(h=mn,h!==0?h:pe()):1}function Lo(h,p,b){if(50<Ah)throw Ah=0,j1=null,Error(s(185));var R=fv(h,p);return R===null?null:(Xa(R,p,b),(!(gn&2)||R!==Tr)&&(R===Tr&&(!(gn&2)&&(sv|=p),Dr===4&&Za(R,ti)),Gi(R,b),p===1&&gn===0&&!(h.mode&1)&&(qu(),Tg&&Us())),R)}function fv(h,p){h.lanes|=p;var b=h.alternate;for(b!==null&&(b.lanes|=p),b=h,h=h.return;h!==null;)h.childLanes|=p,b=h.alternate,b!==null&&(b.childLanes|=p),b=h,h=h.return;return b.tag===3?b.stateNode:null}function Gi(h,p){var b=h.callbackNode;Zr(h,p);var R=di(h,h===Tr?ti:0);if(R===0)b!==null&&uc(b),h.callbackNode=null,h.callbackPriority=0;else if(p=R&-R,h.callbackPriority!==p){if(b!=null&&uc(b),p===1)h.tag===0?k8(xI.bind(null,h)):iP(xI.bind(null,h)),U?le(function(){gn===0&&Us()}):Fs(qt,Us),b=null;else{switch(ls(R)){case 1:b=qt;break;case 4:b=jn;break;case 16:b=Yn;break;case 536870912:b=Xn;break;default:b=Yn}b=TI(b,yI.bind(null,h))}h.callbackPriority=p,h.callbackNode=b}}function yI(h,p){if(uv=-1,dv=0,gn&6)throw Error(s(327));var b=h.callbackNode;if(yc()&&h.callbackNode!==b)return null;var R=di(h,h===Tr?ti:0);if(R===0)return null;if(R&30||R&h.expiredLanes||p)p=hv(h,R);else{p=R;var O=gn;gn|=2;var k=CI();(Tr!==h||ti!==p)&&(qu(),gc(h,p));do try{a9();break}catch(Be){_I(h,Be)}while(1);o1(),ov.current=k,gn=O,Rr!==null?p=0:(Tr=null,ti=0,p=Dr)}if(p!==0){if(p===2&&(O=cc(h),O!==0&&(R=O,p=X1(h,O))),p===1)throw b=Eh,gc(h,0),Za(h,R),Gi(h,xt()),b;if(p===6)Za(h,R);else{if(O=h.current.alternate,!(R&30)&&!o9(O)&&(p=hv(h,R),p===2&&(k=cc(h),k!==0&&(R=k,p=X1(h,k))),p===1))throw b=Eh,gc(h,0),Za(h,R),Gi(h,xt()),b;switch(h.finishedWork=O,h.finishedLanes=R,p){case 0:case 1:throw Error(s(345));case 2:vc(h,Vi);break;case 3:if(Za(h,R),(R&130023424)===R&&(p=G1+500-xt(),10<p)){if(di(h,0)!==0)break;if(O=h.suspendedLanes,(O&R)!==R){Ri(),h.pingedLanes|=h.suspendedLanes&O;break}h.timeoutHandle=de(vc.bind(null,h,Vi),p);break}vc(h,Vi);break;case 4:if(Za(h,R),(R&4194240)===R)break;for(p=h.eventTimes,O=-1;0<R;){var ce=31-nn(R);k=1<<ce,ce=p[ce],ce>O&&(O=ce),R&=~k}if(R=O,R=xt()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*i9(R/1960))-R,10<R){h.timeoutHandle=de(vc.bind(null,h,Vi),R);break}vc(h,Vi);break;case 5:vc(h,Vi);break;default:throw Error(s(329))}}}return Gi(h,xt()),h.callbackNode===b?yI.bind(null,h):null}function X1(h,p){var b=Mh;return h.current.memoizedState.isDehydrated&&(gc(h,p).flags|=256),h=hv(h,p),h!==2&&(p=Vi,Vi=b,p!==null&&K1(p)),h}function K1(h){Vi===null?Vi=h:Vi.push.apply(Vi,h)}function o9(h){for(var p=h;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var R=0;R<b.length;R++){var O=b[R],k=O.getSnapshot;O=O.value;try{if(!Ns(k(),O))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Za(h,p){for(p&=~V1,p&=~sv,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var b=31-nn(p),R=1<<b;h[b]=-1,p&=~R}}function xI(h){if(gn&6)throw Error(s(327));yc();var p=di(h,0);if(!(p&1))return Gi(h,xt()),null;var b=hv(h,p);if(h.tag!==0&&b===2){var R=cc(h);R!==0&&(p=R,b=X1(h,R))}if(b===1)throw b=Eh,gc(h,0),Za(h,p),Gi(h,xt()),b;if(b===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,vc(h,Vi),Gi(h,xt()),null}function SI(h){qa!==null&&qa.tag===0&&!(gn&6)&&yc();var p=gn;gn|=1;var b=_r.transition,R=mn;try{if(_r.transition=null,mn=1,h)return h()}finally{mn=R,_r.transition=b,gn=p,!(gn&6)&&Us()}}function J1(){oo=Ju.current,it(Ju)}function gc(h,p){h.finishedWork=null,h.finishedLanes=0;var b=h.timeoutHandle;if(b!==Re&&(h.timeoutHandle=Re,_e(b)),Rr!==null)for(b=Rr.return;b!==null;){var R=b;switch(f1(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Mn();break;case 3:Xu(),it(Vt),it(Kt),x1();break;case 5:v1(R);break;case 4:Xu();break;case 13:it(sr);break;case 19:it(sr);break;case 10:s1(R.type._context);break;case 22:case 23:J1()}b=b.return}if(Tr=h,Rr=h=el(h.current,null),ti=oo=p,Dr=0,Eh=null,V1=sv=Yu=0,Vi=Mh=null,ks!==null){for(p=0;p<ks.length;p++)if(b=ks[p],R=b.interleaved,R!==null){b.interleaved=null;var O=R.next,k=b.pending;if(k!==null){var ce=k.next;k.next=O,R.next=ce}b.pending=R}ks=null}return h}function _I(h,p){do{var b=Rr;try{if(o1(),kg.current=Wg,zg){for(var R=gr.memoizedState;R!==null;){var O=R.queue;O!==null&&(O.pending=null),R=R.next}zg=!1}if(Ku=0,Wr=fi=gr=null,gh=!1,vh=0,H1.current=null,b===null||b.return===null){Dr=1,Eh=p,Rr=null;break}e:{var k=h,ce=b.return,Be=b,Je=p;if(p=ti,Be.flags|=32768,Je!==null&&typeof Je=="object"&&typeof Je.then=="function"){var gt=Je,kt=Be,on=kt.tag;if(!(kt.mode&1)&&(on===0||on===11||on===15)){var Qt=kt.alternate;Qt?(kt.updateQueue=Qt.updateQueue,kt.memoizedState=Qt.memoizedState,kt.lanes=Qt.lanes):(kt.updateQueue=null,kt.memoizedState=null)}var $n=VP(ce);if($n!==null){$n.flags&=-257,GP($n,ce,Be,k,p),$n.mode&1&&HP(k,gt,p),p=$n,Je=gt;var jt=p.updateQueue;if(jt===null){var mi=new Set;mi.add(Je),p.updateQueue=mi}else jt.add(Je);break e}else{if(!(p&1)){HP(k,gt,p),Y1();break e}Je=Error(s(426))}}else if(nr&&Be.mode&1){var Fo=VP(ce);if(Fo!==null){!(Fo.flags&65536)&&(Fo.flags|=256),GP(Fo,ce,Be,k,p),m1(Je);break e}}k=Je,Dr!==4&&(Dr=2),Mh===null?Mh=[k]:Mh.push(k),Je=M1(Je,Be),Be=ce;do{switch(Be.tag){case 3:Be.flags|=65536,p&=-p,Be.lanes|=p;var Ue=kP(Be,Je,p);aP(Be,Ue);break e;case 1:k=Je;var Le=Be.type,$e=Be.stateNode;if(!(Be.flags&128)&&(typeof Le.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(Ya===null||!Ya.has($e)))){Be.flags|=65536,p&=-p,Be.lanes|=p;var Bt=zP(Be,k,p);aP(Be,Bt);break e}}Be=Be.return}while(Be!==null)}wI(b)}catch(Wt){p=Wt,Rr===b&&b!==null&&(Rr=b=b.return);continue}break}while(1)}function CI(){var h=ov.current;return ov.current=Wg,h===null?Wg:h}function Y1(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Tr===null||!(Yu&268435455)&&!(sv&268435455)||Za(Tr,ti)}function hv(h,p){var b=gn;gn|=2;var R=CI();Tr===h&&ti===p||gc(h,p);do try{s9();break}catch(O){_I(h,O)}while(1);if(o1(),gn=b,ov.current=R,Rr!==null)throw Error(s(261));return Tr=null,ti=0,Dr}function s9(){for(;Rr!==null;)bI(Rr)}function a9(){for(;Rr!==null&&!Uu();)bI(Rr)}function bI(h){var p=AI(h.alternate,h,oo);h.memoizedProps=h.pendingProps,p===null?wI(h):Rr=p,H1.current=null}function wI(h){var p=h;do{var b=p.alternate;if(h=p.return,p.flags&32768){if(b=Z8(b,p),b!==null){b.flags&=32767,Rr=b;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Dr=6,Rr=null;return}}else if(b=Y8(b,p,oo),b!==null){Rr=b;return}if(p=p.sibling,p!==null){Rr=p;return}Rr=p=h}while(p!==null);Dr===0&&(Dr=5)}function vc(h,p){var b=mn,R=_r.transition;try{_r.transition=null,mn=1,l9(h,p,b)}finally{_r.transition=R,mn=b}return null}function l9(h,p,b){do yc();while(qa!==null);if(gn&6)throw Error(s(327));var R=h.finishedWork,O=h.finishedLanes;if(R===null)return null;if(h.finishedWork=null,h.finishedLanes=0,R===h.current)throw Error(s(177));h.callbackNode=null,h.callbackPriority=0;var k=R.lanes|R.childLanes;if(ei(h,k),h===Tr&&(Rr=Tr=null,ti=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||lv||(lv=!0,TI(Yn,function(){return yc(),null})),k=(R.flags&15990)!==0,R.subtreeFlags&15990||k){k=_r.transition,_r.transition=null;var ce=mn;mn=1;var Be=gn;gn|=4,H1.current=null,t9(h,R),n9(h,R),V(h.containerInfo),h.current=R,r9(R),uh(),gn=Be,mn=ce,_r.transition=k}else h.current=R;if(lv&&(lv=!1,qa=h,cv=O),k=h.pendingLanes,k===0&&(Ya=null),Ag(R.stateNode),Gi(h,xt()),p!==null)for(b=h.onRecoverableError,R=0;R<p.length;R++)b(p[R]);if(av)throw av=!1,h=W1,W1=null,h;return cv&1&&h.tag!==0&&yc(),k=h.pendingLanes,k&1?h===j1?Ah++:(Ah=0,j1=h):Ah=0,Us(),null}function yc(){if(qa!==null){var h=ls(cv),p=_r.transition,b=mn;try{if(_r.transition=null,mn=16>h?16:h,qa===null)var R=!1;else{if(h=qa,qa=null,cv=0,gn&6)throw Error(s(331));var O=gn;for(gn|=4,It=h.current;It!==null;){var k=It,ce=k.child;if(It.flags&16){var Be=k.deletions;if(Be!==null){for(var Je=0;Je<Be.length;Je++){var gt=Be[Je];for(It=gt;It!==null;){var kt=It;switch(kt.tag){case 0:case 11:case 15:mc(8,kt,k)}var on=kt.child;if(on!==null)on.return=kt,It=on;else for(;It!==null;){kt=It;var Qt=kt.sibling,$n=kt.return;if(lI(kt),kt===gt){It=null;break}if(Qt!==null){Qt.return=$n,It=Qt;break}It=$n}}}var jt=k.alternate;if(jt!==null){var mi=jt.child;if(mi!==null){jt.child=null;do{var Fo=mi.sibling;mi.sibling=null,mi=Fo}while(mi!==null)}}It=k}}if(k.subtreeFlags&2064&&ce!==null)ce.return=k,It=ce;else e:for(;It!==null;){if(k=It,k.flags&2048)switch(k.tag){case 0:case 11:case 15:mc(9,k,k.return)}var Ue=k.sibling;if(Ue!==null){Ue.return=k.return,It=Ue;break e}It=k.return}}var Le=h.current;for(It=Le;It!==null;){ce=It;var $e=ce.child;if(ce.subtreeFlags&2064&&$e!==null)$e.return=ce,It=$e;else e:for(ce=Le;It!==null;){if(Be=It,Be.flags&2048)try{switch(Be.tag){case 0:case 11:case 15:bh(9,Be)}}catch(Wt){$i(Be,Be.return,Wt)}if(Be===ce){It=null;break e}var Bt=Be.sibling;if(Bt!==null){Bt.return=Be.return,It=Bt;break e}It=Be.return}}if(gn=O,Us(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(ua,h)}catch{}R=!0}return R}finally{mn=b,_r.transition=p}}return!1}function EI(h,p,b){p=M1(b,p),p=kP(h,p,1),Ja(h,p),p=Ri(),h=fv(h,1),h!==null&&(Xa(h,1,p),Gi(h,p))}function $i(h,p,b){if(h.tag===3)EI(h,h,b);else for(;p!==null;){if(p.tag===3){EI(p,h,b);break}else if(p.tag===1){var R=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Ya===null||!Ya.has(R))){h=M1(b,h),h=zP(p,h,1),Ja(p,h),h=Ri(),p=fv(p,1),p!==null&&(Xa(p,1,h),Gi(p,h));break}}p=p.return}}function c9(h,p,b){var R=h.pingCache;R!==null&&R.delete(p),p=Ri(),h.pingedLanes|=h.suspendedLanes&b,Tr===h&&(ti&b)===b&&(Dr===4||Dr===3&&(ti&130023424)===ti&&500>xt()-G1?gc(h,0):V1|=b),Gi(h,p)}function MI(h,p){p===0&&(h.mode&1?(p=Qr,Qr<<=1,!(Qr&130023424)&&(Qr=4194304)):p=1);var b=Ri();h=fv(h,p),h!==null&&(Xa(h,p,b),Gi(h,b))}function u9(h){var p=h.memoizedState,b=0;p!==null&&(b=p.retryLane),MI(h,b)}function d9(h,p){var b=0;switch(h.tag){case 13:var R=h.stateNode,O=h.memoizedState;O!==null&&(b=O.retryLane);break;case 19:R=h.stateNode;break;default:throw Error(s(314))}R!==null&&R.delete(p),MI(h,b)}var AI;AI=function(h,p,b){if(h!==null)if(h.memoizedProps!==p.pendingProps||Vt.current)io=!0;else{if(!(h.lanes&b)&&!(p.flags&128))return io=!1,Q8(h,p,b);io=!!(h.flags&131072)}else io=!1,nr&&p.flags&1048576&&hP(p,Fg,p.index);switch(p.lanes=0,p.tag){case 2:var R=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var O=Dn(p,Kt.current);Hu(p,b),O=_1(null,p,R,h,O,b);var k=C1();return p.flags|=1,typeof O=="object"&&O!==null&&typeof O.render=="function"&&O.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Zt(R)?(k=!0,_t(p)):k=!1,p.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,l1(p),O.updater=Lg,p.stateNode=O,O._reactInternals=p,u1(p,R,h,b),p=R1(null,p,R,!0,k,b)):(p.tag=0,nr&&k&&d1(p),Ti(null,p,O,b),p=p.child),p;case 16:R=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,O=R._init,R=O(R._payload),p.type=R,O=p.tag=h9(R),h=cs(R,h),O){case 0:p=T1(null,p,R,h,b);break e;case 1:p=qP(null,p,R,h,b);break e;case 11:p=jP(null,p,R,h,b);break e;case 14:p=XP(null,p,R,cs(R.type,h),b);break e}throw Error(s(306,R,""))}return p;case 0:return R=p.type,O=p.pendingProps,O=p.elementType===R?O:cs(R,O),T1(h,p,R,O,b);case 1:return R=p.type,O=p.pendingProps,O=p.elementType===R?O:cs(R,O),qP(h,p,R,O,b);case 3:e:{if(QP(p),h===null)throw Error(s(387));R=p.pendingProps,k=p.memoizedState,O=k.element,sP(h,p),Og(p,R,null,b);var ce=p.memoizedState;if(R=ce.element,ie&&k.isDehydrated)if(k={element:R,isDehydrated:!1,cache:ce.cache,transitions:ce.transitions},p.updateQueue.baseState=k,p.memoizedState=k,p.flags&256){O=Error(s(423)),p=ZP(h,p,R,b,O);break e}else if(R!==O){O=Error(s(424)),p=ZP(h,p,R,b,O);break e}else for(ie&&(ro=pn(p.stateNode.containerInfo),no=p,nr=!0,us=null,dh=!1),b=xP(p,null,R,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if($u(),R===O){p=ga(h,p,b);break e}Ti(h,p,R,b)}p=p.child}return p;case 5:return SP(p),h===null&&p1(p),R=p.type,O=p.pendingProps,k=h!==null?h.memoizedProps:null,ce=O.children,te(R,O)?ce=null:k!==null&&te(R,k)&&(p.flags|=32),YP(h,p),Ti(h,p,ce,b),p.child;case 6:return h===null&&p1(p),null;case 13:return eI(h,p,b);case 4:return g1(p,p.stateNode.containerInfo),R=p.pendingProps,h===null?p.child=Wu(p,null,R,b):Ti(h,p,R,b),p.child;case 11:return R=p.type,O=p.pendingProps,O=p.elementType===R?O:cs(R,O),jP(h,p,R,O,b);case 7:return Ti(h,p,p.pendingProps,b),p.child;case 8:return Ti(h,p,p.pendingProps.children,b),p.child;case 12:return Ti(h,p,p.pendingProps.children,b),p.child;case 10:e:{if(R=p.type._context,O=p.pendingProps,k=p.memoizedProps,ce=O.value,oP(p,R,ce),k!==null)if(Ns(k.value,ce)){if(k.children===O.children&&!Vt.current){p=ga(h,p,b);break e}}else for(k=p.child,k!==null&&(k.return=p);k!==null;){var Be=k.dependencies;if(Be!==null){ce=k.child;for(var Je=Be.firstContext;Je!==null;){if(Je.context===R){if(k.tag===1){Je=fa(-1,b&-b),Je.tag=2;var gt=k.updateQueue;if(gt!==null){gt=gt.shared;var kt=gt.pending;kt===null?Je.next=Je:(Je.next=kt.next,kt.next=Je),gt.pending=Je}}k.lanes|=b,Je=k.alternate,Je!==null&&(Je.lanes|=b),a1(k.return,b,p),Be.lanes|=b;break}Je=Je.next}}else if(k.tag===10)ce=k.type===p.type?null:k.child;else if(k.tag===18){if(ce=k.return,ce===null)throw Error(s(341));ce.lanes|=b,Be=ce.alternate,Be!==null&&(Be.lanes|=b),a1(ce,b,p),ce=k.sibling}else ce=k.child;if(ce!==null)ce.return=k;else for(ce=k;ce!==null;){if(ce===p){ce=null;break}if(k=ce.sibling,k!==null){k.return=ce.return,ce=k;break}ce=ce.return}k=ce}Ti(h,p,O.children,b),p=p.child}return p;case 9:return O=p.type,R=p.pendingProps.children,Hu(p,b),O=Ro(O),R=R(O),p.flags|=1,Ti(h,p,R,b),p.child;case 14:return R=p.type,O=cs(R,p.pendingProps),O=cs(R.type,O),XP(h,p,R,O,b);case 15:return KP(h,p,p.type,p.pendingProps,b);case 17:return R=p.type,O=p.pendingProps,O=p.elementType===R?O:cs(R,O),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Zt(R)?(h=!0,_t(p)):h=!1,Hu(p,b),dP(p,R,O),u1(p,R,O,b),R1(null,p,R,!0,h,b);case 19:return iI(h,p,b);case 22:return JP(h,p,b)}throw Error(s(156,p.tag))};function TI(h,p){return Fs(h,p)}function f9(h,p,b,R){this.tag=h,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(h,p,b,R){return new f9(h,p,b,R)}function q1(h){return h=h.prototype,!(!h||!h.isReactComponent)}function h9(h){if(typeof h=="function")return q1(h)?1:0;if(h!=null){if(h=h.$$typeof,h===x)return 11;if(h===S)return 14}return 2}function el(h,p){var b=h.alternate;return b===null?(b=Do(h.tag,p,h.key,h.mode),b.elementType=h.elementType,b.type=h.type,b.stateNode=h.stateNode,b.alternate=h,h.alternate=b):(b.pendingProps=p,b.type=h.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=h.flags&14680064,b.childLanes=h.childLanes,b.lanes=h.lanes,b.child=h.child,b.memoizedProps=h.memoizedProps,b.memoizedState=h.memoizedState,b.updateQueue=h.updateQueue,p=h.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=h.sibling,b.index=h.index,b.ref=h.ref,b}function pv(h,p,b,R,O,k){var ce=2;if(R=h,typeof h=="function")q1(h)&&(ce=1);else if(typeof h=="string")ce=5;else e:switch(h){case u:return xc(b.children,O,k,p);case d:ce=8,O|=8;break;case f:return h=Do(12,b,p,O|2),h.elementType=f,h.lanes=k,h;case y:return h=Do(13,b,p,O),h.elementType=y,h.lanes=k,h;case g:return h=Do(19,b,p,O),h.elementType=g,h.lanes=k,h;case w:return mv(b,O,k,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case m:ce=10;break e;case v:ce=9;break e;case x:ce=11;break e;case S:ce=14;break e;case _:ce=16,R=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return p=Do(ce,b,p,O),p.elementType=h,p.type=R,p.lanes=k,p}function xc(h,p,b,R){return h=Do(7,h,R,p),h.lanes=b,h}function mv(h,p,b,R){return h=Do(22,h,R,p),h.elementType=w,h.lanes=b,h.stateNode={},h}function Q1(h,p,b){return h=Do(6,h,null,p),h.lanes=b,h}function Z1(h,p,b){return p=Do(4,h.children!==null?h.children:[],h.key,p),p.lanes=b,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function p9(h,p,b,R,O){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Re,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nu(0),this.expirationTimes=Nu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nu(0),this.identifierPrefix=R,this.onRecoverableError=O,ie&&(this.mutableSourceEagerHydrationData=null)}function RI(h,p,b,R,O,k,ce,Be,Je){return h=new p9(h,p,b,Be,Je),p===1?(p=1,k===!0&&(p|=8)):p=0,k=Do(3,null,null,p),h.current=k,k.stateNode=h,k.memoizedState={element:R,isDehydrated:b,cache:null,transitions:null},l1(k),h}function PI(h){if(!h)return At;h=h._reactInternals;e:{if(T(h)!==h||h.tag!==1)throw Error(s(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Zt(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(s(171))}if(h.tag===1){var b=h.type;if(Zt(b))return Ot(h,b,p)}return p}function II(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return h=F(p),h===null?null:h.stateNode}function BI(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var b=h.retryLane;h.retryLane=b!==0&&b<p?b:p}}function e_(h,p){BI(h,p),(h=h.alternate)&&BI(h,p)}function m9(h){return h=F(h),h===null?null:h.stateNode}function g9(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var p=Ri();Lo(h,134217728,p),e_(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Ri(),b=Qa(h);Lo(h,b,p),e_(h,b)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var b=ui(p.pendingLanes);b!==0&&(Ds(p,b|1),Gi(p,xt()),!(gn&6)&&(qu(),Us()))}break;case 13:var R=Ri();SI(function(){return Lo(h,1,R)}),e_(h,1)}},n.batchedUpdates=function(h,p){var b=gn;gn|=1;try{return h(p)}finally{gn=b,gn===0&&(qu(),Tg&&Us())}},n.createComponentSelector=function(h){return{$$typeof:ev,value:h}},n.createContainer=function(h,p,b,R,O,k,ce){return RI(h,p,!1,null,b,R,O,k,ce)},n.createHasPseudoClassSelector=function(h){return{$$typeof:tv,value:h}},n.createHydrationContainer=function(h,p,b,R,O,k,ce,Be,Je){return h=RI(b,R,!0,h,O,k,ce,Be,Je),h.context=PI(null),b=h.current,R=Ri(),O=Qa(b),k=fa(R,O),k.callback=p??null,Ja(b,k),h.current.lanes=O,Xa(h,O,R),Gi(h,R),h},n.createPortal=function(h,p,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:R==null?null:""+R,children:h,containerInfo:p,implementation:b}},n.createRoleSelector=function(h){return{$$typeof:nv,value:h}},n.createTestNameSelector=function(h){return{$$typeof:rv,value:h}},n.createTextSelector=function(h){return{$$typeof:iv,value:h}},n.deferredUpdates=function(h){var p=mn,b=_r.transition;try{return _r.transition=null,mn=16,h()}finally{mn=p,_r.transition=b}},n.discreteUpdates=function(h,p,b,R,O){var k=mn,ce=_r.transition;try{return _r.transition=null,mn=1,h(p,b,R,O)}finally{mn=k,_r.transition=ce,gn===0&&qu()}},n.findAllNodes=z1,n.findBoundingRects=function(h,p){if(!be)throw Error(s(363));p=z1(h,p),h=[];for(var b=0;b<p.length;b++)h.push(Oe(p[b]));for(p=h.length-1;0<p;p--){b=h[p];for(var R=b.x,O=R+b.width,k=b.y,ce=k+b.height,Be=p-1;0<=Be;Be--)if(p!==Be){var Je=h[Be],gt=Je.x,kt=gt+Je.width,on=Je.y,Qt=on+Je.height;if(R>=gt&&k>=on&&O<=kt&&ce<=Qt){h.splice(p,1);break}else if(R!==gt||b.width!==Je.width||Qt<k||on>ce){if(!(k!==on||b.height!==Je.height||kt<R||gt>O)){gt>R&&(Je.width+=gt-R,Je.x=R),kt<O&&(Je.width=O-gt),h.splice(p,1);break}}else{on>k&&(Je.height+=on-k,Je.y=k),Qt<ce&&(Je.height=ce-on),h.splice(p,1);break}}}return h},n.findHostInstance=II,n.findHostInstanceWithNoPortals=function(h){return h=B(h),h=h!==null?z(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return II(h)},n.flushControlled=function(h){var p=gn;gn|=1;var b=_r.transition,R=mn;try{_r.transition=null,mn=1,h()}finally{mn=R,_r.transition=b,gn=p,gn===0&&(qu(),Us())}},n.flushPassiveEffects=yc,n.flushSync=SI,n.focusWithin=function(h,p){if(!be)throw Error(s(363));for(h=N1(h),p=vI(h,p),p=Array.from(p),h=0;h<p.length;){var b=p[h++];if(!ge(b)){if(b.tag===5&&Xe(b.stateNode))return!0;for(b=b.child;b!==null;)p.push(b),b=b.sibling}}return!1},n.getCurrentUpdatePriority=function(){return mn},n.getFindAllNodesFailureDescription=function(h,p){if(!be)throw Error(s(363));var b=0,R=[];h=[N1(h),0];for(var O=0;O<h.length;){var k=h[O++],ce=h[O++],Be=p[ce];if((k.tag!==5||!ge(k))&&(U1(k,Be)&&(R.push(k1(Be)),ce++,ce>b&&(b=ce)),ce<p.length))for(k=k.child;k!==null;)h.push(k,ce),k=k.sibling}if(b<p.length){for(h=[];b<p.length;b++)h.push(k1(p[b]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return j(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:m9,findFiberByHostInstance:h.findFiberByHostInstance||g9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{ua=p.inject(h),Hi=p}catch{}h=!!p.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,p,b,R){if(!be)throw Error(s(363));h=z1(h,p);var O=Ne(h,b,R).disconnect;return{disconnect:function(){O()}}},n.registerMutableSourceForHydration=function(h,p){var b=p._getVersion;b=b(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,b]:h.mutableSourceEagerHydrationData.push(p,b)},n.runWithPriority=function(h,p){var b=mn;try{return mn=h,p()}finally{mn=b}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,p,b,R){var O=p.current,k=Ri(),ce=Qa(O);return b=PI(b),p.context===null?p.context=b:p.pendingContext=b,p=fa(k,ce),p.payload={element:h},R=R===void 0?null:R,R!==null&&(p.callback=R),Ja(O,p),h=Lo(O,ce,k),h!==null&&Bg(h,O,ce),ce},n};KV.exports=Rve;var Pve=KV.exports;const Ive=Wm(Pve),Bve=t=>typeof t=="object"&&typeof t.then=="function",iu=[];function qV(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function QV(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of iu)if(qV(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=iu.indexOf(i);o!==-1&&iu.splice(o,1)},promise:(Bve(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(iu.push(i),!n)throw i.promise}const Ove=(t,e,n)=>QV(t,e,!1,n),Lve=(t,e,n)=>void QV(t,e,!0,n),Dve=t=>{if(t===void 0||t.length===0)iu.splice(0,iu.length);else{const e=iu.find(n=>qV(t,n.keys,n.equal));e&&e.remove()}},GR={},ZV=t=>void Object.assign(GR,t);function Fve(t,e){function n(u,{args:d=[],attach:f,...m},v){let x=`${u[0].toUpperCase()}${u.slice(1)}`,y;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;y=Pd(g,{type:u,root:v,attach:f,primitive:!0})}else{const g=GR[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");y=Pd(new g(...d),{type:u,root:v,attach:f,memoizedProps:{args:d}})}return y.__r3f.attach===void 0&&(y instanceof an?y.__r3f.attach="geometry":y instanceof Or&&(y.__r3f.attach="material")),x!=="inject"&&sb(y,m),y}function r(u,d){let f=!1;if(d){var m,v;(m=d.__r3f)!=null&&m.attach?ob(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(v=u.__r3f)==null||v.objects.push(d),d.__r3f||Pd(d,{}),d.__r3f.parent=u,TM(d),Id(d)}}function i(u,d,f){let m=!1;if(d){var v,x;if((v=d.__r3f)!=null&&v.attach)ob(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const y=u.children.filter(S=>S!==d),g=y.indexOf(f);u.children=[...y.slice(0,g),d,...y.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(d),d.__r3f||Pd(d,{}),d.__r3f.parent=u,TM(d),Id(d)}}function o(u,d,f=!1){u&&[...u].forEach(m=>s(d,m,f))}function s(u,d,f){if(d){var m,v,x;if(d.__r3f&&(d.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(w=>w!==d)),(v=d.__r3f)!=null&&v.attach)s3(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var y;u.remove(d),(y=d.__r3f)!=null&&y.root&&$ve(Ty(d),d)}const S=(x=d.__r3f)==null?void 0:x.primitive,_=!S&&(f===void 0?d.dispose!==null:f);if(!S){var g;o((g=d.__r3f)==null?void 0:g.objects,d,_),o(d.children,d,_)}if(delete d.__r3f,_&&d.dispose&&d.type!=="Scene"){const w=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?MM.unstable_scheduleCallback(MM.unstable_IdlePriority,w):w()}Id(u)}}function a(u,d,f,m){var v;const x=(v=u.__r3f)==null?void 0:v.parent;if(!x)return;const y=n(d,f,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(y,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(y,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||s(x,u),y.parent&&(y.__r3f.autoRemovedBeforeAppend=!0),r(x,y),y.raycast&&y.__r3f.eventCount&&Ty(y).getState().internal.interaction.push(y),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=y,g.ref&&(typeof g.ref=="function"?g.ref(y):g.ref.current=y))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Ive({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&s(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const m=u.getState().scene;m.__r3f&&i(m,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,m){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:y=[],children:g,...S}=m,{args:_=[],children:w,...A}=f;if(!Array.isArray(y))throw new Error("R3F: the args prop must be an array!");if(y.some((P,I)=>P!==_[I]))return[!0];const M=s8(u,S,A,!0);return M.changes.length?[!1,M]:null}},commitUpdate(u,[d,f],m,v,x,y){d?a(u,m,x,y):sb(u,f)},commitMount(u,d,f,m){var v;const x=(v=u.__r3f)!=null?v:{};u.raycast&&x.handlers&&x.eventCount&&Ty(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Pd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:m}=(d=u.__r3f)!=null?d:{};f&&m&&s3(m,u,f),u.isObject3D&&(u.visible=!1),Id(u)},unhideInstance(u,d){var f;const{attach:m,parent:v}=(f=u.__r3f)!=null?f:{};m&&v&&ob(v,u,m),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Id(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():tf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Qn.fun(performance.now)?performance.now:Qn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:sb}}var n3,r3;const ib=t=>"colorSpace"in t||"outputColorSpace"in t,e8=()=>{var t;return(t=GR.ColorManagement)!=null?t:null},t8=t=>t&&t.isOrthographicCamera,Nve=t=>t&&t.hasOwnProperty("current"),bg=typeof window<"u"&&((n3=window.document)!=null&&n3.createElement||((r3=window.navigator)==null?void 0:r3.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function n8(t){const e=C.useRef(t);return bg(()=>void(e.current=t),[t]),e}function Uve({set:t}){return bg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class r8 extends C.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}r8.getDerivedStateFromError=()=>({error:!0});const i8="__default",i3=new Map,kve=t=>t&&!!t.memoized&&!!t.changes;function o8(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const tp=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Ty(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Qn={obj:t=>t===Object(t)&&!Qn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Qn.str(t)||Qn.num(t))return t===e;const o=Qn.obj(t);if(o&&r==="reference")return t===e;const s=Qn.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Qn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Qn.und(a)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function zve(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Hve(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Pd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function AM(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const o3=/-\d+$/;function ob(t,e,n){if(Qn.str(n)){if(o3.test(n)){const o=n.replace(o3,""),{target:s,key:a}=AM(t,o);Array.isArray(s[a])||(s[a]=[])}const{target:r,key:i}=AM(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function s3(t,e,n){var r,i;if(Qn.str(n)){const{target:o,key:s}=AM(t,n),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function s8(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:a,...l}={},c=!1){var u;const d=(u=t==null?void 0:t.__r3f)!=null?u:{},f=Object.entries(i),m=[];if(c){const x=Object.keys(l);for(let y=0;y<x.length;y++)i.hasOwnProperty(x[y])||f.unshift([x[y],i8+"remove"])}f.forEach(([x,y])=>{var g;if((g=t.__r3f)!=null&&g.primitive&&x==="object"||Qn.equ(y,l[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return m.push([x,y,!0,[]]);let S=[];x.includes("-")&&(S=x.split("-")),m.push([x,y,!1,S]);for(const _ in i){const w=i[_];_.startsWith(`${x}-`)&&m.push([_,w,!1,_.split("-")])}});const v={...i};return d.memoizedProps&&d.memoizedProps.args&&(v.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(v.attach=d.memoizedProps.attach),{memoized:v,changes:m}}const Vve=typeof process<"u"&&!1;function sb(t,e){var n,r,i;const o=(n=t.__r3f)!=null?n:{},s=o.root,a=(r=s==null||s.getState==null?void 0:s.getState())!=null?r:{},{memoized:l,changes:c}=kve(e)?e:s8(t,e),u=o.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[m,v,x,y]=c[f];if(ib(t)){const w="srgb",A="srgb-linear";m==="encoding"?(m="colorSpace",v=v===3001?w:A):m==="outputEncoding"&&(m="outputColorSpace",v=v===3001?w:A)}let g=t,S=g[m];if(y.length&&(S=y.reduce((_,w)=>_[w],t),!(S&&S.set))){const[_,...w]=y.reverse();g=w.reverse().reduce((A,M)=>A[M],t),m=_}if(v===i8+"remove")if(g.constructor){let _=i3.get(g.constructor);_||(_=new g.constructor,i3.set(g.constructor,_)),v=_[m]}else v=0;if(x)v?o.handlers[m]=v:delete o.handlers[m],o.eventCount=Object.keys(o.handlers).length;else if(S&&S.set&&(S.copy||S instanceof hu)){if(Array.isArray(v))S.fromArray?S.fromArray(v):S.set(...v);else if(S.copy&&v&&v.constructor&&(Vve?S.constructor.name===v.constructor.name:S.constructor===v.constructor))S.copy(v);else if(v!==void 0){const _=S instanceof Rt;!_&&S.setScalar?S.setScalar(v):S instanceof hu&&v instanceof hu?S.mask=v.mask:S.set(v),!e8()&&!a.linear&&_&&S.convertSRGBToLinear()}}else if(g[m]=v,g[m]instanceof Bn&&g[m].format===kr&&g[m].type===xo){const _=g[m];ib(_)&&ib(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}Id(t)}if(o.parent&&t.raycast&&u!==o.eventCount){const f=Ty(t).getState().internal,m=f.interaction.indexOf(t);m>-1&&f.interaction.splice(m,1),o.eventCount&&f.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&TM(t),t}function Id(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function TM(t){t.onUpdate==null||t.onUpdate(t)}function a8(t,e){t.manual||(t8(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function z0(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Gve(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return tf.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return tf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return tf.ContinuousEventPriority;default:return tf.DefaultEventPriority}}function l8(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function $ve(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{l8(n.capturedMap,e,r,i)})}function Wve(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,f=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const S=tp(m[g]);S&&(S.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(g){const S=tp(g);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var _;S.events.compute==null||S.events.compute(l,S,(_=S.previousRoot)==null?void 0:_.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(v).sort((g,S)=>{const _=tp(g.object),w=tp(S.object);return!_||!w?g.distance-S.distance:w.events.priority-_.events.priority||g.distance-S.distance}).filter(g=>{const S=z0(g);return d.has(S)?!1:(d.add(S),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let S=g.object;for(;S;){var y;(y=S.__r3f)!=null&&y.eventCount&&f.push({...g,eventObject:S}),S=S.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())d.has(z0(g.intersection))||f.push(g.intersection);return f}function i(l,c,u,d){const f=t.getState();if(l.length){const m={stopped:!1};for(const v of l){const x=tp(v.object)||f,{raycaster:y,pointer:g,camera:S,internal:_}=x,w=new re(g.x,g.y,0).unproject(S),A=E=>{var B,F;return(B=(F=_.capturedMap.get(E))==null?void 0:F.has(v.eventObject))!=null?B:!1},M=E=>{const B={intersection:v,target:c.target};_.capturedMap.has(E)?_.capturedMap.get(E).set(v.eventObject,B):_.capturedMap.set(E,new Map([[v.eventObject,B]])),c.target.setPointerCapture(E)},P=E=>{const B=_.capturedMap.get(E);B&&l8(_.capturedMap,v.eventObject,B,E)};let I={};for(let E in c){let B=c[E];typeof B!="function"&&(I[E]=B)}let T={...v,...I,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:w,ray:y.ray,camera:S,stopPropagation(){const E="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!E||E.has(v.eventObject))&&(T.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(B=>B.eventObject===v.eventObject))){const B=l.slice(0,l.indexOf(v));o([...B,v])}},target:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:P},currentTarget:{hasPointerCapture:A,setPointerCapture:M,releasePointerCapture:P},nativeEvent:c};if(d(T),m.stopped===!0)break}}return l}function o(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,m=f==null?void 0:f.handlers;if(c.hovered.delete(z0(u)),f!=null&&f.eventCount){const v={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(v),m.onPointerLeave==null||m.onPointerLeave(v)}}}function s(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),o([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const m=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",y=r(u,m?n:void 0),g=v?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=y.map(_=>_.eventObject)),v&&!y.length&&g<=2&&(s(u,f.interaction),d&&d(u)),m&&o(y);function S(_){const w=_.eventObject,A=w.__r3f,M=A==null?void 0:A.handlers;if(A!=null&&A.eventCount)if(m){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const P=z0(_),I=f.hovered.get(P);I?I.stopped&&_.stopPropagation():(f.hovered.set(P,_),M.onPointerOver==null||M.onPointerOver(_),M.onPointerEnter==null||M.onPointerEnter(_))}M.onPointerMove==null||M.onPointerMove(_)}else{const P=M[l];P?(!v||f.initialHits.includes(w))&&(s(u,f.interaction.filter(I=>!f.initialHits.includes(I))),P(_)):v&&f.initialHits.includes(w)&&s(u,f.interaction.filter(I=>!f.initialHits.includes(I)))}}i(y,u,g,S)}}return{handlePointer:a}}const jve=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],c8=t=>!!(t!=null&&t.render),$R=C.createContext(null),Xve=(t,e)=>{const n=XV((a,l)=>{const c=new re,u=new re,d=new re;function f(g=l().camera,S=u,_=l().size){const{width:w,height:A,top:M,left:P}=_,I=w/A;S instanceof re?d.copy(S):d.set(...S);const T=g.getWorldPosition(c).distanceTo(d);if(t8(g))return{width:w/g.zoom,height:A/g.zoom,top:M,left:P,factor:1,distance:T,aspect:I};{const E=g.fov*Math.PI/180,B=2*Math.tan(E/2)*T,F=B*(w/A);return{width:F,height:B,top:M,left:P,factor:w/F,distance:T,aspect:I}}}let m;const v=g=>a(S=>({performance:{...S.performance,current:g}})),x=new Qe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,S)=>e(g,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new UR,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&v(g.performance.min),m=setTimeout(()=>v(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:g=>a(S=>({...S,events:{...S.events,...g}})),setSize:(g,S,_,w,A)=>{const M=l().camera,P={width:g,height:S,top:w||0,left:A||0,updateStyle:_};a(I=>({size:P,viewport:{...I.viewport,...f(M,u,P)}}))},setDpr:g=>a(S=>{const _=o8(g);return{viewport:{...S.viewport,dpr:_,initialDpr:S.viewport.initialDpr||_}}}),setFrameloop:(g="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,g!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:C.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,S,_)=>{const w=l().internal;return w.priority=w.priority+(S>0?1:0),w.subscribers.push({ref:g,priority:S,store:_}),w.subscribers=w.subscribers.sort((A,M)=>A.priority-M.priority),()=>{const A=l().internal;A!=null&&A.subscribers&&(A.priority=A.priority-(S>0?1:0),A.subscribers=A.subscribers.filter(M=>M.ref!==g))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==o){var f;i=l,o=c.dpr,a8(a,l),u.setPixelRatio(c.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==s&&(s=a,d(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let H0,Kve=new Set,Jve=new Set,Yve=new Set;function ab(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function np(t,e){switch(t){case"before":return ab(Kve,e);case"after":return ab(Jve,e);case"tail":return ab(Yve,e)}}let lb,cb;function ub(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),lb=e.internal.subscribers,H0=0;H0<lb.length;H0++)cb=lb[H0],cb.ref.current(cb.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function qve(t){let e=!1,n=!1,r,i,o;function s(c){i=requestAnimationFrame(s),e=!0,r=0,np("before",c),n=!0;for(const d of t.values()){var u;o=d.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((u=o.gl.xr)!=null&&u.isPresenting)&&(r+=ub(c,o))}if(n=!1,np("after",c),r===0)return np("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var d;if(!c)return t.forEach(f=>a(f.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function l(c,u=!0,d,f){if(u&&np("before",c),d)ub(c,d,f);else for(const m of t.values())ub(c,m.store.getState());u&&np("after",c)}return{loop:s,invalidate:a,advance:l}}function WR(){const t=C.useContext($R);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ho(t=n=>n,e){return WR()(t,e)}function jR(t,e=0){const n=WR(),r=n.getState().internal.subscribe,i=n8(t);return bg(()=>r(i,e,n),[e,r,n]),null}const a3=new WeakMap;function u8(t,e){return function(n,...r){let i=a3.get(n);return i||(i=new n,a3.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((s,a)=>i.load(o,l=>{l.scene&&Object.assign(l,zve(l.scene)),s(l)},e,l=>a(new Error(`Could not load ${o}: ${l==null?void 0:l.message}`))))))}}function ch(t,e,n,r){const i=Array.isArray(e)?e:[e],o=Ove(u8(n,r),[t,...i],{equal:Qn.equ});return Array.isArray(e)?o:o[0]}ch.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Lve(u8(n),[t,...r])};ch.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Dve([t,...n])};const Gf=new Map,{invalidate:l3,advance:c3}=qve(Gf),{reconciler:Hm,applyProps:xl}=Fve(Gf,Gve),Rd={objects:"shallow",strict:!1},Qve=(t,e)=>{const n=typeof t=="function"?t(e):t;return c8(n)?n:new vR({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Zve(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:s,updateStyle:a=n}=e;return{width:r,height:i,top:o,left:s,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:s}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:s,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function e0e(t){const e=Gf.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||Xve(l3,c3),s=n||Hm.createContainer(o,tf.ConcurrentRoot,null,!1,null,"",i,null);e||Gf.set(t,{fiber:s,store:o});let a,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:m,events:v,onCreated:x,shadows:y=!1,linear:g=!1,flat:S=!1,legacy:_=!1,orthographic:w=!1,frameloop:A="always",dpr:M=[1,2],performance:P,raycaster:I,camera:T,onPointerMissed:E}=u,B=o.getState(),F=B.gl;B.gl||B.set({gl:F=Qve(d,t)});let L=B.raycaster;L||B.set({raycaster:L=new VR});const{params:z,...G}=I||{};if(Qn.equ(G,L,Rd)||xl(L,{...G}),Qn.equ(z,L.params,Rd)||xl(L,{params:{...L.params,...z}}),!B.camera||B.camera===c&&!Qn.equ(c,T,Rd)){c=T;const V=T instanceof hg,ee=V?T:w?new Es(0,0,0,0,.1,1e3):new cr(75,0,.1,1e3);V||(ee.position.z=5,T&&xl(ee,T),!B.camera&&!(T!=null&&T.rotation)&&ee.lookAt(0,0,0)),B.set({camera:ee}),L.camera=ee}if(!B.scene){let V;m instanceof Uf?V=m:(V=new Uf,m&&xl(V,m)),B.set({scene:Pd(V)})}if(!B.xr){var j;const V=(me,K)=>{const te=o.getState();te.frameloop!=="never"&&c3(me,!0,te,K)},ee=()=>{const me=o.getState();me.gl.xr.enabled=me.gl.xr.isPresenting,me.gl.xr.setAnimationLoop(me.gl.xr.isPresenting?V:null),me.gl.xr.isPresenting||l3(me)},se={connect(){const me=o.getState().gl;me.xr.addEventListener("sessionstart",ee),me.xr.addEventListener("sessionend",ee)},disconnect(){const me=o.getState().gl;me.xr.removeEventListener("sessionstart",ee),me.xr.removeEventListener("sessionend",ee)}};typeof((j=F.xr)==null?void 0:j.addEventListener)=="function"&&se.connect(),B.set({xr:se})}if(F.shadowMap){const V=F.shadowMap.enabled,ee=F.shadowMap.type;if(F.shadowMap.enabled=!!y,Qn.boo(y))F.shadowMap.type=Dp;else if(Qn.str(y)){var X;const se={basic:U5,percentage:TS,soft:Dp,variance:xs};F.shadowMap.type=(X=se[y])!=null?X:Dp}else Qn.obj(y)&&Object.assign(F.shadowMap,y);(V!==F.shadowMap.enabled||ee!==F.shadowMap.type)&&(F.shadowMap.needsUpdate=!0)}const N=e8();N&&("enabled"in N?N.enabled=!_:"legacyMode"in N&&(N.legacyMode=_)),l||xl(F,{outputEncoding:g?3e3:3001,toneMapping:S?ea:JT}),B.legacy!==_&&B.set(()=>({legacy:_})),B.linear!==g&&B.set(()=>({linear:g})),B.flat!==S&&B.set(()=>({flat:S})),d&&!Qn.fun(d)&&!c8(d)&&!Qn.equ(d,F,Rd)&&xl(F,d),v&&!B.events.handlers&&B.set({events:v(o)});const W=Zve(t,f);return Qn.equ(W,B.size,Rd)||B.setSize(W.width,W.height,W.updateStyle,W.top,W.left),M&&B.viewport.dpr!==o8(M)&&B.setDpr(M),B.frameloop!==A&&B.setFrameloop(A),B.onPointerMissed||B.set({onPointerMissed:E}),P&&!Qn.equ(P,B.performance,Rd)&&B.set(V=>({performance:{...V.performance,...P}})),a=x,l=!0,this},render(u){return l||this.configure(),Hm.updateContainer(C.createElement(t0e,{store:o,children:u,onCreated:a,rootElement:t}),s,null,()=>{}),o},unmount(){d8(t)}}}function t0e({store:t,children:e,onCreated:n,rootElement:r}){return bg(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),C.createElement($R.Provider,{value:t},e)}function d8(t,e){const n=Gf.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Hm.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,a,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Hve(i),Gf.delete(t),e&&e(t)}catch{}},500)})}}function n0e(t,e,n){return C.createElement(r0e,{key:e.uuid,children:t,container:e,state:n})}function r0e({state:t={},children:e,container:n}){const{events:r,size:i,...o}=t,s=WR(),[a]=C.useState(()=>new VR),[l]=C.useState(()=>new Qe),c=C.useCallback((d,f)=>{const m={...d};Object.keys(d).forEach(x=>{(jve.includes(x)||d[x]!==f[x]&&f[x])&&delete m[x]});let v;if(f&&i){const x=f.camera;v=d.viewport.getCurrentViewport(x,new re,i),x!==d.camera&&a8(x,i)}return{...m,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:s,events:{...d.events,...f==null?void 0:f.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...v},...o}},[t]),[u]=C.useState(()=>{const d=s.getState();return XV((m,v)=>({...d,scene:n,raycaster:a,pointer:l,mouse:l,previousRoot:s,events:{...d.events,...r},size:{...d.size,...i},...o,set:m,get:v,setEvents:x=>m(y=>({...y,events:{...y.events,...x}}))}))});return C.useEffect(()=>{const d=s.subscribe(f=>u.setState(m=>c(f,m)));return()=>{d(),u.destroy()}},[]),C.useEffect(()=>{u.setState(d=>c(s.getState(),d))},[c]),C.createElement(C.Fragment,null,Hm.createPortal(C.createElement($R.Provider,{value:u},e),u,null))}Hm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:C.version});function RM(t,e,n){var r,i,o,s,a;e==null&&(e=100);function l(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(o,i),o=i=null))}var c=function(){o=this,i=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(o,i),o=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}RM.debounce=RM;var i0e=RM;const u3=Wm(i0e);function o0e(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=C.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=C.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=C.useRef(!1);C.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[f,m,v]=C.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:_,top:w,width:A,height:M,bottom:P,right:I,x:T,y:E}=l.current.element.getBoundingClientRect(),B={left:_,top:w,width:A,height:M,bottom:P,right:I,x:T,y:E};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),d.current&&!c0e(l.current.lastBounds,B)&&a(l.current.lastBounds=B)};return[S,u?u3(S,u):S,c?u3(S,c):S]},[a,i,c,u]);function x(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function y(){l.current.element&&(l.current.resizeObserver=new o(v),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})))}const g=S=>{!S||S===l.current.element||(x(),l.current.element=S,l.current.scrollContainers=f8(S),y())};return a0e(v,!!n),s0e(m),C.useEffect(()=>{x(),y()},[n,v,m]),C.useEffect(()=>x,[]),[g,s,f]}function s0e(t){C.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function a0e(t,e){C.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function f8(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...f8(t.parentElement)]}const l0e=["x","y","top","bottom","left","right","width","height"],c0e=(t,e)=>l0e.every(n=>t[n]===e[n]);var u0e=Object.defineProperty,d0e=Object.defineProperties,f0e=Object.getOwnPropertyDescriptors,d3=Object.getOwnPropertySymbols,h0e=Object.prototype.hasOwnProperty,p0e=Object.prototype.propertyIsEnumerable,f3=(t,e,n)=>e in t?u0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,h3=(t,e)=>{for(var n in e||(e={}))h0e.call(e,n)&&f3(t,n,e[n]);if(d3)for(var n of d3(e))p0e.call(e,n)&&f3(t,n,e[n]);return t},m0e=(t,e)=>d0e(t,f0e(e)),p3,m3;typeof window<"u"&&((p3=window.document)!=null&&p3.createElement||((m3=window.navigator)==null?void 0:m3.product)==="ReactNative")?C.useLayoutEffect:C.useEffect;function h8(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=h8(r,e,n);if(i)return i;r=e?null:r.sibling}}function p8(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const g3=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=g3;return}return g3.apply(this,arguments)};const XR=p8(C.createContext(null));class m8 extends C.Component{render(){return C.createElement(XR.Provider,{value:this._reactInternals},this.props.children)}}function g0e(){const t=C.useContext(XR);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=C.useId();return C.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=h8(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function v0e(){const t=g0e(),[e]=C.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==XR&&!e.has(i)&&e.set(i,C.useContext(p8(i)))}n=n.return}return e}function y0e(){const t=v0e();return C.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>C.createElement(e,null,C.createElement(n.Provider,m0e(h3({},r),{value:t.get(n)}))),e=>C.createElement(m8,h3({},e))),[t])}const db={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function x0e(t){const{handlePointer:e}=Wve(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(db).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,a])=>{const[l,c]=db[s];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[a]=db[o];r.connected.removeEventListener(a,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const S0e=C.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=x0e,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:S,scene:_,onPointerMissed:w,onCreated:A,...M},P){C.useMemo(()=>ZV(Mve),[]);const I=y0e(),[T,E]=o0e({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=C.useRef(null),F=C.useRef(null);C.useImperativeHandle(P,()=>B.current);const L=n8(w),[z,G]=C.useState(!1),[j,X]=C.useState(!1);if(z)throw z;if(j)throw j;const N=C.useRef(null);bg(()=>{const V=B.current;E.width>0&&E.height>0&&V&&(N.current||(N.current=e0e(V)),N.current.configure({gl:o,events:s,shadows:c,linear:u,flat:d,legacy:f,orthographic:m,frameloop:v,dpr:x,performance:y,raycaster:g,camera:S,scene:_,size:E,onPointerMissed:(...ee)=>L.current==null?void 0:L.current(...ee),onCreated:ee=>{ee.events.connect==null||ee.events.connect(a?Nve(a)?a.current:a:F.current),l&&ee.setEvents({compute:(se,me)=>{const K=se[l+"X"],te=se[l+"Y"];me.pointer.set(K/me.size.width*2-1,-(te/me.size.height)*2+1),me.raycaster.setFromCamera(me.pointer,me.camera)}}),A==null||A(ee)}}),N.current.render(C.createElement(I,null,C.createElement(r8,{set:X},C.createElement(C.Suspense,{fallback:C.createElement(Uve,{set:G})},e)))))}),C.useEffect(()=>{const V=B.current;if(V)return()=>d8(V)},[]);const W=a?"none":"auto";return C.createElement("div",Xt({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:W,...i}},M),C.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},C.createElement("canvas",{ref:B,style:{display:"block"}},n)))}),g8=C.forwardRef(function(e,n){return C.createElement(m8,null,C.createElement(S0e,Xt({},e,{ref:n})))});function v3(t,e){if(e===R6)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Sx||e===sR){let n=t.getIndex();if(n===null){const s=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)s.push(l);t.setIndex(s),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===Sx)for(let s=1;s<=r;s++)i.push(n.getX(0)),i.push(n.getX(s)),i.push(n.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(n.getX(s)),i.push(n.getX(s+1)),i.push(n.getX(s+2))):(i.push(n.getX(s+2)),i.push(n.getX(s+1)),i.push(n.getX(s)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const o=t.clone();return o.setIndex(i),o.clearGroups(),o}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const _0e=parseInt(rh.replace(/\D+/g,""));var Jo=Uint8Array,Pl=Uint16Array,PM=Uint32Array,v8=new Jo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),y8=new Jo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C0e=new Jo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x8=function(t,e){for(var n=new Pl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new PM(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},S8=x8(v8,2),_8=S8[0],b0e=S8[1];_8[28]=258,b0e[258]=28;var w0e=x8(y8,0),E0e=w0e[0],IM=new Pl(32768);for(var Zn=0;Zn<32768;++Zn){var fl=(Zn&43690)>>>1|(Zn&21845)<<1;fl=(fl&52428)>>>2|(fl&13107)<<2,fl=(fl&61680)>>>4|(fl&3855)<<4,IM[Zn]=((fl&65280)>>>8|(fl&255)<<8)>>>1}var kp=function(t,e,n){for(var r=t.length,i=0,o=new Pl(e);i<r;++i)++o[t[i]-1];var s=new Pl(e);for(i=0;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Pl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=s[t[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[IM[d]>>>l]=c}else for(a=new Pl(r),i=0;i<r;++i)t[i]&&(a[i]=IM[s[t[i]-1]++]>>>15-t[i]);return a},wg=new Jo(288);for(var Zn=0;Zn<144;++Zn)wg[Zn]=8;for(var Zn=144;Zn<256;++Zn)wg[Zn]=9;for(var Zn=256;Zn<280;++Zn)wg[Zn]=7;for(var Zn=280;Zn<288;++Zn)wg[Zn]=8;var C8=new Jo(32);for(var Zn=0;Zn<32;++Zn)C8[Zn]=5;var M0e=kp(wg,9,1),A0e=kp(C8,5,1),fb=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ms=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},hb=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},T0e=function(t){return(t/8|0)+(t&7&&1)},R0e=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Pl?Pl:t instanceof PM?PM:Jo)(n-e);return r.set(t.subarray(e,n)),r},P0e=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Jo(0);var i=!e||n,o=!n||n.i;n||(n={}),e||(e=new Jo(r*3));var s=function(ae){var de=e.length;if(ae>de){var _e=new Jo(Math.max(de*2,ae));_e.set(e),e=_e}},a=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,f=n.m,m=n.n,v=r*8;do{if(!u){n.f=a=ms(t,l,1);var x=ms(t,l+1,3);if(l+=3,x)if(x==1)u=M0e,d=A0e,f=9,m=5;else if(x==2){var _=ms(t,l,31)+257,w=ms(t,l+10,15)+4,A=_+ms(t,l+5,31)+1;l+=14;for(var M=new Jo(A),P=new Jo(19),I=0;I<w;++I)P[C0e[I]]=ms(t,l+I*3,7);l+=w*3;for(var T=fb(P),E=(1<<T)-1,B=kp(P,T,1),I=0;I<A;){var F=B[ms(t,l,E)];l+=F&15;var y=F>>>4;if(y<16)M[I++]=y;else{var L=0,z=0;for(y==16?(z=3+ms(t,l,3),l+=2,L=M[I-1]):y==17?(z=3+ms(t,l,7),l+=3):y==18&&(z=11+ms(t,l,127),l+=7);z--;)M[I++]=L}}var G=M.subarray(0,_),j=M.subarray(_);f=fb(G),m=fb(j),u=kp(G,f,1),d=kp(j,m,1)}else throw"invalid block type";else{var y=T0e(l)+4,g=t[y-4]|t[y-3]<<8,S=y+g;if(S>r){if(o)throw"unexpected EOF";break}i&&s(c+g),e.set(t.subarray(y,S),c),n.b=c+=g,n.p=l=S*8;continue}if(l>v){if(o)throw"unexpected EOF";break}}i&&s(c+131072);for(var X=(1<<f)-1,N=(1<<m)-1,W=l;;W=l){var L=u[hb(t,l)&X],V=L>>>4;if(l+=L&15,l>v){if(o)throw"unexpected EOF";break}if(!L)throw"invalid length/literal";if(V<256)e[c++]=V;else if(V==256){W=l,u=null;break}else{var ee=V-254;if(V>264){var I=V-257,se=v8[I];ee=ms(t,l,(1<<se)-1)+_8[I],l+=se}var me=d[hb(t,l)&N],K=me>>>4;if(!me)throw"invalid distance";l+=me&15;var j=E0e[K];if(K>3){var se=y8[K];j+=hb(t,l)&(1<<se)-1,l+=se}if(l>v){if(o)throw"unexpected EOF";break}i&&s(c+131072);for(var te=c+ee;c<te;c+=4)e[c]=e[c-j],e[c+1]=e[c+1-j],e[c+2]=e[c+2-j],e[c+3]=e[c+3-j];c=te}}n.l=u,n.p=W,n.b=c,u&&(a=1,n.m=f,n.d=d,n.n=m)}while(!a);return c==e.length?e:R0e(e,0,c)},I0e=new Jo(0),B0e=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function V0(t,e){return P0e((B0e(t),t.subarray(2,-4)),e)}var O0e=typeof TextDecoder<"u"&&new TextDecoder,L0e=0;try{O0e.decode(I0e,{stream:!0}),L0e=1}catch{}const D0e=t=>t&&t.isCubeTexture;class F0e extends ir{constructor(e,n){var r,i;const o=D0e(e),a=((i=o?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(a)),c=Math.pow(2,l),u=3*Math.max(c,16*7),d=4*c,f=[o?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(rh.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,x={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},y=new xg(1,16),g=new to({uniforms:x,fragmentShader:v,vertexShader:m,side:Ko});super(y,g)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var N0e=Object.defineProperty,U0e=(t,e,n)=>e in t?N0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tn=(t,e,n)=>(U0e(t,typeof e!="symbol"?e+"":e,n),n);const G0=new Bu,y3=new Ea,k0e=Math.cos(70*(Math.PI/180)),x3=(t,e)=>(t%e+e)%e;let z0e=class extends la{constructor(e,n){super(),tn(this,"object"),tn(this,"domElement"),tn(this,"enabled",!0),tn(this,"target",new re),tn(this,"minDistance",0),tn(this,"maxDistance",1/0),tn(this,"minZoom",0),tn(this,"maxZoom",1/0),tn(this,"minPolarAngle",0),tn(this,"maxPolarAngle",Math.PI),tn(this,"minAzimuthAngle",-1/0),tn(this,"maxAzimuthAngle",1/0),tn(this,"enableDamping",!1),tn(this,"dampingFactor",.05),tn(this,"enableZoom",!0),tn(this,"zoomSpeed",1),tn(this,"enableRotate",!0),tn(this,"rotateSpeed",1),tn(this,"enablePan",!0),tn(this,"panSpeed",1),tn(this,"screenSpacePanning",!0),tn(this,"keyPanSpeed",7),tn(this,"zoomToCursor",!1),tn(this,"autoRotate",!1),tn(this,"autoRotateSpeed",2),tn(this,"reverseOrbit",!1),tn(this,"reverseHorizontalOrbit",!1),tn(this,"reverseVerticalOrbit",!1),tn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),tn(this,"mouseButtons",{LEFT:Uc.ROTATE,MIDDLE:Uc.DOLLY,RIGHT:Uc.PAN}),tn(this,"touches",{ONE:kc.ROTATE,TWO:kc.DOLLY_PAN}),tn(this,"target0"),tn(this,"position0"),tn(this,"zoom0"),tn(this,"_domElementKeyEvents",null),tn(this,"getPolarAngle"),tn(this,"getAzimuthalAngle"),tn(this,"setPolarAngle"),tn(this,"setAzimuthalAngle"),tn(this,"getDistance"),tn(this,"listenToKeyEvents"),tn(this,"stopListenToKeyEvents"),tn(this,"saveState"),tn(this,"reset"),tn(this,"update"),tn(this,"connect"),tn(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=he=>{let Ee=x3(he,2*Math.PI),Z=u.phi;Z<0&&(Z+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ze=Math.abs(Ee-Z);2*Math.PI-ze<ze&&(Ee<Z?Ee+=2*Math.PI:Z+=2*Math.PI),d.phi=Ee-Z,r.update()},this.setAzimuthalAngle=he=>{let Ee=x3(he,2*Math.PI),Z=u.theta;Z<0&&(Z+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ze=Math.abs(Ee-Z);2*Math.PI-ze<ze&&(Ee<Z?Ee+=2*Math.PI:Z+=2*Math.PI),d.theta=Ee-Z,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",He),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",He),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const he=new re,Ee=new re(0,1,0),Z=new qr().setFromUnitVectors(e.up,Ee),ze=Z.clone().invert(),Pe=new re,ct=new qr,at=2*Math.PI;return function(){const Dt=r.object.position;Z.setFromUnitVectors(e.up,Ee),ze.copy(Z).invert(),he.copy(Dt).sub(r.target),he.applyQuaternion(Z),u.setFromVector3(he),r.autoRotate&&l===a.NONE&&z(F()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let Lt=r.minAzimuthAngle,Pt=r.maxAzimuthAngle;isFinite(Lt)&&isFinite(Pt)&&(Lt<-Math.PI?Lt+=at:Lt>Math.PI&&(Lt-=at),Pt<-Math.PI?Pt+=at:Pt>Math.PI&&(Pt-=at),Lt<=Pt?u.theta=Math.max(Lt,Math.min(Pt,u.theta)):u.theta=u.theta>(Lt+Pt)/2?Math.max(Lt,u.theta):Math.min(Pt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&T||r.object.isOrthographicCamera?u.radius=se(u.radius):u.radius=se(u.radius*f),he.setFromSpherical(u),he.applyQuaternion(ze),Dt.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),m.set(0,0,0));let st=!1;if(r.zoomToCursor&&T){let ut=null;if(r.object instanceof cr&&r.object.isPerspectiveCamera){const lt=he.length();ut=se(lt*f);const Gt=lt-ut;r.object.position.addScaledVector(P,Gt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const lt=new re(I.x,I.y,0);lt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),st=!0;const Gt=new re(I.x,I.y,0);Gt.unproject(r.object),r.object.position.sub(Gt).add(lt),r.object.updateMatrixWorld(),ut=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;ut!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(ut).add(r.object.position):(G0.origin.copy(r.object.position),G0.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(G0.direction))<k0e?e.lookAt(r.target):(y3.setFromNormalAndCoplanarPoint(r.object.up,r.target),G0.intersectPlane(y3,r.target))))}else r.object instanceof Es&&r.object.isOrthographicCamera&&(st=f!==1,st&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,T=!1,st||Pe.distanceToSquared(r.object.position)>c||8*(1-ct.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Pe.copy(r.object.position),ct.copy(r.object.quaternion),st=!1,!0):!1}})(),this.connect=he=>{he===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",We),r.domElement.addEventListener("pointerdown",we),r.domElement.addEventListener("pointercancel",ge),r.domElement.addEventListener("wheel",Ne)},this.dispose=()=>{var he,Ee,Z,ze,Pe,ct;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",We),(Ee=r.domElement)==null||Ee.removeEventListener("pointerdown",we),(Z=r.domElement)==null||Z.removeEventListener("pointercancel",ge),(ze=r.domElement)==null||ze.removeEventListener("wheel",Ne),(Pe=r.domElement)==null||Pe.ownerDocument.removeEventListener("pointermove",Oe),(ct=r.domElement)==null||ct.ownerDocument.removeEventListener("pointerup",De),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",He)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new EM,d=new EM;let f=1;const m=new re,v=new Qe,x=new Qe,y=new Qe,g=new Qe,S=new Qe,_=new Qe,w=new Qe,A=new Qe,M=new Qe,P=new re,I=new Qe;let T=!1;const E=[],B={};function F(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function z(he){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=he:d.theta-=he}function G(he){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=he:d.phi-=he}const j=(()=>{const he=new re;return function(Z,ze){he.setFromMatrixColumn(ze,0),he.multiplyScalar(-Z),m.add(he)}})(),X=(()=>{const he=new re;return function(Z,ze){r.screenSpacePanning===!0?he.setFromMatrixColumn(ze,1):(he.setFromMatrixColumn(ze,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(Z),m.add(he)}})(),N=(()=>{const he=new re;return function(Z,ze){const Pe=r.domElement;if(Pe&&r.object instanceof cr&&r.object.isPerspectiveCamera){const ct=r.object.position;he.copy(ct).sub(r.target);let at=he.length();at*=Math.tan(r.object.fov/2*Math.PI/180),j(2*Z*at/Pe.clientHeight,r.object.matrix),X(2*ze*at/Pe.clientHeight,r.object.matrix)}else Pe&&r.object instanceof Es&&r.object.isOrthographicCamera?(j(Z*(r.object.right-r.object.left)/r.object.zoom/Pe.clientWidth,r.object.matrix),X(ze*(r.object.top-r.object.bottom)/r.object.zoom/Pe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function W(he){r.object instanceof cr&&r.object.isPerspectiveCamera||r.object instanceof Es&&r.object.isOrthographicCamera?f/=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(he){r.object instanceof cr&&r.object.isPerspectiveCamera||r.object instanceof Es&&r.object.isOrthographicCamera?f*=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ee(he){if(!r.zoomToCursor||!r.domElement)return;T=!0;const Ee=r.domElement.getBoundingClientRect(),Z=he.clientX-Ee.left,ze=he.clientY-Ee.top,Pe=Ee.width,ct=Ee.height;I.x=Z/Pe*2-1,I.y=-(ze/ct)*2+1,P.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function se(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function me(he){v.set(he.clientX,he.clientY)}function K(he){ee(he),w.set(he.clientX,he.clientY)}function te(he){g.set(he.clientX,he.clientY)}function ae(he){x.set(he.clientX,he.clientY),y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(z(2*Math.PI*y.x/Ee.clientHeight),G(2*Math.PI*y.y/Ee.clientHeight)),v.copy(x),r.update()}function de(he){A.set(he.clientX,he.clientY),M.subVectors(A,w),M.y>0?W(L()):M.y<0&&V(L()),w.copy(A),r.update()}function _e(he){S.set(he.clientX,he.clientY),_.subVectors(S,g).multiplyScalar(r.panSpeed),N(_.x,_.y),g.copy(S),r.update()}function Re(he){ee(he),he.deltaY<0?V(L()):he.deltaY>0&&W(L()),r.update()}function Te(he){let Ee=!1;switch(he.code){case r.keys.UP:N(0,r.keyPanSpeed),Ee=!0;break;case r.keys.BOTTOM:N(0,-r.keyPanSpeed),Ee=!0;break;case r.keys.LEFT:N(r.keyPanSpeed,0),Ee=!0;break;case r.keys.RIGHT:N(-r.keyPanSpeed,0),Ee=!0;break}Ee&&(he.preventDefault(),r.update())}function Y(){if(E.length==1)v.set(E[0].pageX,E[0].pageY);else{const he=.5*(E[0].pageX+E[1].pageX),Ee=.5*(E[0].pageY+E[1].pageY);v.set(he,Ee)}}function Q(){if(E.length==1)g.set(E[0].pageX,E[0].pageY);else{const he=.5*(E[0].pageX+E[1].pageX),Ee=.5*(E[0].pageY+E[1].pageY);g.set(he,Ee)}}function ie(){const he=E[0].pageX-E[1].pageX,Ee=E[0].pageY-E[1].pageY,Z=Math.sqrt(he*he+Ee*Ee);w.set(0,Z)}function ye(){r.enableZoom&&ie(),r.enablePan&&Q()}function fe(){r.enableZoom&&ie(),r.enableRotate&&Y()}function pe(he){if(E.length==1)x.set(he.pageX,he.pageY);else{const Z=ft(he),ze=.5*(he.pageX+Z.x),Pe=.5*(he.pageY+Z.y);x.set(ze,Pe)}y.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(z(2*Math.PI*y.x/Ee.clientHeight),G(2*Math.PI*y.y/Ee.clientHeight)),v.copy(x)}function $(he){if(E.length==1)S.set(he.pageX,he.pageY);else{const Ee=ft(he),Z=.5*(he.pageX+Ee.x),ze=.5*(he.pageY+Ee.y);S.set(Z,ze)}_.subVectors(S,g).multiplyScalar(r.panSpeed),N(_.x,_.y),g.copy(S)}function U(he){const Ee=ft(he),Z=he.pageX-Ee.x,ze=he.pageY-Ee.y,Pe=Math.sqrt(Z*Z+ze*ze);A.set(0,Pe),M.set(0,Math.pow(A.y/w.y,r.zoomSpeed)),W(M.y),w.copy(A)}function le(he){r.enableZoom&&U(he),r.enablePan&&$(he)}function be(he){r.enableZoom&&U(he),r.enableRotate&&pe(he)}function we(he){var Ee,Z;r.enabled!==!1&&(E.length===0&&((Ee=r.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",Oe),(Z=r.domElement)==null||Z.ownerDocument.addEventListener("pointerup",De)),ot(he),he.pointerType==="touch"?Ye(he):Fe(he))}function Oe(he){r.enabled!==!1&&(he.pointerType==="touch"?Ke(he):Xe(he))}function De(he){var Ee,Z,ze;je(he),E.length===0&&((Ee=r.domElement)==null||Ee.releasePointerCapture(he.pointerId),(Z=r.domElement)==null||Z.ownerDocument.removeEventListener("pointermove",Oe),(ze=r.domElement)==null||ze.ownerDocument.removeEventListener("pointerup",De)),r.dispatchEvent(s),l=a.NONE}function ge(he){je(he)}function Fe(he){let Ee;switch(he.button){case 0:Ee=r.mouseButtons.LEFT;break;case 1:Ee=r.mouseButtons.MIDDLE;break;case 2:Ee=r.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case Uc.DOLLY:if(r.enableZoom===!1)return;K(he),l=a.DOLLY;break;case Uc.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;te(he),l=a.PAN}else{if(r.enableRotate===!1)return;me(he),l=a.ROTATE}break;case Uc.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;me(he),l=a.ROTATE}else{if(r.enablePan===!1)return;te(he),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function Xe(he){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;ae(he);break;case a.DOLLY:if(r.enableZoom===!1)return;de(he);break;case a.PAN:if(r.enablePan===!1)return;_e(he);break}}function Ne(he){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(he.preventDefault(),r.dispatchEvent(o),Re(he),r.dispatchEvent(s))}function He(he){r.enabled===!1||r.enablePan===!1||Te(he)}function Ye(he){switch(Ze(he),E.length){case 1:switch(r.touches.ONE){case kc.ROTATE:if(r.enableRotate===!1)return;Y(),l=a.TOUCH_ROTATE;break;case kc.PAN:if(r.enablePan===!1)return;Q(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case kc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ye(),l=a.TOUCH_DOLLY_PAN;break;case kc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;fe(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(o)}function Ke(he){switch(Ze(he),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;pe(he),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;$(he),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;le(he),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;be(he),r.update();break;default:l=a.NONE}}function We(he){r.enabled!==!1&&he.preventDefault()}function ot(he){E.push(he)}function je(he){delete B[he.pointerId];for(let Ee=0;Ee<E.length;Ee++)if(E[Ee].pointerId==he.pointerId){E.splice(Ee,1);return}}function Ze(he){let Ee=B[he.pointerId];Ee===void 0&&(Ee=new Qe,B[he.pointerId]=Ee),Ee.set(he.pageX,he.pageY)}function ft(he){const Ee=he.pointerId===E[0].pointerId?E[1]:E[0];return B[Ee.pointerId]}n!==void 0&&this.connect(n),this.update()}};class KR extends ci{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new W0e(n)}),this.register(function(n){return new Z0e(n)}),this.register(function(n){return new eye(n)}),this.register(function(n){return new tye(n)}),this.register(function(n){return new X0e(n)}),this.register(function(n){return new K0e(n)}),this.register(function(n){return new J0e(n)}),this.register(function(n){return new Y0e(n)}),this.register(function(n){return new $0e(n)}),this.register(function(n){return new q0e(n)}),this.register(function(n){return new j0e(n)}),this.register(function(n){return new Q0e(n)}),this.register(function(n){return new V0e(n)}),this.register(function(n){return new nye(n)}),this.register(function(n){return new rye(n)})}load(e,n,r,i){const o=this;let s;this.resourcePath!==""?s=this.resourcePath:this.path!==""?s=this.path:s=na.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),o.manager.itemError(e),o.manager.itemEnd(e)},l=new ai(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{o.parse(c,s,function(u){n(u),o.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let o;const s={},a={};if(typeof e=="string")o=JSON.parse(e);else if(e instanceof ArrayBuffer)if(na.decodeText(new Uint8Array(e.slice(0,4)))===b8){try{s[Cn.KHR_BINARY_GLTF]=new iye(e)}catch(u){i&&i(u);return}o=JSON.parse(s[Cn.KHR_BINARY_GLTF].content)}else o=JSON.parse(na.decodeText(new Uint8Array(e)));else o=e;if(o.asset===void 0||o.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new vye(o,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,s[u.name]=!0}if(o.extensionsUsed)for(let c=0;c<o.extensionsUsed.length;++c){const u=o.extensionsUsed[c],d=o.extensionsRequired||[];switch(u){case Cn.KHR_MATERIALS_UNLIT:s[u]=new G0e;break;case Cn.KHR_DRACO_MESH_COMPRESSION:s[u]=new oye(o,this.dracoLoader);break;case Cn.KHR_TEXTURE_TRANSFORM:s[u]=new sye;break;case Cn.KHR_MESH_QUANTIZATION:s[u]=new aye;break;default:d.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(s),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,o){r.parse(e,n,i,o)})}}function H0e(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Cn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class V0e{constructor(e){this.parser=e,this.name=Cn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const o=n[r];o.extensions&&o.extensions[this.name]&&o.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,o.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const o=n.json,l=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e];let c;const u=new Rt(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new FR(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new DR(u),c.distance=d;break;case"spot":c=new LR(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Sl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,o=r.json.nodes[e],a=(o.extensions&&o.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class G0e{constructor(){this.name=Cn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ji}extendParams(e,n,r){const i=[];e.color=new Rt(1,1,1),e.opacity=1;const o=n.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){const s=o.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}o.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",o.baseColorTexture,3001))}return Promise.all(i)}}class $0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name].emissiveStrength;return o!==void 0&&(n.emissiveIntensity=o),Promise.resolve()}}class W0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(n.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(o.push(r.assignTexture(n,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const a=s.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Qe(a,a)}return Promise.all(o)}}class j0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(n.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(n.iridescenceIOR=s.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&o.push(r.assignTexture(n,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(o)}}class X0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[];n.sheenColor=new Rt(0,0,0),n.sheenRoughness=0,n.sheen=1;const s=i.extensions[this.name];return s.sheenColorFactor!==void 0&&n.sheenColor.fromArray(s.sheenColorFactor),s.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&o.push(r.assignTexture(n,"sheenColorMap",s.sheenColorTexture,3001)),s.sheenRoughnessTexture!==void 0&&o.push(r.assignTexture(n,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(o)}}class K0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(n.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&o.push(r.assignTexture(n,"transmissionMap",s.transmissionTexture)),Promise.all(o)}}class J0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];n.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&o.push(r.assignTexture(n,"thicknessMap",s.thicknessTexture)),n.attenuationDistance=s.attenuationDistance||1/0;const a=s.attenuationColor||[1,1,1];return n.attenuationColor=new Rt(a[0],a[1],a[2]),Promise.all(o)}}class Y0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=i.extensions[this.name];return n.ior=o.ior!==void 0?o.ior:1.5,Promise.resolve()}}class q0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];n.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&o.push(r.assignTexture(n,"specularIntensityMap",s.specularTexture));const a=s.specularColorFactor||[1,1,1];return n.specularColor=new Rt(a[0],a[1],a[2]),s.specularColorTexture!==void 0&&o.push(r.assignTexture(n,"specularColorMap",s.specularColorTexture,3001)),Promise.all(o)}}class Q0e{constructor(e){this.parser=e,this.name=Cn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ca}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const o=[],s=i.extensions[this.name];return s.anisotropyStrength!==void 0&&(n.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(n.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&o.push(r.assignTexture(n,"anisotropyMap",s.anisotropyTexture)),Promise.all(o)}}class Z0e{constructor(e){this.parser=e,this.name=Cn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const o=i.extensions[this.name],s=n.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,o.source,s)}}class eye{constructor(e){this.parser=e,this.name=Cn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const s=o.extensions[n],a=i.images[s.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class tye{constructor(e){this.parser=e,this.name=Cn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,o=i.textures[e];if(!o.extensions||!o.extensions[n])return null;const s=o.extensions[n],a=i.images[s.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class nye{constructor(e){this.name=Cn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],o=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return o.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new Uint8Array(a,l,c);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(u,d,f,i.mode,i.filter).then(function(m){return m.buffer}):s.ready.then(function(){const m=new ArrayBuffer(u*d);return s.decodeGltfBuffer(new Uint8Array(m),u,d,f,i.mode,i.filter),m})})}else return null}}class rye{constructor(e){this.name=Cn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Go.TRIANGLES&&c.mode!==Go.TRIANGLE_STRIP&&c.mode!==Go.TRIANGLE_FAN&&c.mode!==void 0)return null;const s=r.extensions[this.name].attributes,a=[],l={};for(const c in s)a.push(this.parser.getDependency("accessor",s[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],f=c[0].count,m=[];for(const v of d){const x=new Jt,y=new re,g=new qr,S=new re(1,1,1),_=new SR(v.geometry,v.material,f);for(let w=0;w<f;w++)l.TRANSLATION&&y.fromBufferAttribute(l.TRANSLATION,w),l.ROTATION&&g.fromBufferAttribute(l.ROTATION,w),l.SCALE&&S.fromBufferAttribute(l.SCALE,w),_.setMatrixAt(w,x.compose(y,g,S));for(const w in l)w!=="TRANSLATION"&&w!=="ROTATION"&&w!=="SCALE"&&v.geometry.setAttribute(w,l[w]);wn.prototype.copy.call(_,v),this.parser.assignFinalMaterial(_),m.push(_)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const b8="glTF",rp=12,S3={JSON:1313821514,BIN:5130562};class iye{constructor(e){this.name=Cn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,rp);if(this.header={magic:na.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==b8)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-rp,i=new DataView(e,rp);let o=0;for(;o<r;){const s=i.getUint32(o,!0);o+=4;const a=i.getUint32(o,!0);if(o+=4,a===S3.JSON){const l=new Uint8Array(e,rp+o,s);this.content=na.decodeText(l)}else if(a===S3.BIN){const l=rp+o;this.body=e.slice(l,l+s)}o+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class oye{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Cn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,o=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,a={},l={},c={};for(const u in s){const d=BM[u]||u.toLowerCase();a[d]=s[u]}for(const u in e.attributes){const d=BM[u]||u.toLowerCase();if(s[u]!==void 0){const f=r.accessors[e.attributes[u]],m=pf[f.componentType];c[d]=m.name,l[d]=f.normalized===!0}}return n.getDependency("bufferView",o).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(f){for(const m in f.attributes){const v=f.attributes[m],x=l[m];x!==void 0&&(v.normalized=x)}d(f)},a,c)})})}}class sye{constructor(){this.name=Cn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class aye{constructor(){this.name=Cn.KHR_MESH_QUANTIZATION}}class w8 extends lh{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i*3+i;for(let s=0;s!==i;s++)n[s]=r[o+s];return n}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,d=(r-n)/u,f=d*d,m=f*d,v=e*c,x=v-c,y=-2*m+3*f,g=m-f,S=1-y,_=g-f+d;for(let w=0;w!==a;w++){const A=s[x+w+a],M=s[x+w+l]*u,P=s[v+w+a],I=s[v+w]*u;o[w]=S*A+_*M+y*P+g*I}return o}}const lye=new qr;class cye extends w8{interpolate_(e,n,r,i){const o=super.interpolate_(e,n,r,i);return lye.fromArray(o).normalize().toArray(o),o}}const Go={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},pf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},_3={9728:Ur,9729:In,9984:RS,9985:ff,9986:Qc,9987:Qo},C3={33071:Mr,33648:Of,10497:Wl},pb={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},BM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",..._0e>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},hl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},uye={CUBICSPLINE:void 0,LINEAR:bu,STEP:Df},mb={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function dye(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Cg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ia})),t.DefaultMaterial}function Oc(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Sl(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function fye(t,e,n){let r=!1,i=!1,o=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(o=!0),r&&i&&o)break}if(!r&&!i&&!o)return Promise.resolve(t);const s=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;s.push(f)}if(i){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;a.push(f)}if(o){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(s),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=d),o&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function hye(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function pye(t){let e;const n=t.extensions&&t.extensions[Cn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+gb(n.attributes):e=t.indices+":"+gb(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+gb(t.targets[r]);return e}function gb(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function OM(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function mye(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const gye=new Jt;class vye{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new H0e,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,o=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,o=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&o<98?this.textureLoader=new OV(this.options.manager):this.textureLoader=new HV(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ai(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,o=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const a={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:r,userData:{}};Oc(o,a,i),Sl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,o=n.length;i<o;i++){const s=n[i].joints;for(let a=0,l=s.length;a<l;a++)e[s[a]].isBone=!0}for(let i=0,o=e.length;i<o;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),o=(s,a)=>{const l=this.associations.get(s);l!=null&&this.associations.set(a,l);for(const[c,u]of s.children.entries())o(u,a.children[c])};return o(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const o=e(n[i]);o&&r.push(o)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(o){return o.loadNode&&o.loadNode(n)});break;case"mesh":i=this._invokeOne(function(o){return o.loadMesh&&o.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(o){return o.loadBufferView&&o.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(o){return o.loadMaterial&&o.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(o){return o.loadTexture&&o.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(o){return o.loadAnimation&&o.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(o){return o!=this&&o.getDependency&&o.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(o,s){return r.getDependency(e,s)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Cn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(o,s){r.load(na.resolveURL(n.uri,i.path),o,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,o=n.byteOffset||0;return r.slice(o,o+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const s=pb[i.type],a=pf[i.componentType],l=i.normalized===!0,c=new a(i.count*s);return Promise.resolve(new En(c,s,l))}const o=[];return i.bufferView!==void 0?o.push(this.getDependency("bufferView",i.bufferView)):o.push(null),i.sparse!==void 0&&(o.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(o).then(function(s){const a=s[0],l=pb[i.type],c=pf[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,v=i.normalized===!0;let x,y;if(m&&m!==d){const g=Math.floor(f/m),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let _=n.cache.get(S);_||(x=new c(a,g*m,i.count*m/u),_=new gg(x,m/u),n.cache.add(S,_)),y=new Xl(_,l,f%m/u,v)}else a===null?x=new c(i.count*l):x=new c(a,f,i.count*l),y=new En(x,l,v);if(i.sparse!==void 0){const g=pb.SCALAR,S=pf[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,w=i.sparse.values.byteOffset||0,A=new S(s[1],_,i.sparse.count*g),M=new c(s[2],w,i.sparse.count*l);a!==null&&(y=new En(y.array.slice(),y.itemSize,y.normalized));for(let P=0,I=A.length;P<I;P++){const T=A[P];if(y.setX(T,M[P*l]),l>=2&&y.setY(T,M[P*l+1]),l>=3&&y.setZ(T,M[P*l+2]),l>=4&&y.setW(T,M[P*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return y})}loadTexture(e){const n=this.json,r=this.options,o=n.textures[e].source,s=n.images[o];let a=this.textureLoader;if(s.uri){const l=r.manager.getHandler(s.uri);l!==null&&(a=l)}return this.loadTextureImage(e,o,a)}loadTextureImage(e,n,r){const i=this,o=this.json,s=o.textures[e],a=o.images[n],l=(a.uri||a.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=s.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const f=(o.samplers||{})[s.sampler]||{};return u.magFilter=_3[f.magFilter]||In,u.minFilter=_3[f.minFilter]||Qo,u.wrapS=C3[f.wrapS]||Wl,u.wrapT=C3[f.wrapT]||Wl,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,o=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const s=i.images[e],a=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=r.getDependency("bufferView",s.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:s.mimeType});return l=a.createObjectURL(f),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,m){let v=f;n.isImageBitmapLoader===!0&&(v=function(x){const y=new Bn(x);y.needsUpdate=!0,f(y)}),n.load(na.resolveURL(d,o.path),v,void 0,m)})}).then(function(d){return c===!0&&a.revokeObjectURL(l),d.userData.mimeType=s.mimeType||mye(s.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const o=this;return this.getDependency("texture",r.index).then(function(s){if(!s)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(s=s.clone(),s.channel=r.texCoord),o.extensions[Cn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Cn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=o.associations.get(s);s=o.extensions[Cn.KHR_TEXTURE_TRANSFORM].extendTexture(s,a),o.associations.set(s,l)}}return i!==void 0&&("colorSpace"in s?s.colorSpace=i===3001?"srgb":"srgb-linear":s.encoding=i),e[n]=s,s})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,o=n.attributes.color!==void 0,s=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new kS,Or.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ai,Or.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||o||s){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),o&&(a+="vertex-colors:"),s&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),o&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Cg}loadMaterial(e){const n=this,r=this.json,i=this.extensions,o=r.materials[e];let s;const a={},l=o.extensions||{},c=[];if(l[Cn.KHR_MATERIALS_UNLIT]){const d=i[Cn.KHR_MATERIALS_UNLIT];s=d.getMaterialType(),c.push(d.extendParams(a,o,n))}else{const d=o.pbrMetallicRoughness||{};if(a.color=new Rt(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",d.baseColorTexture,3001)),a.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,a.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),s=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}o.doubleSided===!0&&(a.side=Ko);const u=o.alphaMode||mb.OPAQUE;if(u===mb.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===mb.MASK&&(a.alphaTest=o.alphaCutoff!==void 0?o.alphaCutoff:.5)),o.normalTexture!==void 0&&s!==Ji&&(c.push(n.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new Qe(1,1),o.normalTexture.scale!==void 0)){const d=o.normalTexture.scale;a.normalScale.set(d,d)}return o.occlusionTexture!==void 0&&s!==Ji&&(c.push(n.assignTexture(a,"aoMap",o.occlusionTexture)),o.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=o.occlusionTexture.strength)),o.emissiveFactor!==void 0&&s!==Ji&&(a.emissive=new Rt().fromArray(o.emissiveFactor)),o.emissiveTexture!==void 0&&s!==Ji&&c.push(n.assignTexture(a,"emissiveMap",o.emissiveTexture,3001)),Promise.all(c).then(function(){const d=new s(a);return o.name&&(d.name=o.name),Sl(d,o),n.associations.set(d,{materials:e}),o.extensions&&Oc(i,d,o),d})}createUniqueName(e){const n=bn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function o(a){return r[Cn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return b3(l,a,n)})}const s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=pye(c),d=i[u];if(d)s.push(d.promise);else{let f;c.extensions&&c.extensions[Cn.KHR_DRACO_MESH_COMPRESSION]?f=o(c):f=b3(new an,c,n),i[u]={primitive:c,promise:f},s.push(f)}}return Promise.all(s)}loadMesh(e){const n=this,r=this.json,i=this.extensions,o=r.meshes[e],s=o.primitives,a=[];for(let l=0,c=s.length;l<c;l++){const u=s[l].material===void 0?dye(this.cache):this.getDependency("material",s[l].material);a.push(u)}return a.push(n.loadGeometries(s)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let m=0,v=u.length;m<v;m++){const x=u[m],y=s[m];let g;const S=c[m];if(y.mode===Go.TRIANGLES||y.mode===Go.TRIANGLE_STRIP||y.mode===Go.TRIANGLE_FAN||y.mode===void 0)g=o.isSkinnedMesh===!0?new xR(x,S):new ir(x,S),g.isSkinnedMesh===!0&&g.normalizeSkinWeights(),y.mode===Go.TRIANGLE_STRIP?g.geometry=v3(g.geometry,sR):y.mode===Go.TRIANGLE_FAN&&(g.geometry=v3(g.geometry,Sx));else if(y.mode===Go.LINES)g=new Bs(x,S);else if(y.mode===Go.LINE_STRIP)g=new $a(x,S);else if(y.mode===Go.LINE_LOOP)g=new _R(x,S);else if(y.mode===Go.POINTS)g=new CR(x,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);Object.keys(g.geometry.morphAttributes).length>0&&hye(g,o),g.name=n.createUniqueName(o.name||"mesh_"+e),Sl(g,o),y.extensions&&Oc(i,g,y),n.assignFinalMaterial(g),d.push(g)}for(let m=0,v=d.length;m<v;m++)n.associations.set(d[m],{meshes:e,primitives:m});if(d.length===1)return o.extensions&&Oc(i,d[0],o),d[0];const f=new Pa;o.extensions&&Oc(i,f,o),n.associations.set(f,{meshes:e});for(let m=0,v=d.length;m<v;m++)f.add(d[m]);return f})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new cr(z6.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Es(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Sl(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,o=n.joints.length;i<o;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const o=i.pop(),s=i,a=[],l=[];for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d){a.push(d);const f=new Jt;o!==null&&f.fromArray(o.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new vg(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,o=[],s=[],a=[],l=[],c=[];for(let u=0,d=r.channels.length;u<d;u++){const f=r.channels[u],m=r.samplers[f.sampler],v=f.target,x=v.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,g=r.parameters!==void 0?r.parameters[m.output]:m.output;v.node!==void 0&&(o.push(this.getDependency("node",x)),s.push(this.getDependency("accessor",y)),a.push(this.getDependency("accessor",g)),l.push(m),c.push(v))}return Promise.all([Promise.all(o),Promise.all(s),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const d=u[0],f=u[1],m=u[2],v=u[3],x=u[4],y=[];for(let g=0,S=d.length;g<S;g++){const _=d[g],w=f[g],A=m[g],M=v[g],P=x[g];if(_===void 0)continue;_.updateMatrix();let I;switch(hl[P.path]){case hl.weights:I=zf;break;case hl.rotation:I=Kl;break;case hl.position:case hl.scale:default:I=Hf;break}const T=_.name?_.name:_.uuid,E=M.interpolation!==void 0?uye[M.interpolation]:bu,B=[];hl[P.path]===hl.weights?_.traverse(function(L){L.morphTargetInfluences&&B.push(L.name?L.name:L.uuid)}):B.push(T);let F=A.array;if(A.normalized){const L=OM(F.constructor),z=new Float32Array(F.length);for(let G=0,j=F.length;G<j;G++)z[G]=F[G]*L;F=z}for(let L=0,z=B.length;L<z;L++){const G=new I(B[L]+"."+hl[P.path],w.array,F,E);M.interpolation==="CUBICSPLINE"&&(G.createInterpolant=function(X){const N=this instanceof Kl?cye:w8;return new N(this.times,this.values,this.getValueSize()/3,X)},G.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),y.push(G)}}return new Vf(i,void 0,y)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(o){const s=r._getNodeRef(r.meshCache,i.mesh,o);return i.weights!==void 0&&s.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],o=r._loadNodeShallow(e),s=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)s.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([o,Promise.all(s),l]).then(function(c){const u=c[0],d=c[1],f=c[2];f!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(f,gye)});for(let m=0,v=d.length;m<v;m++)u.add(d[m]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const o=n.nodes[e],s=o.name?i.createUniqueName(o.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),o.camera!==void 0&&a.push(i.getDependency("camera",o.camera).then(function(c){return i._getNodeRef(i.cameraCache,o.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(o.isBone===!0?u=new US:c.length>1?u=new Pa:c.length===1?u=c[0]:u=new wn,u!==c[0])for(let d=0,f=c.length;d<f;d++)u.add(c[d]);if(o.name&&(u.userData.name=o.name,u.name=s),Sl(u,o),o.extensions&&Oc(r,u,o),o.matrix!==void 0){const d=new Jt;d.fromArray(o.matrix),u.applyMatrix4(d)}else o.translation!==void 0&&u.position.fromArray(o.translation),o.rotation!==void 0&&u.quaternion.fromArray(o.rotation),o.scale!==void 0&&u.scale.fromArray(o.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,o=new Pa;r.name&&(o.name=i.createUniqueName(r.name)),Sl(o,r),r.extensions&&Oc(n,o,r);const s=r.nodes||[],a=[];for(let l=0,c=s.length;l<c;l++)a.push(i.getDependency("node",s[l]));return Promise.all(a).then(function(l){for(let u=0,d=l.length;u<d;u++)o.add(l[u]);const c=u=>{const d=new Map;for(const[f,m]of i.associations)(f instanceof Or||f instanceof Bn)&&d.set(f,m);return u.traverse(f=>{const m=i.associations.get(f);m!=null&&d.set(f,m)}),d};return i.associations=c(o),o})}}function yye(t,e,n){const r=e.attributes,i=new Ei;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new re(l[0],l[1],l[2]),new re(c[0],c[1],c[2])),a.normalized){const u=OM(pf[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const o=e.targets;if(o!==void 0){const a=new re,l=new re;for(let c=0,u=o.length;c<u;c++){const d=o[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],m=f.min,v=f.max;if(m!==void 0&&v!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),f.normalized){const x=OM(pf[f.componentType]);l.multiplyScalar(x)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const s=new si;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=s}function b3(t,e,n){const r=e.attributes,i=[];function o(s,a){return n.getDependency("accessor",s).then(function(l){t.setAttribute(a,l)})}for(const s in r){const a=BM[s]||s.toLowerCase();a in t.attributes||i.push(o(r[s],a))}if(e.indices!==void 0&&!t.index){const s=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(s)}return Sl(t,e),yye(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?fye(t,e.targets,n):t})}class xye extends BR{constructor(e){super(e),this.type=ii}parse(e){const a=function(_,w){switch(_){case 1:console.error("THREE.RGBELoader Read Error: "+(w||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(w||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(w||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(w||""))}return-1},d=`
`,f=function(_,w,A){w=w||1024;let P=_.pos,I=-1,T=0,E="",B=String.fromCharCode.apply(null,new Uint16Array(_.subarray(P,P+128)));for(;0>(I=B.indexOf(d))&&T<w&&P<_.byteLength;)E+=B,T+=B.length,P+=128,B+=String.fromCharCode.apply(null,new Uint16Array(_.subarray(P,P+128)));return-1<I?(A!==!1&&(_.pos+=T+I+1),E+B.slice(0,I)):!1},m=function(_){const w=/^#\?(\S+)/,A=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,M=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,P=/^\s*FORMAT=(\S+)\s*$/,I=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,T={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let E,B;if(_.pos>=_.byteLength||!(E=f(_)))return a(1,"no header found");if(!(B=E.match(w)))return a(3,"bad initial token");for(T.valid|=1,T.programtype=B[1],T.string+=E+`
`;E=f(_),E!==!1;){if(T.string+=E+`
`,E.charAt(0)==="#"){T.comments+=E+`
`;continue}if((B=E.match(A))&&(T.gamma=parseFloat(B[1])),(B=E.match(M))&&(T.exposure=parseFloat(B[1])),(B=E.match(P))&&(T.valid|=2,T.format=B[1]),(B=E.match(I))&&(T.valid|=4,T.height=parseInt(B[1],10),T.width=parseInt(B[2],10)),T.valid&2&&T.valid&4)break}return T.valid&2?T.valid&4?T:a(3,"missing image size specifier"):a(3,"missing format specifier")},v=function(_,w,A){const M=w;if(M<8||M>32767||_[0]!==2||_[1]!==2||_[2]&128)return new Uint8Array(_);if(M!==(_[2]<<8|_[3]))return a(3,"wrong scanline width");const P=new Uint8Array(4*w*A);if(!P.length)return a(4,"unable to allocate buffer space");let I=0,T=0;const E=4*M,B=new Uint8Array(4),F=new Uint8Array(E);let L=A;for(;L>0&&T<_.byteLength;){if(T+4>_.byteLength)return a(1);if(B[0]=_[T++],B[1]=_[T++],B[2]=_[T++],B[3]=_[T++],B[0]!=2||B[1]!=2||(B[2]<<8|B[3])!=M)return a(3,"bad rgbe scanline format");let z=0,G;for(;z<E&&T<_.byteLength;){G=_[T++];const X=G>128;if(X&&(G-=128),G===0||z+G>E)return a(3,"bad scanline data");if(X){const N=_[T++];for(let W=0;W<G;W++)F[z++]=N}else F.set(_.subarray(T,T+G),z),z+=G,T+=G}const j=M;for(let X=0;X<j;X++){let N=0;P[I]=F[X+N],N+=M,P[I+1]=F[X+N],N+=M,P[I+2]=F[X+N],N+=M,P[I+3]=F[X+N],I+=4}L--}return P},x=function(_,w,A,M){const P=_[w+3],I=Math.pow(2,P-128)/255;A[M+0]=_[w+0]*I,A[M+1]=_[w+1]*I,A[M+2]=_[w+2]*I,A[M+3]=1},y=function(_,w,A,M){const P=_[w+3],I=Math.pow(2,P-128)/255;A[M+0]=nu.toHalfFloat(Math.min(_[w+0]*I,65504)),A[M+1]=nu.toHalfFloat(Math.min(_[w+1]*I,65504)),A[M+2]=nu.toHalfFloat(Math.min(_[w+2]*I,65504)),A[M+3]=nu.toHalfFloat(1)},g=new Uint8Array(e);g.pos=0;const S=m(g);if(S!==-1){const _=S.width,w=S.height,A=v(g.subarray(g.pos),_,w);if(A!==-1){let M,P,I;switch(this.type){case Ar:I=A.length/4;const T=new Float32Array(I*4);for(let B=0;B<I;B++)x(A,B*4,T,B*4);M=T,P=Ar;break;case ii:I=A.length/4;const E=new Uint16Array(I*4);for(let B=0;B<I;B++)y(A,B*4,E,B*4);M=E,P=ii;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:_,height:w,data:M,header:S.string,gamma:S.gamma,exposure:S.exposure,type:P}}}return null}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(s,a){switch(s.type){case Ar:case ii:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=In,s.magFilter=In,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,a)}return super.load(e,o,r,i)}}const ip="colorSpace"in new Bn;class Sye extends BR{constructor(e){super(e),this.type=ii}parse(e){const T=Math.pow(2.7182818,2.2);function E(H,J){for(var D=0,q=0;q<65536;++q)(q==0||H[q>>3]&1<<(q&7))&&(J[D++]=q);for(var ne=D-1;D<65536;)J[D++]=0;return ne}function B(H){for(var J=0;J<16384;J++)H[J]={},H[J].len=0,H[J].lit=0,H[J].p=null}const F={l:0,c:0,lc:0};function L(H,J,D,q,ne){for(;D<H;)J=J<<8|ft(q,ne),D+=8;D-=H,F.l=J>>D&(1<<H)-1,F.c=J,F.lc=D}const z=new Array(59);function G(H){for(var J=0;J<=58;++J)z[J]=0;for(var J=0;J<65537;++J)z[H[J]]+=1;for(var D=0,J=58;J>0;--J){var q=D+z[J]>>1;z[J]=D,D=q}for(var J=0;J<65537;++J){var ne=H[J];ne>0&&(H[J]=ne|z[ne]++<<6)}}function j(H,J,D,q,ne,oe,ue){for(var Ie=D,ve=0,Me=0;ne<=oe;ne++){if(Ie.value-D.value>q)return!1;L(6,ve,Me,H,Ie);var Ae=F.l;if(ve=F.c,Me=F.lc,ue[ne]=Ae,Ae==63){if(Ie.value-D.value>q)throw"Something wrong with hufUnpackEncTable";L(8,ve,Me,H,Ie);var Se=F.l+6;if(ve=F.c,Me=F.lc,ne+Se>oe+1)throw"Something wrong with hufUnpackEncTable";for(;Se--;)ue[ne++]=0;ne--}else if(Ae>=59){var Se=Ae-59+2;if(ne+Se>oe+1)throw"Something wrong with hufUnpackEncTable";for(;Se--;)ue[ne++]=0;ne--}}G(ue)}function X(H){return H&63}function N(H){return H>>6}function W(H,J,D,q){for(;J<=D;J++){var ne=N(H[J]),oe=X(H[J]);if(ne>>oe)throw"Invalid table entry";if(oe>14){var ue=q[ne>>oe-14];if(ue.len)throw"Invalid table entry";if(ue.lit++,ue.p){var Ie=ue.p;ue.p=new Array(ue.lit);for(var ve=0;ve<ue.lit-1;++ve)ue.p[ve]=Ie[ve]}else ue.p=new Array(1);ue.p[ue.lit-1]=J}else if(oe)for(var Me=0,ve=1<<14-oe;ve>0;ve--){var ue=q[(ne<<14-oe)+Me];if(ue.len||ue.p)throw"Invalid table entry";ue.len=oe,ue.lit=J,Me++}}return!0}const V={c:0,lc:0};function ee(H,J,D,q){H=H<<8|ft(D,q),J+=8,V.c=H,V.lc=J}const se={c:0,lc:0};function me(H,J,D,q,ne,oe,ue,Ie,ve,Me){if(H==J){q<8&&(ee(D,q,ne,ue),D=V.c,q=V.lc),q-=8;var Ae=D>>q,Ae=new Uint8Array([Ae])[0];if(ve.value+Ae>Me)return!1;for(var Se=Ie[ve.value-1];Ae-- >0;)Ie[ve.value++]=Se}else if(ve.value<Me)Ie[ve.value++]=H;else return!1;se.c=D,se.lc=q}function K(H){return H&65535}function te(H){var J=K(H);return J>32767?J-65536:J}const ae={a:0,b:0};function de(H,J){var D=te(H),q=te(J),ne=q,oe=D+(ne&1)+(ne>>1),ue=oe,Ie=oe-ne;ae.a=ue,ae.b=Ie}function _e(H,J){var D=K(H),q=K(J),ne=D-(q>>1)&65535,oe=q+ne-32768&65535;ae.a=oe,ae.b=ne}function Re(H,J,D,q,ne,oe,ue){for(var Ie=ue<16384,ve=D>ne?ne:D,Me=1,Ae;Me<=ve;)Me<<=1;for(Me>>=1,Ae=Me,Me>>=1;Me>=1;){for(var Se=0,qe=Se+oe*(ne-Ae),Ge=oe*Me,et=oe*Ae,Et=q*Me,yt=q*Ae,Ut,St,it,zt;Se<=qe;Se+=et){for(var At=Se,Kt=Se+q*(D-Ae);At<=Kt;At+=yt){var Vt=At+Et,un=At+Ge,Dn=un+Et;Ie?(de(H[At+J],H[un+J]),Ut=ae.a,it=ae.b,de(H[Vt+J],H[Dn+J]),St=ae.a,zt=ae.b,de(Ut,St),H[At+J]=ae.a,H[Vt+J]=ae.b,de(it,zt),H[un+J]=ae.a,H[Dn+J]=ae.b):(_e(H[At+J],H[un+J]),Ut=ae.a,it=ae.b,_e(H[Vt+J],H[Dn+J]),St=ae.a,zt=ae.b,_e(Ut,St),H[At+J]=ae.a,H[Vt+J]=ae.b,_e(it,zt),H[un+J]=ae.a,H[Dn+J]=ae.b)}if(D&Me){var un=At+Ge;Ie?de(H[At+J],H[un+J]):_e(H[At+J],H[un+J]),Ut=ae.a,H[un+J]=ae.b,H[At+J]=Ut}}if(ne&Me)for(var At=Se,Kt=Se+q*(D-Ae);At<=Kt;At+=yt){var Vt=At+Et;Ie?de(H[At+J],H[Vt+J]):_e(H[At+J],H[Vt+J]),Ut=ae.a,H[Vt+J]=ae.b,H[At+J]=Ut}Ae=Me,Me>>=1}return Se}function Te(H,J,D,q,ne,oe,ue,Ie,ve,Me){for(var Ae=0,Se=0,qe=Ie,Ge=Math.trunc(ne.value+(oe+7)/8);ne.value<Ge;)for(ee(Ae,Se,D,ne),Ae=V.c,Se=V.lc;Se>=14;){var et=Ae>>Se-14&16383,Et=J[et];if(Et.len)Se-=Et.len,me(Et.lit,ue,Ae,Se,D,q,ne,ve,Me,qe),Ae=se.c,Se=se.lc;else{if(!Et.p)throw"hufDecode issues";var yt;for(yt=0;yt<Et.lit;yt++){for(var Ut=X(H[Et.p[yt]]);Se<Ut&&ne.value<Ge;)ee(Ae,Se,D,ne),Ae=V.c,Se=V.lc;if(Se>=Ut&&N(H[Et.p[yt]])==(Ae>>Se-Ut&(1<<Ut)-1)){Se-=Ut,me(Et.p[yt],ue,Ae,Se,D,q,ne,ve,Me,qe),Ae=se.c,Se=se.lc;break}}if(yt==Et.lit)throw"hufDecode issues"}}var St=8-oe&7;for(Ae>>=St,Se-=St;Se>0;){var Et=J[Ae<<14-Se&16383];if(Et.len)Se-=Et.len,me(Et.lit,ue,Ae,Se,D,q,ne,ve,Me,qe),Ae=se.c,Se=se.lc;else throw"hufDecode issues"}return!0}function Y(H,J,D,q,ne,oe){var ue={value:0},Ie=D.value,ve=Ze(J,D),Me=Ze(J,D);D.value+=4;var Ae=Ze(J,D);if(D.value+=4,ve<0||ve>=65537||Me<0||Me>=65537)throw"Something wrong with HUF_ENCSIZE";var Se=new Array(65537),qe=new Array(16384);B(qe);var Ge=q-(D.value-Ie);if(j(H,J,D,Ge,ve,Me,Se),Ae>8*(q-(D.value-Ie)))throw"Something wrong with hufUncompress";W(Se,ve,Me,qe),Te(Se,qe,H,J,D,Ae,Me,oe,ne,ue)}function Q(H,J,D){for(var q=0;q<D;++q)J[q]=H[J[q]]}function ie(H){for(var J=1;J<H.length;J++){var D=H[J-1]+H[J]-128;H[J]=D}}function ye(H,J){for(var D=0,q=Math.floor((H.length+1)/2),ne=0,oe=H.length-1;!(ne>oe||(J[ne++]=H[D++],ne>oe));)J[ne++]=H[q++]}function fe(H){for(var J=H.byteLength,D=new Array,q=0,ne=new DataView(H);J>0;){var oe=ne.getInt8(q++);if(oe<0){var ue=-oe;J-=ue+1;for(var Ie=0;Ie<ue;Ie++)D.push(ne.getUint8(q++))}else{var ue=oe;J-=2;for(var ve=ne.getUint8(q++),Ie=0;Ie<ue+1;Ie++)D.push(ve)}}return D}function pe(H,J,D,q,ne,oe){var Vt=new DataView(oe.buffer),ue=D[H.idx[0]].width,Ie=D[H.idx[0]].height,ve=3,Me=Math.floor(ue/8),Ae=Math.ceil(ue/8),Se=Math.ceil(Ie/8),qe=ue-(Ae-1)*8,Ge=Ie-(Se-1)*8,et={value:0},Et=new Array(ve),yt=new Array(ve),Ut=new Array(ve),St=new Array(ve),it=new Array(ve);for(let rn=0;rn<ve;++rn)it[rn]=J[H.idx[rn]],Et[rn]=rn<1?0:Et[rn-1]+Ae*Se,yt[rn]=new Float32Array(64),Ut[rn]=new Uint16Array(64),St[rn]=new Uint16Array(Ae*64);for(let rn=0;rn<Se;++rn){var zt=8;rn==Se-1&&(zt=Ge);var At=8;for(let _t=0;_t<Ae;++_t){_t==Ae-1&&(At=qe);for(let Yt=0;Yt<ve;++Yt)Ut[Yt].fill(0),Ut[Yt][0]=ne[Et[Yt]++],$(et,q,Ut[Yt]),U(Ut[Yt],yt[Yt]),le(yt[Yt]);be(yt);for(let Yt=0;Yt<ve;++Yt)we(yt[Yt],St[Yt],_t*64)}let Ot=0;for(let _t=0;_t<ve;++_t){const Yt=D[H.idx[_t]].type;for(let nn=8*rn;nn<8*rn+zt;++nn){Ot=it[_t][nn];for(let An=0;An<Me;++An){const xn=An*64+(nn&7)*8;Vt.setUint16(Ot+0*2*Yt,St[_t][xn+0],!0),Vt.setUint16(Ot+1*2*Yt,St[_t][xn+1],!0),Vt.setUint16(Ot+2*2*Yt,St[_t][xn+2],!0),Vt.setUint16(Ot+3*2*Yt,St[_t][xn+3],!0),Vt.setUint16(Ot+4*2*Yt,St[_t][xn+4],!0),Vt.setUint16(Ot+5*2*Yt,St[_t][xn+5],!0),Vt.setUint16(Ot+6*2*Yt,St[_t][xn+6],!0),Vt.setUint16(Ot+7*2*Yt,St[_t][xn+7],!0),Ot+=8*2*Yt}}if(Me!=Ae)for(let nn=8*rn;nn<8*rn+zt;++nn){const An=it[_t][nn]+8*Me*2*Yt,xn=Me*64+(nn&7)*8;for(let tr=0;tr<At;++tr)Vt.setUint16(An+tr*2*Yt,St[_t][xn+tr],!0)}}}for(var Kt=new Uint16Array(ue),Vt=new DataView(oe.buffer),un=0;un<ve;++un){D[H.idx[un]].decoded=!0;var Dn=D[H.idx[un]].type;if(D[un].type==2)for(var Zt=0;Zt<Ie;++Zt){const rn=it[un][Zt];for(var Mn=0;Mn<ue;++Mn)Kt[Mn]=Vt.getUint16(rn+Mn*2*Dn,!0);for(var Mn=0;Mn<ue;++Mn)Vt.setFloat32(rn+Mn*2*Dn,Pe(Kt[Mn]),!0)}}}function $(H,J,D){for(var q,ne=1;ne<64;)q=J[H.value],q==65280?ne=64:q>>8==255?ne+=q&255:(D[ne]=q,ne++),H.value++}function U(H,J){J[0]=Pe(H[0]),J[1]=Pe(H[1]),J[2]=Pe(H[5]),J[3]=Pe(H[6]),J[4]=Pe(H[14]),J[5]=Pe(H[15]),J[6]=Pe(H[27]),J[7]=Pe(H[28]),J[8]=Pe(H[2]),J[9]=Pe(H[4]),J[10]=Pe(H[7]),J[11]=Pe(H[13]),J[12]=Pe(H[16]),J[13]=Pe(H[26]),J[14]=Pe(H[29]),J[15]=Pe(H[42]),J[16]=Pe(H[3]),J[17]=Pe(H[8]),J[18]=Pe(H[12]),J[19]=Pe(H[17]),J[20]=Pe(H[25]),J[21]=Pe(H[30]),J[22]=Pe(H[41]),J[23]=Pe(H[43]),J[24]=Pe(H[9]),J[25]=Pe(H[11]),J[26]=Pe(H[18]),J[27]=Pe(H[24]),J[28]=Pe(H[31]),J[29]=Pe(H[40]),J[30]=Pe(H[44]),J[31]=Pe(H[53]),J[32]=Pe(H[10]),J[33]=Pe(H[19]),J[34]=Pe(H[23]),J[35]=Pe(H[32]),J[36]=Pe(H[39]),J[37]=Pe(H[45]),J[38]=Pe(H[52]),J[39]=Pe(H[54]),J[40]=Pe(H[20]),J[41]=Pe(H[22]),J[42]=Pe(H[33]),J[43]=Pe(H[38]),J[44]=Pe(H[46]),J[45]=Pe(H[51]),J[46]=Pe(H[55]),J[47]=Pe(H[60]),J[48]=Pe(H[21]),J[49]=Pe(H[34]),J[50]=Pe(H[37]),J[51]=Pe(H[47]),J[52]=Pe(H[50]),J[53]=Pe(H[56]),J[54]=Pe(H[59]),J[55]=Pe(H[61]),J[56]=Pe(H[35]),J[57]=Pe(H[36]),J[58]=Pe(H[48]),J[59]=Pe(H[49]),J[60]=Pe(H[57]),J[61]=Pe(H[58]),J[62]=Pe(H[62]),J[63]=Pe(H[63])}function le(H){const J=.5*Math.cos(.7853975),D=.5*Math.cos(3.14159/16),q=.5*Math.cos(3.14159/8),ne=.5*Math.cos(3*3.14159/16),oe=.5*Math.cos(5*3.14159/16),ue=.5*Math.cos(3*3.14159/8),Ie=.5*Math.cos(7*3.14159/16);for(var ve=new Array(4),Me=new Array(4),Ae=new Array(4),Se=new Array(4),qe=0;qe<8;++qe){var Ge=qe*8;ve[0]=q*H[Ge+2],ve[1]=ue*H[Ge+2],ve[2]=q*H[Ge+6],ve[3]=ue*H[Ge+6],Me[0]=D*H[Ge+1]+ne*H[Ge+3]+oe*H[Ge+5]+Ie*H[Ge+7],Me[1]=ne*H[Ge+1]-Ie*H[Ge+3]-D*H[Ge+5]-oe*H[Ge+7],Me[2]=oe*H[Ge+1]-D*H[Ge+3]+Ie*H[Ge+5]+ne*H[Ge+7],Me[3]=Ie*H[Ge+1]-oe*H[Ge+3]+ne*H[Ge+5]-D*H[Ge+7],Ae[0]=J*(H[Ge+0]+H[Ge+4]),Ae[3]=J*(H[Ge+0]-H[Ge+4]),Ae[1]=ve[0]+ve[3],Ae[2]=ve[1]-ve[2],Se[0]=Ae[0]+Ae[1],Se[1]=Ae[3]+Ae[2],Se[2]=Ae[3]-Ae[2],Se[3]=Ae[0]-Ae[1],H[Ge+0]=Se[0]+Me[0],H[Ge+1]=Se[1]+Me[1],H[Ge+2]=Se[2]+Me[2],H[Ge+3]=Se[3]+Me[3],H[Ge+4]=Se[3]-Me[3],H[Ge+5]=Se[2]-Me[2],H[Ge+6]=Se[1]-Me[1],H[Ge+7]=Se[0]-Me[0]}for(var et=0;et<8;++et)ve[0]=q*H[16+et],ve[1]=ue*H[16+et],ve[2]=q*H[48+et],ve[3]=ue*H[48+et],Me[0]=D*H[8+et]+ne*H[24+et]+oe*H[40+et]+Ie*H[56+et],Me[1]=ne*H[8+et]-Ie*H[24+et]-D*H[40+et]-oe*H[56+et],Me[2]=oe*H[8+et]-D*H[24+et]+Ie*H[40+et]+ne*H[56+et],Me[3]=Ie*H[8+et]-oe*H[24+et]+ne*H[40+et]-D*H[56+et],Ae[0]=J*(H[et]+H[32+et]),Ae[3]=J*(H[et]-H[32+et]),Ae[1]=ve[0]+ve[3],Ae[2]=ve[1]-ve[2],Se[0]=Ae[0]+Ae[1],Se[1]=Ae[3]+Ae[2],Se[2]=Ae[3]-Ae[2],Se[3]=Ae[0]-Ae[1],H[0+et]=Se[0]+Me[0],H[8+et]=Se[1]+Me[1],H[16+et]=Se[2]+Me[2],H[24+et]=Se[3]+Me[3],H[32+et]=Se[3]-Me[3],H[40+et]=Se[2]-Me[2],H[48+et]=Se[1]-Me[1],H[56+et]=Se[0]-Me[0]}function be(H){for(var J=0;J<64;++J){var D=H[0][J],q=H[1][J],ne=H[2][J];H[0][J]=D+1.5747*ne,H[1][J]=D-.1873*q-.4682*ne,H[2][J]=D+1.8556*q}}function we(H,J,D){for(var q=0;q<64;++q)J[D+q]=nu.toHalfFloat(Oe(H[q]))}function Oe(H){return H<=1?Math.sign(H)*Math.pow(Math.abs(H),2.2):Math.sign(H)*Math.pow(T,Math.abs(H)-1)}function De(H){return new DataView(H.array.buffer,H.offset.value,H.size)}function ge(H){var J=H.viewer.buffer.slice(H.offset.value,H.offset.value+H.size),D=new Uint8Array(fe(J)),q=new Uint8Array(D.length);return ie(D),ye(D,q),new DataView(q.buffer)}function Fe(H){var J=H.array.slice(H.offset.value,H.offset.value+H.size),D=V0(J),q=new Uint8Array(D.length);return ie(D),ye(D,q),new DataView(q.buffer)}function Xe(H){for(var J=H.viewer,D={value:H.offset.value},q=new Uint16Array(H.width*H.scanlineBlockSize*(H.channels*H.type)),ne=new Uint8Array(8192),oe=0,ue=new Array(H.channels),Ie=0;Ie<H.channels;Ie++)ue[Ie]={},ue[Ie].start=oe,ue[Ie].end=ue[Ie].start,ue[Ie].nx=H.width,ue[Ie].ny=H.lines,ue[Ie].size=H.type,oe+=ue[Ie].nx*ue[Ie].ny*ue[Ie].size;var ve=ct(J,D),Me=ct(J,D);if(Me>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ve<=Me)for(var Ie=0;Ie<Me-ve+1;Ie++)ne[Ie+ve]=he(J,D);var Ae=new Uint16Array(65536),Se=E(ne,Ae),qe=Ze(J,D);Y(H.array,J,D,qe,q,oe);for(var Ie=0;Ie<H.channels;++Ie)for(var Ge=ue[Ie],et=0;et<ue[Ie].size;++et)Re(q,Ge.start+et,Ge.nx,Ge.size,Ge.ny,Ge.nx*Ge.size,Se);Q(Ae,q,oe);for(var Et=0,yt=new Uint8Array(q.buffer.byteLength),Ut=0;Ut<H.lines;Ut++)for(var St=0;St<H.channels;St++){var Ge=ue[St],it=Ge.nx*Ge.size,zt=new Uint8Array(q.buffer,Ge.end*2,it*2);yt.set(zt,Et),Et+=it*2,Ge.end+=it}return new DataView(yt.buffer)}function Ne(H){var J=H.array.slice(H.offset.value,H.offset.value+H.size),D=V0(J);const q=H.lines*H.channels*H.width,ne=H.type==1?new Uint16Array(q):new Uint32Array(q);let oe=0,ue=0;const Ie=new Array(4);for(let ve=0;ve<H.lines;ve++)for(let Me=0;Me<H.channels;Me++){let Ae=0;switch(H.type){case 1:Ie[0]=oe,Ie[1]=Ie[0]+H.width,oe=Ie[1]+H.width;for(let Se=0;Se<H.width;++Se){const qe=D[Ie[0]++]<<8|D[Ie[1]++];Ae+=qe,ne[ue]=Ae,ue++}break;case 2:Ie[0]=oe,Ie[1]=Ie[0]+H.width,Ie[2]=Ie[1]+H.width,oe=Ie[2]+H.width;for(let Se=0;Se<H.width;++Se){const qe=D[Ie[0]++]<<24|D[Ie[1]++]<<16|D[Ie[2]++]<<8;Ae+=qe,ne[ue]=Ae,ue++}break}}return new DataView(ne.buffer)}function He(H){var J=H.viewer,D={value:H.offset.value},q=new Uint8Array(H.width*H.lines*(H.channels*H.type*2)),ne={version:Ee(J,D),unknownUncompressedSize:Ee(J,D),unknownCompressedSize:Ee(J,D),acCompressedSize:Ee(J,D),dcCompressedSize:Ee(J,D),rleCompressedSize:Ee(J,D),rleUncompressedSize:Ee(J,D),rleRawSize:Ee(J,D),totalAcUncompressedCount:Ee(J,D),totalDcUncompressedCount:Ee(J,D),acCompression:Ee(J,D)};if(ne.version<2)throw"EXRLoader.parse: "+vt.compression+" version "+ne.version+" is unsupported";for(var oe=new Array,ue=ct(J,D)-2;ue>0;){var Ie=Ye(J.buffer,D),ve=he(J,D),Me=ve>>2&3,Ae=(ve>>4)-1,Se=new Int8Array([Ae])[0],qe=he(J,D);oe.push({name:Ie,index:Se,type:qe,compression:Me}),ue-=Ie.length+3}for(var Ge=vt.channels,et=new Array(H.channels),Et=0;Et<H.channels;++Et){var yt=et[Et]={},Ut=Ge[Et];yt.name=Ut.name,yt.compression=0,yt.decoded=!1,yt.type=Ut.pixelType,yt.pLinear=Ut.pLinear,yt.width=H.width,yt.height=H.lines}for(var St={idx:new Array(3)},it=0;it<H.channels;++it)for(var yt=et[it],Et=0;Et<oe.length;++Et){var zt=oe[Et];yt.name==zt.name&&(yt.compression=zt.compression,zt.index>=0&&(St.idx[zt.index]=it),yt.offset=it)}if(ne.acCompressedSize>0)switch(ne.acCompression){case 0:var Vt=new Uint16Array(ne.totalAcUncompressedCount);Y(H.array,J,D,ne.acCompressedSize,Vt,ne.totalAcUncompressedCount);break;case 1:var At=H.array.slice(D.value,D.value+ne.totalAcUncompressedCount),Kt=V0(At),Vt=new Uint16Array(Kt.buffer);D.value+=ne.totalAcUncompressedCount;break}if(ne.dcCompressedSize>0){var un={array:H.array,offset:D,size:ne.dcCompressedSize},Dn=new Uint16Array(Fe(un).buffer);D.value+=ne.dcCompressedSize}if(ne.rleRawSize>0){var At=H.array.slice(D.value,D.value+ne.rleCompressedSize),Kt=V0(At),Zt=fe(Kt.buffer);D.value+=ne.rleCompressedSize}for(var Mn=0,rn=new Array(et.length),Et=0;Et<rn.length;++Et)rn[Et]=new Array;for(var Ot=0;Ot<H.lines;++Ot)for(var _t=0;_t<et.length;++_t)rn[_t].push(Mn),Mn+=et[_t].width*H.type*2;pe(St,rn,et,Vt,Dn,q);for(var Et=0;Et<et.length;++Et){var yt=et[Et];if(!yt.decoded)switch(yt.compression){case 2:for(var Yt=0,nn=0,Ot=0;Ot<H.lines;++Ot){for(var An=rn[Et][Yt],xn=0;xn<yt.width;++xn){for(var tr=0;tr<2*yt.type;++tr)q[An++]=Zt[nn+tr*yt.width*yt.height];nn++}Yt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(q.buffer)}function Ye(H,J){for(var D=new Uint8Array(H),q=0;D[J.value+q]!=0;)q+=1;var ne=new TextDecoder().decode(D.slice(J.value,J.value+q));return J.value=J.value+q+1,ne}function Ke(H,J,D){var q=new TextDecoder().decode(new Uint8Array(H).slice(J.value,J.value+D));return J.value=J.value+D,q}function We(H,J){var D=je(H,J),q=Ze(H,J);return[D,q]}function ot(H,J){var D=Ze(H,J),q=Ze(H,J);return[D,q]}function je(H,J){var D=H.getInt32(J.value,!0);return J.value=J.value+4,D}function Ze(H,J){var D=H.getUint32(J.value,!0);return J.value=J.value+4,D}function ft(H,J){var D=H[J.value];return J.value=J.value+1,D}function he(H,J){var D=H.getUint8(J.value);return J.value=J.value+1,D}const Ee=function(H,J){let D;return"getBigInt64"in DataView.prototype?D=Number(H.getBigInt64(J.value,!0)):D=H.getUint32(J.value+4,!0)+Number(H.getUint32(J.value,!0)<<32),J.value+=8,D};function Z(H,J){var D=H.getFloat32(J.value,!0);return J.value+=4,D}function ze(H,J){return nu.toHalfFloat(Z(H,J))}function Pe(H){var J=(H&31744)>>10,D=H&1023;return(H>>15?-1:1)*(J?J===31?D?NaN:1/0:Math.pow(2,J-15)*(1+D/1024):6103515625e-14*(D/1024))}function ct(H,J){var D=H.getUint16(J.value,!0);return J.value+=2,D}function at(H,J){return Pe(ct(H,J))}function Ft(H,J,D,q){for(var ne=D.value,oe=[];D.value<ne+q-1;){var ue=Ye(J,D),Ie=je(H,D),ve=he(H,D);D.value+=3;var Me=je(H,D),Ae=je(H,D);oe.push({name:ue,pixelType:Ie,pLinear:ve,xSampling:Me,ySampling:Ae})}return D.value+=1,oe}function Dt(H,J){var D=Z(H,J),q=Z(H,J),ne=Z(H,J),oe=Z(H,J),ue=Z(H,J),Ie=Z(H,J),ve=Z(H,J),Me=Z(H,J);return{redX:D,redY:q,greenX:ne,greenY:oe,blueX:ue,blueY:Ie,whiteX:ve,whiteY:Me}}function Lt(H,J){var D=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],q=he(H,J);return D[q]}function Pt(H,J){var D=Ze(H,J),q=Ze(H,J),ne=Ze(H,J),oe=Ze(H,J);return{xMin:D,yMin:q,xMax:ne,yMax:oe}}function st(H,J){var D=["INCREASING_Y"],q=he(H,J);return D[q]}function ut(H,J){var D=Z(H,J),q=Z(H,J);return[D,q]}function lt(H,J){var D=Z(H,J),q=Z(H,J),ne=Z(H,J);return[D,q,ne]}function Gt(H,J,D,q,ne){if(q==="string"||q==="stringvector"||q==="iccProfile")return Ke(J,D,ne);if(q==="chlist")return Ft(H,J,D,ne);if(q==="chromaticities")return Dt(H,D);if(q==="compression")return Lt(H,D);if(q==="box2i")return Pt(H,D);if(q==="lineOrder")return st(H,D);if(q==="float")return Z(H,D);if(q==="v2f")return ut(H,D);if(q==="v3f")return lt(H,D);if(q==="int")return je(H,D);if(q==="rational")return We(H,D);if(q==="timecode")return ot(H,D);if(q==="preview")return D.value+=ne,"skipped";D.value+=ne}function yn(H,J,D){const q={};if(H.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";q.version=H.getUint8(4);const ne=H.getUint8(5);q.spec={singleTile:!!(ne&2),longName:!!(ne&4),deepFormat:!!(ne&8),multiPart:!!(ne&16)},D.value=8;for(var oe=!0;oe;){var ue=Ye(J,D);if(ue==0)oe=!1;else{var Ie=Ye(J,D),ve=Ze(H,D),Me=Gt(H,J,D,Ie,ve);Me===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${Ie}'.`):q[ue]=Me}}if(ne&-5)throw console.error("EXRHeader:",q),"THREE.EXRLoader: provided file is currently unsupported.";return q}function bt(H,J,D,q,ne){const oe={size:0,viewer:J,array:D,offset:q,width:H.dataWindow.xMax-H.dataWindow.xMin+1,height:H.dataWindow.yMax-H.dataWindow.yMin+1,channels:H.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:H.channels[0].pixelType,uncompress:null,getter:null,format:null,[ip?"colorSpace":"encoding"]:null};switch(H.compression){case"NO_COMPRESSION":oe.lines=1,oe.uncompress=De;break;case"RLE_COMPRESSION":oe.lines=1,oe.uncompress=ge;break;case"ZIPS_COMPRESSION":oe.lines=1,oe.uncompress=Fe;break;case"ZIP_COMPRESSION":oe.lines=16,oe.uncompress=Fe;break;case"PIZ_COMPRESSION":oe.lines=32,oe.uncompress=Xe;break;case"PXR24_COMPRESSION":oe.lines=16,oe.uncompress=Ne;break;case"DWAA_COMPRESSION":oe.lines=32,oe.uncompress=He;break;case"DWAB_COMPRESSION":oe.lines=256,oe.uncompress=He;break;default:throw"EXRLoader.parse: "+H.compression+" is unsupported"}if(oe.scanlineBlockSize=oe.lines,oe.type==1)switch(ne){case Ar:oe.getter=at,oe.inputSize=2;break;case ii:oe.getter=ct,oe.inputSize=2;break}else if(oe.type==2)switch(ne){case Ar:oe.getter=Z,oe.inputSize=4;break;case ii:oe.getter=ze,oe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+oe.type+" for "+H.compression+".";oe.blockCount=(H.dataWindow.yMax+1)/oe.scanlineBlockSize;for(var ue=0;ue<oe.blockCount;ue++)Ee(J,q);oe.outputChannels=oe.channels==3?4:oe.channels;const Ie=oe.width*oe.height*oe.outputChannels;switch(ne){case Ar:oe.byteArray=new Float32Array(Ie),oe.channels<oe.outputChannels&&oe.byteArray.fill(1,0,Ie);break;case ii:oe.byteArray=new Uint16Array(Ie),oe.channels<oe.outputChannels&&oe.byteArray.fill(15360,0,Ie);break;default:console.error("THREE.EXRLoader: unsupported type: ",ne);break}return oe.bytesPerLine=oe.width*oe.inputSize*oe.channels,oe.outputChannels==4?oe.format=kr:oe.format=IS,ip?oe.colorSpace="srgb-linear":oe.encoding=3e3,oe}const ht=new DataView(e),Mt=new Uint8Array(e),wt={value:0},vt=yn(ht,e,wt),dt=bt(vt,ht,Mt,wt,this.type),pn={value:0},fn={R:0,G:1,B:2,A:3,Y:0};for(let H=0;H<dt.height/dt.scanlineBlockSize;H++){const J=Ze(ht,wt);dt.size=Ze(ht,wt),dt.lines=J+dt.scanlineBlockSize>dt.height?dt.height-J:dt.scanlineBlockSize;const q=dt.size<dt.lines*dt.bytesPerLine?dt.uncompress(dt):De(dt);wt.value+=dt.size;for(let ne=0;ne<dt.scanlineBlockSize;ne++){const oe=ne+H*dt.scanlineBlockSize;if(oe>=dt.height)break;for(let ue=0;ue<dt.channels;ue++){const Ie=fn[vt.channels[ue].name];for(let ve=0;ve<dt.width;ve++){pn.value=(ne*(dt.channels*dt.width)+ue*dt.width+ve)*dt.inputSize;const Me=(dt.height-1-oe)*(dt.width*dt.outputChannels)+ve*dt.outputChannels+Ie;dt.byteArray[Me]=dt.getter(q,pn)}}}}return{header:vt,width:dt.width,height:dt.height,data:dt.byteArray,format:dt.format,[ip?"colorSpace":"encoding"]:dt[ip?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function o(s,a){ip?s.colorSpace=a.colorSpace:s.encoding=a.encoding,s.minFilter=In,s.magFilter=In,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,a)}return super.load(e,o,r,i)}}const vb=new WeakMap;class _ye extends ci{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const o=new ai(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,s=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(vb.has(e)){const l=vb.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const o=this.workerNextTaskID++,s=e.byteLength,a=this._getWorker(o,s).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[o]={resolve:c,reject:u},i.postMessage({type:"decode",id:o,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&o&&this._releaseTask(i,o)}),vb.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new an;e.index&&n.setIndex(new En(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],o=i.name,s=i.array,a=i.itemSize;n.setAttribute(o,new En(s,a))}return n}_loadLibrary(e,n){const r=new ai(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,o)=>{r.load(e,i,void 0,o)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const o=Cye.toString(),s=["/* draco decoder */",i,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(o){const s=o.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,o){return i._taskLoad>o._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Cye(){let t,e;onmessage=function(s){const a=s.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,m=new d.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const v=n(d,f,m,c),x=v.attributes.map(y=>y.array.buffer);v.index&&x.push(v.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:v},x)}catch(v){console.error(v),self.postMessage({type:"error",id:a.id,error:v.message})}finally{d.destroy(m),d.destroy(f)}});break}};function n(s,a,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,m;const v=a.GetEncodedGeometryType(l);if(v===s.TRIANGULAR_MESH)f=new s.Mesh,m=a.DecodeBufferToMesh(l,f);else if(v===s.POINT_CLOUD)f=new s.PointCloud,m=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const x={index:null,attributes:[]};for(const y in u){const g=self[d[y]];let S,_;if(c.useUniqueIDs)_=u[y],S=a.GetAttributeByUniqueId(f,_);else{if(_=a.GetAttributeId(f,s[u[y]]),_===-1)continue;S=a.GetAttribute(f,_)}x.attributes.push(i(s,a,f,y,g,S))}return v===s.TRIANGULAR_MESH&&(x.index=r(s,a,f)),s.destroy(f),x}function r(s,a,l){const u=l.num_faces()*3,d=u*4,f=s._malloc(d);a.GetTrianglesUInt32Array(l,d,f);const m=new Uint32Array(s.HEAPF32.buffer,f,u).slice();return s._free(f),{array:m,itemSize:1}}function i(s,a,l,c,u,d){const f=d.num_components(),v=l.num_points()*f,x=v*u.BYTES_PER_ELEMENT,y=o(s,u),g=s._malloc(x);a.GetAttributeDataArrayForAllPoints(l,d,y,x,g);const S=new u(s.HEAPF32.buffer,g,v).slice();return s._free(g),{name:c,array:S,itemSize:f}}function o(s,a){switch(a){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let $0;const yb=()=>{if($0)return $0;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let o;const s=WebAssembly.instantiate(a(i),{}).then(d=>{o=d.instance,o.exports.__wasm_call_ctors()});function a(d){const f=new Uint8Array(d.length);for(let v=0;v<d.length;++v){const x=d.charCodeAt(v);f[v]=x>96?x-71:x>64?x-65:x>47?x+4:x>46?63:62}let m=0;for(let v=0;v<d.length;++v)f[m++]=f[v]<60?r[f[v]]:(f[v]-60)*64+f[++v];return f.buffer.slice(0,m)}function l(d,f,m,v,x,y){const g=o.exports.sbrk,S=m+3&-4,_=g(S*v),w=g(x.length),A=new Uint8Array(o.exports.memory.buffer);A.set(x,w);const M=d(_,m,v,w,x.length);if(M===0&&y&&y(_,S,v),f.set(A.subarray(_,_+m*v)),g(_-g(0)),M!==0)throw new Error(`Malformed buffer data: ${M}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return $0={ready:s,supported:!0,decodeVertexBuffer(d,f,m,v,x){l(o.exports.meshopt_decodeVertexBuffer,d,f,m,v,o.exports[c[x]])},decodeIndexBuffer(d,f,m,v){l(o.exports.meshopt_decodeIndexBuffer,d,f,m,v)},decodeIndexSequence(d,f,m,v){l(o.exports.meshopt_decodeIndexSequence,d,f,m,v)},decodeGltfBuffer(d,f,m,v,x,y){l(o.exports[u[x]],d,f,m,v,o.exports[c[y]])}},$0};let W0=null,E8="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function M8(t,e,n){return r=>{n&&n(r),t&&(W0||(W0=new _ye),W0.setDecoderPath(typeof t=="string"?t:E8),r.setDRACOLoader(W0)),e&&r.setMeshoptDecoder(typeof yb=="function"?yb():yb)}}function Eg(t,e=!0,n=!0,r){return ch(KR,t,M8(e,n,r))}Eg.preload=(t,e=!0,n=!0,r)=>ch.preload(KR,t,M8(e,n,r));Eg.clear=t=>ch.clear(KR,t);Eg.setDecoderPath=t=>{E8=t};const bye=C.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:s,onStart:a,onEnd:l,...c},u)=>{const d=ho(M=>M.invalidate),f=ho(M=>M.camera),m=ho(M=>M.gl),v=ho(M=>M.events),x=ho(M=>M.setEvents),y=ho(M=>M.set),g=ho(M=>M.get),S=ho(M=>M.performance),_=e||f,w=r||v.connected||m.domElement,A=C.useMemo(()=>new z0e(_),[_]);return jR(()=>{A.enabled&&A.update()},-1),C.useEffect(()=>(o&&A.connect(o===!0?w:o),A.connect(w),()=>void A.dispose()),[o,w,n,A,d]),C.useEffect(()=>{const M=T=>{d(),n&&S.regress(),s&&s(T)},P=T=>{a&&a(T)},I=T=>{l&&l(T)};return A.addEventListener("change",M),A.addEventListener("start",P),A.addEventListener("end",I),()=>{A.removeEventListener("start",P),A.removeEventListener("end",I),A.removeEventListener("change",M)}},[s,a,l,A,d,x]),C.useEffect(()=>{if(t){const M=g().controls;return y({controls:A}),()=>y({controls:M})}},[t,A]),C.createElement("primitive",Xt({ref:u,object:A,enableDamping:i},c))}),wye=3e3,Eye=3001,A8=(t,e,n)=>{let r;switch(t){case xo:r=new Uint8ClampedArray(e*n*4);break;case ii:r=new Uint16Array(e*n*4);break;case jl:r=new Uint32Array(e*n*4);break;case YT:r=new Int8Array(e*n*4);break;case qT:r=new Int16Array(e*n*4);break;case PS:r=new Int32Array(e*n*4);break;case Ar:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let j0;const Mye=(t,e,n,r)=>{if(j0!==void 0)return j0;const i=new bo(1,1,r);e.setRenderTarget(i);const o=new ir(new sc,new Ji({color:16777215}));e.render(o,n),e.setRenderTarget(null);const s=A8(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,s),i.dispose(),o.geometry.dispose(),o.material.dispose(),j0=s[0]!==0,j0};class JR{constructor(e){var n,r,i,o,s,a,l,c,u,d,f,m,v,x,y,g;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(_){throw this._renderer.setRenderTarget(null),_}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const S={format:kr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((n=e.renderTargetOptions)===null||n===void 0?void 0:n.anisotropy)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.anisotropy:1,generateMipmaps:((i=e.renderTargetOptions)===null||i===void 0?void 0:i.generateMipmaps)!==void 0?(o=e.renderTargetOptions)===null||o===void 0?void 0:o.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)===null||s===void 0?void 0:s.magFilter)!==void 0?(a=e.renderTargetOptions)===null||a===void 0?void 0:a.magFilter:In,minFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.minFilter)!==void 0?(c=e.renderTargetOptions)===null||c===void 0?void 0:c.minFilter:In,samples:((u=e.renderTargetOptions)===null||u===void 0?void 0:u.samples)!==void 0?(d=e.renderTargetOptions)===null||d===void 0?void 0:d.samples:void 0,wrapS:((f=e.renderTargetOptions)===null||f===void 0?void 0:f.wrapS)!==void 0?(m=e.renderTargetOptions)===null||m===void 0?void 0:m.wrapS:Mr,wrapT:((v=e.renderTargetOptions)===null||v===void 0?void 0:v.wrapT)!==void 0?(x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapT:Mr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=JR.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Uf,this._camera=new Es,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!Mye(this._type,this._renderer,this._camera,S)){let _;switch(this._type){case ii:_=this._renderer.extensions.has("EXT_color_buffer_float")?Ar:void 0;break}_!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Ar}`),this._type=_):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new ir(new sc,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new bo(this.width,this.height,S),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)===null||y===void 0?void 0:y.mapping)!==void 0?(g=e.renderTargetOptions)===null||g===void 0?void 0:g.mapping:Gl}static instantiateRenderer(){const e=new vR;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=A8(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new La(this.toArray(),this.width,this.height,kr,this._type,(e==null?void 0:e.mapping)||Gl,(e==null?void 0:e.wrapS)||Mr,(e==null?void 0:e.wrapT)||Mr,(e==null?void 0:e.magFilter)||In,(e==null?void 0:e.minFilter)||In,(e==null?void 0:e.anisotropy)||1,is);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof to&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof Bn&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof Bn&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const Aye=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,Tye=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class Rye extends to{constructor({gamma:e,offsetHdr:n,offsetSdr:r,gainMapMin:i,gainMapMax:o,maxDisplayBoost:s,hdrCapacityMin:a,hdrCapacityMax:l,sdr:c,gainMap:u}){super({name:"GainMapDecoderMaterial",vertexShader:Aye,fragmentShader:Tye,uniforms:{sdr:{value:c},gainMap:{value:u},gamma:{value:new re(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new re().fromArray(n)},offsetSdr:{value:new re().fromArray(r)},gainMapMin:{value:new re().fromArray(i)},gainMapMax:{value:new re().fromArray(o)},weightFactor:{value:(Math.log2(s)-a)/(l-a)}},blending:Zs,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=s,this._hdrCapacityMin=a,this._hdrCapacityMax=l,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const n=this.uniforms.gamma.value;n.x=1/e[0],n.y=1/e[1],n.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class T8 extends Error{}class R8 extends Error{}const op=(t,e,n)=>{var r;let i;const o=(r=t.attributes.getNamedItem(e))===null||r===void 0?void 0:r.nodeValue;if(o)i=o;else{const s=t.getElementsByTagName(e)[0];if(s){const a=s.getElementsByTagName("rdf:li");if(a.length===3)i=Array.from(a).map(l=>l.innerHTML);else throw new Error(`Gainmap metadata contains an array of items for ${e} but its length is not 3`)}else{if(n)return n;throw new Error(`Can't find ${e} in gainmap metadata`)}}return i},Pye=t=>{var e,n;let r;typeof TextDecoder<"u"?r=new TextDecoder().decode(t):r=t.toString();let i=r.indexOf("<x:xmpmeta");const o=new DOMParser;for(;i!==-1;){const s=r.indexOf("x:xmpmeta>",i);r.slice(i,s+10);const a=r.slice(i,s+10);try{const c=o.parseFromString(a,"text/xml").getElementsByTagName("rdf:Description")[0],u=op(c,"hdrgm:GainMapMin","0"),d=op(c,"hdrgm:GainMapMax"),f=op(c,"hdrgm:Gamma","1"),m=op(c,"hdrgm:OffsetSDR","0.015625"),v=op(c,"hdrgm:OffsetHDR","0.015625");let x=(e=c.attributes.getNamedItem("hdrgm:HDRCapacityMin"))===null||e===void 0?void 0:e.nodeValue;x||(x="0");const y=(n=c.attributes.getNamedItem("hdrgm:HDRCapacityMax"))===null||n===void 0?void 0:n.nodeValue;if(!y)throw new Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(u)?u.map(g=>parseFloat(g)):[parseFloat(u),parseFloat(u),parseFloat(u)],gainMapMax:Array.isArray(d)?d.map(g=>parseFloat(g)):[parseFloat(d),parseFloat(d),parseFloat(d)],gamma:Array.isArray(f)?f.map(g=>parseFloat(g)):[parseFloat(f),parseFloat(f),parseFloat(f)],offsetSdr:Array.isArray(m)?m.map(g=>parseFloat(g)):[parseFloat(m),parseFloat(m),parseFloat(m)],offsetHdr:Array.isArray(v)?v.map(g=>parseFloat(g)):[parseFloat(v),parseFloat(v),parseFloat(v)],hdrCapacityMin:parseFloat(x),hdrCapacityMax:parseFloat(y)}}catch{}i=r.indexOf("<x:xmpmeta",s)}};class Iye{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,o=new DataView(e.buffer);if(o.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const s=o.byteLength;let a=2,l=0,c;for(;a<s;){if(++l>250){r(new Error(`Found no marker after ${l} loops 😵`));return}if(o.getUint8(a)!==255){r(new Error(`Not a valid marker at offset 0x${a.toString(16)}, found: 0x${o.getUint8(a).toString(16)}`));return}if(c=o.getUint8(a+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=a+4;if(o.getUint32(u)===1297106432){const d=u+4;let f;if(o.getUint16(d)===18761)f=!1;else if(o.getUint16(d)===19789)f=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(o.getUint16(d+2,!f)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=o.getUint32(d+4,!f);if(m<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const v=d+m,x=o.getUint16(v,!f),y=v+2;let g=0;for(let A=y;A<y+12*x;A+=12)o.getUint16(A,!f)===45057&&(g=o.getUint32(A+8,!f));const S=4,_=v+2+x*12+S,w=[];for(let A=_;A<_+g*16;A+=16){const M={MPType:o.getUint32(A,!f),size:o.getUint32(A+4,!f),dataOffset:o.getUint32(A+8,!f),dependantImages:o.getUint32(A+12,!f),start:-1,end:-1,isFII:!1};M.dataOffset?(M.start=d+M.dataOffset,M.isFII=!1):(M.start=0,M.isFII=!0),M.end=M.start+M.size,w.push(M)}if(this.options.extractNonFII&&w.length){const A=new Blob([o]),M=[];for(const P of w){if(P.isFII&&!this.options.extractFII)continue;const I=A.slice(P.start,P.end+1,"image/jpeg");M.push(I)}n(M)}}}a+=2+o.getUint16(a+2)}})}}const Bye=async t=>{const e=Pye(t);if(!e)throw new R8("Gain map XMP metadata not found");const r=await new Iye({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new T8("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},w3=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class P8 extends ci{constructor(e,n){super(n),e&&(this._renderer=e),this._internalLoadingManager=new e1}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new Rye({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Bn,sdr:new Bn});return new JR({width:16,height:16,type:ii,colorSpace:is,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,n,r,i){const o=i?new Blob([i],{type:"image/jpeg"}):void 0,s=new Blob([r],{type:"image/jpeg"});let a,l,c=!1;if(typeof createImageBitmap>"u"){const f=await Promise.all([o?w3(o):Promise.resolve(void 0),w3(s)]);l=f[0],a=f[1],c=!0}else{const f=await Promise.all([o?createImageBitmap(o,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(s,{imageOrientation:"flipY"})]);l=f[0],a=f[1]}const u=new Bn(l||new ImageData(2,2),Gl,Mr,Mr,In,$E,kr,xo,1,is);u.flipY=c,u.needsUpdate=!0;const d=new Bn(a,Gl,Mr,Mr,In,$E,kr,xo,1,po);d.flipY=c,d.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=u,e.material.sdr=d,e.material.gainMapMin=n.gainMapMin,e.material.gainMapMax=n.gainMapMax,e.material.offsetHdr=n.offsetHdr,e.material.offsetSdr=n.offsetSdr,e.material.gamma=n.gamma,e.material.hdrCapacityMin=n.hdrCapacityMin,e.material.hdrCapacityMax=n.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,n.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class Oye extends P8{load([e,n,r],i,o,s){const a=this.prepareQuadRenderer();let l,c,u;const d=async()=>{if(l&&c&&u){try{await this.render(a,u,l,c)}catch(T){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof s=="function"&&s(T),a.disposeOnDemandRenderer();return}typeof i=="function"&&i(a),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),a.disposeOnDemandRenderer()}};let f=!0,m=0,v=0,x=!0,y=0,g=0,S=!0,_=0,w=0;const A=()=>{if(typeof o=="function"){const T=m+y+_,E=v+g+w,B=f&&x&&S;o(new ProgressEvent("progress",{lengthComputable:B,loaded:E,total:T}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const M=new ai(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(e,async T=>{if(typeof T=="string")throw new Error("Invalid sdr buffer");l=T,await d()},T=>{f=T.lengthComputable,v=T.loaded,m=T.total,A()},T=>{this.manager.itemError(e),typeof s=="function"&&s(T)});const P=new ai(this._internalLoadingManager);P.setResponseType("arraybuffer"),P.setRequestHeader(this.requestHeader),P.setPath(this.path),P.setWithCredentials(this.withCredentials),P.load(n,async T=>{if(typeof T=="string")throw new Error("Invalid gainmap buffer");c=T,await d()},T=>{x=T.lengthComputable,g=T.loaded,y=T.total,A()},T=>{this.manager.itemError(n),typeof s=="function"&&s(T)});const I=new ai(this._internalLoadingManager);return I.setRequestHeader(this.requestHeader),I.setPath(this.path),I.setWithCredentials(this.withCredentials),I.load(r,async T=>{if(typeof T!="string")throw new Error("Invalid metadata string");u=JSON.parse(T),await d()},T=>{S=T.lengthComputable,w=T.loaded,_=T.total,A()},T=>{this.manager.itemError(r),typeof s=="function"&&s(T)}),a}}class Lye extends P8{load(e,n,r,i){const o=this.prepareQuadRenderer(),s=new ai(this._internalLoadingManager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(this.withCredentials),this.manager.itemStart(e),s.load(e,async a=>{if(typeof a=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(a);let c,u,d;try{const f=await Bye(l);c=f.sdr,u=f.gainMap,d=f.metadata}catch(f){if(f instanceof R8||f instanceof T8)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),d={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw f}try{await this.render(o,d,c,u)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),o.disposeOnDemandRenderer();return}typeof n=="function"&&n(o),this.manager.itemEnd(e),o.disposeOnDemandRenderer()},r,a=>{this.manager.itemError(e),typeof i=="function"&&i(a)}),o}}const xb={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Dye="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",X0=t=>Array.isArray(t);function I8({files:t=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){var o;let s=null,a=!1,l;if(n){if(!(n in xb))throw new Error("Preset must be one of: "+Object.keys(xb).join(", "));t=xb[n],e=Dye}const c=X0(t)&&t.length===6,u=X0(t)&&t.length===3&&t.some(y=>y.endsWith("json")),d=X0(t)?t[0]:t;if(a=X0(t),l=c?"cube":u?"webp":d.startsWith("data:application/exr")?"exr":d.startsWith("data:application/hdr")?"hdr":d.startsWith("data:image/jpeg")?"jpg":(o=d.split(".").pop())==null||(o=o.split("?"))==null||(o=o.shift())==null?void 0:o.toLowerCase(),s=l==="cube"?BV:l==="hdr"?xye:l==="exr"?Sye:l==="jpg"||l==="jpeg"?Lye:l==="webp"?Oye:null,!s)throw new Error("useEnvironment: Unrecognized file extension: "+t);const f=ho(y=>y.gl),m=ch(s,a?[t]:t,y=>{(l==="webp"||l==="jpg"||l==="jpeg")&&y.setRenderer(f),y.setPath==null||y.setPath(e),i&&i(y)});let v=a?m[0]:m;if(l==="jpg"||l==="jpeg"||l==="webp"){var x;v=(x=v.renderTarget)==null?void 0:x.texture}return v.mapping=c?oa:Bf,"colorSpace"in v?v.colorSpace=r??c?"srgb":"srgb-linear":v.encoding=r??c?Eye:wye,v}const Fye=t=>t.current&&t.current.isScene,Nye=t=>Fye(t)?t.current:t;function YR(t,e,n,r,i={}){var o,s,a,l,c;i={backgroundBlurriness:(o=i.blur)!==null&&o!==void 0?o:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=Nye(e||n),d=u.background,f=u.environment,m={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(s=(a=u.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(l=(c=u.environmentRotation)==null||c.clone==null?void 0:c.clone())!==null&&l!==void 0?l:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),xl(u,i),()=>{t!=="only"&&(u.environment=f),t&&(u.background=d),xl(u,m)}}function qR({scene:t,background:e=!1,map:n,...r}){const i=ho(o=>o.scene);return C.useLayoutEffect(()=>{if(n)return YR(e,t,i,n,r)}),null}function B8({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:s,environmentRotation:a,...l}){const c=I8(l),u=ho(d=>d.scene);return C.useLayoutEffect(()=>YR(t,e,u,c,{blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:o,environmentIntensity:s,environmentRotation:a})),null}function Uye({children:t,near:e=1,far:n=1e3,resolution:r=256,frames:i=1,map:o,background:s=!1,blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f,scene:m,files:v,path:x,preset:y=void 0,extensions:g}){const S=ho(I=>I.gl),_=ho(I=>I.scene),w=C.useRef(null),[A]=C.useState(()=>new Uf),M=C.useMemo(()=>{const I=new fR(r);return I.texture.type=ii,I},[r]);C.useLayoutEffect(()=>(i===1&&w.current.update(S,A),YR(s,m,_,M.texture,{blur:a,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f})),[t,A,M.texture,m,_,s,i,S]);let P=1;return jR(()=>{(i===1/0||P<i)&&(w.current.update(S,A),P++)}),C.createElement(C.Fragment,null,n0e(C.createElement(C.Fragment,null,t,C.createElement("cubeCamera",{ref:w,args:[e,n,M]}),v||y?C.createElement(B8,{background:!0,files:v,preset:y,path:x,extensions:g}):o?C.createElement(qR,{background:!0,map:o,extensions:g}):null),A))}function kye(t){var e,n,r,i;const o=I8(t),s=t.map||o;C.useMemo(()=>ZV({GroundProjectedEnvImpl:F0e}),[]);const a=C.useMemo(()=>[s],[s]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return C.createElement(C.Fragment,null,C.createElement(qR,Xt({},t,{map:s})),C.createElement("groundProjectedEnvImpl",{args:a,scale:u,height:l,radius:c}))}function O8(t){return t.ground?C.createElement(kye,t):t.map?C.createElement(qR,t):t.children?C.createElement(Uye,t):C.createElement(B8,t)}const zye=(t,e=.25,n=1,r=1/(2*Math.PI))=>n/Math.atan(1/e)*Math.atan(Math.sin(3*Math.PI*t*r)/e),Hye="_root_wa0jc_3",Vye="_inner_wa0jc_13",Gye="_rotation_wa0jc_1",E3={root:Hye,inner:Vye,rotation:Gye};function L8(){return Ve.jsx("div",{className:E3.root,children:Ve.jsx("div",{className:E3.inner})})}function $ye({url:t,scrollModelRef:e}){const{scene:n}=Eg(t),r=C.useRef(null),[i,o]=C.useState(11),[s,a]=C.useState([4,-3,0]);return C.useEffect(()=>{const l=()=>{window.innerWidth<900?(o(5),a([2,-.8,-2])):(o(11),a([4,-3,0]))};return window.addEventListener("resize",l),l(),()=>window.removeEventListener("resize",l)},[]),jR(()=>{if(r.current&&e.current){const c=i===11?4e-4:.006,u=i===11?6:-.5,d=i===11?10:14;let f=e.current.scrollTop*.01*zye(c);f=Math.min(u,Math.max(d,f)),r.current.position.x=f,r.current.rotation.y=e.current.scrollTop*c}}),Ve.jsx("group",{ref:r,position:s,rotation:[0,0,i===11?0:-.5],children:Ve.jsx("primitive",{object:n,scale:i})})}function Wye({scrollModelRef:t}){return Ve.jsx("div",{className:sd.root,children:Ve.jsxs("div",{className:sd.wrapper,children:[Ve.jsx("div",{className:sd.canvasContainer,children:Ve.jsx(C.Suspense,{fallback:Ve.jsx(L8,{}),children:Ve.jsxs(g8,{shadows:!0,dpr:[1,2],camera:{position:[0,0,10],fov:64},gl:{alpha:!0,powerPreference:"high-performance",stencil:!0,antialias:!0,depth:!0},children:[Ve.jsx(O8,{files:"/environments/apartment.hdr"}),Ve.jsx($ye,{url:"/models/weapon-compressed.glb",scrollModelRef:t})]})})}),Ve.jsxs("div",{className:sd.textContainer,children:[Ve.jsx("h2",{className:sd.firstCaption,children:"Только лучшие материалы и технологии"}),Ve.jsx(dm.div,{viewport:{once:!0},initial:{opacity:0,transform:"translate(-100px)"},whileInView:{opacity:1,transform:"translate(0)"},children:Ve.jsx("h2",{className:sd.secondCaption,children:"Постоянное развитие и внедрение новых решений"})})]})]})})}function D8(){return Ve.jsx("svg",{width:"20",height:"23",viewBox:"0 0 20 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Ve.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7929 14.2694C19.0766 17.5424 15.7634 20.4431 9.94349 22.8946C4.50448 20.5967 1.22827 17.8276 0.205605 14.6618C-0.11499 13.6705 0.0155808 8.32357 0.0932404 5.131C0.114575 4.27974 0.133066 3.51649 0.142738 2.91756C4.40463 2.37227 7.69023 1.43064 9.92586 0.112729C12.9656 1.71599 16.3433 2.70851 19.8344 3.02432C19.8441 3.63914 19.868 4.42166 19.8944 5.28985C19.9838 8.27019 20.1197 12.7739 19.7929 14.2689V14.2694Z",fill:"white",fillOpacity:"0.51"})})}const jye="_root_1hzex_3",Xye="_wrapper_1hzex_10",Kye="_logoWrapper_1hzex_20",Sb={root:jye,wrapper:Xye,logoWrapper:Kye};function Jye(){return Ve.jsx("div",{className:Sb.root,children:Ve.jsx("div",{className:Sb.wrapper,children:Ve.jsx("div",{className:Sb.logoWrapper,children:Ve.jsxs("a",{href:"/",children:[Ve.jsx(D8,{}),"AMMO MERCH"]})})})})}const Yye="_root_1wtan_3",qye={root:Yye},Qye="_root_1gagq_3",Zye="_wrapper_1gagq_17",exe="_header_1gagq_24",txe="_textContainer_1gagq_35",nxe="_navigation_1gagq_57",rxe="_button_1gagq_63",ixe="_buttonActive_1gagq_102",oxe="_image_1gagq_110",sxe="_canvasContainer_1gagq_118",axe="_canvas_1gagq_118",lxe="_helper_1gagq_126",gs={root:Qye,wrapper:Zye,header:exe,textContainer:txe,navigation:nxe,button:rxe,buttonActive:ixe,image:oxe,canvasContainer:sxe,canvas:axe,helper:lxe};function cxe(){return Ve.jsx("svg",{width:"151",height:"99",viewBox:"0 0 151 99",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:Ve.jsx("path",{d:"M113.446 78.6466C113.69 79.4754 114.451 80.0135 115.273 80.0135C115.454 80.0135 115.637 79.988 115.818 79.9345C137.847 73.3829 151 62.0063 151 49.5C151 29.3608 117.836 13.5851 75.4975 13.5851C73.2782 13.5851 70.9979 13.654 68.6972 13.7509L74.3369 2.78999C74.8205 1.85151 74.4515 0.698805 73.5149 0.214261C72.5707 -0.272833 71.428 0.0995055 70.9419 1.03799L63.7854 14.9418C63.765 14.9801 63.7625 15.0235 63.7497 15.0643C63.6963 15.1841 63.6734 15.3091 63.6454 15.4391C63.6428 15.4468 63.6403 15.4544 63.6378 15.4621C63.625 15.5233 63.6225 15.5819 63.6149 15.6432C63.6072 15.7426 63.5665 15.8344 63.5741 15.9364C63.5792 16.018 63.6225 16.0843 63.6352 16.1608V16.1711C63.6454 16.2195 63.6632 16.2629 63.6759 16.3062C63.709 16.4286 63.7217 16.5638 63.7777 16.6734C63.7803 16.6785 63.7803 16.6862 63.7828 16.6913L70.9394 30.5926C71.2804 31.2506 71.9472 31.628 72.6394 31.628C72.9321 31.628 73.2299 31.5591 73.5124 31.4163C74.4489 30.9318 74.8179 29.7791 74.3344 28.8406L68.5394 17.5839C70.8961 17.4768 73.2299 17.4054 75.4949 17.4054C115.024 17.4054 147.18 31.8014 147.18 49.4949C147.18 60.0529 134.745 70.3074 114.729 76.2621C113.721 76.5656 113.143 77.6316 113.446 78.6466ZM0 49.5C0 69.6392 33.1614 85.4149 75.5 85.4149C77.7269 85.4149 80.0123 85.3486 82.3053 85.2491L76.6631 96.21C76.1795 97.1485 76.5485 98.3012 77.4826 98.7883C77.7625 98.9337 78.0654 99 78.358 99C79.0477 99 79.7145 98.6225 80.0556 97.9646L87.2121 84.0607C87.2325 84.0199 87.235 83.9791 87.2477 83.9358C87.3012 83.8185 87.3241 83.6961 87.3521 83.5685C87.3546 83.5558 87.3597 83.5456 87.3623 83.5328C87.3775 83.4512 87.3852 83.3722 87.3903 83.288C87.3953 83.2115 87.4284 83.1401 87.4233 83.0611C87.4182 82.9871 87.3801 82.9233 87.3673 82.8519C87.3673 82.8443 87.3673 82.8366 87.3648 82.829C87.347 82.7346 87.3164 82.6479 87.2884 82.5586C87.2579 82.4796 87.2554 82.3878 87.2197 82.3087L87.2172 82.3036L80.0606 68.4023C79.5771 67.4638 78.4217 67.0941 77.4876 67.5786C76.5511 68.0631 76.1846 69.2184 76.6682 70.1569L82.4631 81.4136C80.1166 81.5182 77.7803 81.5896 75.5025 81.5896C35.9761 81.5896 3.82005 67.1935 3.82005 49.5C3.82005 38.9421 16.2549 28.685 36.2714 22.7302C37.2792 22.4293 37.8569 21.3659 37.5566 20.3534C37.2588 19.341 36.2026 18.7595 35.1821 19.0656C13.1526 25.6171 0 36.9962 0 49.5Z"})})}function uxe(){return Ve.jsx("svg",{width:"137",height:"137",viewBox:"0 0 137 137",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:Ve.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M96.8877 0H133.388C135.381 0 136.994 1.61302 136.994 3.60558V40.1062H132.651V4.34921H96.8877V0ZM137 96.8877V133.388C137 135.381 135.387 136.994 133.394 136.994L96.8877 137V132.651H132.651V96.8877H137ZM40.1123 137H3.60558C1.61302 137 0 135.387 0 133.394V96.8877H4.34921V132.651H40.1123V137ZM0 40.1123V3.60558C0 1.61302 1.61302 0 3.60558 0H40.1062V4.34921H4.34921V40.1123L0 40.1062V40.1123Z"})})}const dxe="/assets/shop-item-1-81c41898.png",fxe="/assets/shop-item-2-e936707b.png",hxe="/assets/shop-item-3-c2588a0e.png",pxe="/assets/shop-item-4-cut-739a0021.png",mxe="/assets/shop-item-5-fc60847e.png",gxe=Pk("div"),LM=[{title:"backpack-1",url:"/models/backpack-1-compressed.glb",scale:6,position:[0,-.2,0],preview:dxe},{title:"boots",url:"/models/boots-compressed.glb",scale:.14,position:[0,.6,0],preview:fxe},{title:"knife",url:"/models/knife-compressed.glb",scale:.08,position:[0,-.6,0],preview:hxe,rotation:[0,1.5,.1]},{title:"backpack-2",url:"/models/backpack-2-compressed.glb",scale:4,position:[0,1.6,0],preview:pxe},{title:"vision",url:"/models/vision-compressed.glb",scale:.4,position:[0,.6,0],preview:mxe}];function vxe({url:t,scale:e,position:n,rotation:r=[0,0,0]}){const{scene:i}=Eg(t);return Ve.jsx("primitive",{object:i,scale:e,position:n,rotation:r})}function K0(t){return LM[LM.findIndex(e=>e.title===t)]}function yxe(){const[t,e]=C.useState("backpack-1");return Ve.jsx("div",{className:gs.root,children:Ve.jsxs("div",{className:gs.wrapper,children:[Ve.jsxs("div",{className:gs.header,children:[Ve.jsxs("div",{className:gs.textContainer,children:[Ve.jsx("h2",{children:"Ознакомьтесь с ассортиментом"}),Ve.jsx("p",{children:"Посмотрите нашу галерею, чтобы увидеть, как наши продукты выглядят в действии. Мы гордимся каждым изделием и рады поделиться с вами нашими достижениями"})]}),Ve.jsx("div",{className:gs.navigation,children:LM.map(n=>Ve.jsxs(gxe,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(n.title),className:t4(gs.button,t===n.title&&gs.buttonActive),children:[Ve.jsx("img",{className:gs.image,src:n.preview,alt:"Иконка товара"}),Ve.jsx(uxe,{})]},n.title))})]}),Ve.jsx("div",{className:gs.canvasContainer,children:Ve.jsx(C.Suspense,{fallback:Ve.jsx(L8,{}),children:Ve.jsxs(g8,{shadows:!0,dpr:[1,2],camera:{position:[0,0,10],fov:64},gl:{alpha:!0,powerPreference:"high-performance",stencil:!0,antialias:!0,depth:!0},className:gs.canvas,children:[Ve.jsx(bye,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.7,rotateSpeed:.6,minPolarAngle:Math.PI/2,maxPolarAngle:Math.PI/2}),Ve.jsx(O8,{files:"/environments/sunset.hdr"}),Ve.jsx("group",{scale:2,position:[0,-4,0],rotation:[0,-.4,0],children:Ve.jsx(vxe,{url:K0(t).url,scale:K0(t).scale,position:K0(t).position,rotation:K0(t).rotation})})]})})}),Ve.jsxs("div",{className:gs.helper,children:[Ve.jsx(cxe,{}),Ve.jsx("span",{children:"Вращайте для просмотра"})]})]})})}const xxe="_root_98z4d_3",Sxe="_header_98z4d_8",_xe="_textContainer_98z4d_25",Cxe="_imageContainer_98z4d_55",bxe="_emblaButton_98z4d_67",Lc={root:xxe,header:Sxe,textContainer:_xe,imageContainer:Cxe,emblaButton:bxe};function wxe(t){return Object.prototype.toString.call(t)==="[object Object]"}function M3(t){return wxe(t)||Array.isArray(t)}function Exe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function QR(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(s=>{const a=t[s],l=e[s];return typeof a=="function"?`${a}`==`${l}`:!M3(a)||!M3(l)?a===l:QR(a,l)})}function A3(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Mxe(t,e){if(t.length!==e.length)return!1;const n=A3(t),r=A3(e);return n.every((i,o)=>{const s=r[o];return QR(i,s)})}function ZR(t){return typeof t=="number"}function DM(t){return typeof t=="string"}function n1(t){return typeof t=="boolean"}function T3(t){return Object.prototype.toString.call(t)==="[object Object]"}function fr(t){return Math.abs(t)}function eP(t){return Math.sign(t)}function zp(t,e){return fr(t-e)}function Axe(t,e){if(t===0||e===0||fr(t)<=fr(e))return 0;const n=zp(fr(t),fr(e));return fr(n/t)}function Txe(t){return Math.round(t*100)/100}function Vm(t){return Gm(t).map(Number)}function Ps(t){return t[Mg(t)]}function Mg(t){return Math.max(0,t.length-1)}function tP(t,e){return e===Mg(t)}function R3(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Gm(t){return Object.keys(t)}function F8(t,e){return[t,e].reduce((n,r)=>(Gm(r).forEach(i=>{const o=n[i],s=r[i],a=T3(o)&&T3(s);n[i]=a?F8(o,s):s}),n),{})}function FM(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Rxe(t,e){const n={start:r,center:i,end:o};function r(){return 0}function i(l){return o(l)/2}function o(l){return e-l}function s(l,c){return DM(t)?n[t](l):t(e,l,c)}return{measure:s}}function $m(){let t=[];function e(i,o,s,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(o,s,a),l=()=>i.removeEventListener(o,s,a);else{const c=i;c.addListener(s),l=()=>c.removeListener(s)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function Pxe(t,e,n,r){const i=$m(),o=1e3/60;let s=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function u(){m(),i.clear()}function d(y){if(!l)return;s||(s=y,n(),n());const g=y-s;for(s=y,a+=g;a>=o;)n(),a-=o;const S=a/o;r(S),l&&(l=e.requestAnimationFrame(d))}function f(){l||(l=e.requestAnimationFrame(d))}function m(){e.cancelAnimationFrame(l),s=null,a=0,l=0}function v(){s=null,a=0}return{init:c,destroy:u,start:f,stop:m,update:n,render:r}}function Ixe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",o=r?"x":"y",s=!r&&n?-1:1,a=u(),l=d();function c(v){const{height:x,width:y}=v;return r?x:y}function u(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function f(v){return v*s}return{scroll:i,cross:o,startEdge:a,endEdge:l,measureSize:c,direction:f}}function Eu(t=0,e=0){const n=fr(t-e);function r(c){return c<t}function i(c){return c>e}function o(c){return r(c)||i(c)}function s(c){return o(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:s,reachedAny:o,reachedMax:i,reachedMin:r,removeOffset:a}}function N8(t,e,n){const{constrain:r}=Eu(0,t),i=t+1;let o=s(e);function s(f){return n?fr((i+f)%i):r(f)}function a(){return o}function l(f){return o=s(f),d}function c(f){return u().set(a()+f)}function u(){return N8(t,a(),n)}const d={get:a,set:l,add:c,clone:u};return d}function Bxe(t,e,n,r,i,o,s,a,l,c,u,d,f,m,v,x,y,g,S){const{cross:_,direction:w}=t,A=["INPUT","SELECT","TEXTAREA"],M={passive:!1},P=$m(),I=$m(),T=Eu(50,225).constrain(m.measure(20)),E={mouse:300,touch:400},B={mouse:500,touch:600},F=v?43:25;let L=!1,z=0,G=0,j=!1,X=!1,N=!1,W=!1;function V(Q){if(!S)return;function ie(fe){(n1(S)||S(Q,fe))&&ae(fe)}const ye=e;P.add(ye,"dragstart",fe=>fe.preventDefault(),M).add(ye,"touchmove",()=>{},M).add(ye,"touchend",()=>{}).add(ye,"touchstart",ie).add(ye,"mousedown",ie).add(ye,"touchcancel",_e).add(ye,"contextmenu",_e).add(ye,"click",Re,!0)}function ee(){P.clear(),I.clear()}function se(){const Q=W?n:e;I.add(Q,"touchmove",de,M).add(Q,"touchend",_e).add(Q,"mousemove",de,M).add(Q,"mouseup",_e)}function me(Q){const ie=Q.nodeName||"";return A.includes(ie)}function K(){return(v?B:E)[W?"mouse":"touch"]}function te(Q,ie){const ye=d.add(eP(Q)*-1),fe=u.byDistance(Q,!v).distance;return v||fr(Q)<T?fe:y&&ie?fe*.5:u.byIndex(ye.get(),0).distance}function ae(Q){const ie=FM(Q,r);W=ie,N=v&&ie&&!Q.buttons&&L,L=zp(i.get(),s.get())>=2,!(ie&&Q.button!==0)&&(me(Q.target)||(j=!0,o.pointerDown(Q),c.useFriction(0).useDuration(0),i.set(s),se(),z=o.readPoint(Q),G=o.readPoint(Q,_),f.emit("pointerDown")))}function de(Q){if(!FM(Q,r)&&Q.touches.length>=2)return _e(Q);const ye=o.readPoint(Q),fe=o.readPoint(Q,_),pe=zp(ye,z),$=zp(fe,G);if(!X&&!W&&(!Q.cancelable||(X=pe>$,!X)))return _e(Q);const U=o.pointerMove(Q);pe>x&&(N=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(w(U)),Q.preventDefault()}function _e(Q){const ye=u.byDistance(0,!1).index!==d.get(),fe=o.pointerUp(Q)*K(),pe=te(w(fe),ye),$=Axe(fe,pe),U=F-10*$,le=g+$/50;X=!1,j=!1,I.clear(),c.useDuration(U).useFriction(le),l.distance(pe,!v),W=!1,f.emit("pointerUp")}function Re(Q){N&&(Q.stopPropagation(),Q.preventDefault(),N=!1)}function Te(){return j}return{init:V,destroy:ee,pointerDown:Te}}function Oxe(t,e){let r,i;function o(d){return d.timeStamp}function s(d,f){const v=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(FM(d,e)?d:d.touches[0])[v]}function a(d){return r=d,i=d,s(d)}function l(d){const f=s(d)-s(i),m=o(d)-o(r)>170;return i=d,m&&(r=d),f}function c(d){if(!r||!i)return 0;const f=s(i)-s(r),m=o(d)-o(r),v=o(d)-o(i)>170,x=f/m;return m&&!v&&fr(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:s}}function Lxe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:o,offsetHeight:s}=n;return{top:r,right:i+o,bottom:r+s,left:i,width:o,height:s}}return{measure:t}}function Dxe(t){function e(r){return t*(r/100)}return{measure:e}}function Fxe(t,e,n,r,i,o,s){const a=[t].concat(r);let l,c,u=[],d=!1;function f(y){return i.measureSize(s.measure(y))}function m(y){if(!o)return;c=f(t),u=r.map(f);function g(S){for(const _ of S){if(d)return;const w=_.target===t,A=r.indexOf(_.target),M=w?c:u[A],P=f(w?t:r[A]);if(fr(P-M)>=.5){y.reInit(),e.emit("resize");break}}}l=new ResizeObserver(S=>{(n1(o)||o(y,S))&&g(S)}),n.requestAnimationFrame(()=>{a.forEach(S=>l.observe(S))})}function v(){d=!0,l&&l.disconnect()}return{init:m,destroy:v}}function Nxe(t,e,n,r,i,o){let s=0,a=0,l=i,c=o,u=t.get(),d=0;function f(){const M=r.get()-t.get(),P=!l;let I=0;return P?(s=0,n.set(r),t.set(r),I=M):(n.set(t),s+=M/l,s*=c,u+=s,t.add(s),I=u-d),a=eP(I),d=u,A}function m(){const M=r.get()-e.get();return fr(M)<.001}function v(){return l}function x(){return a}function y(){return s}function g(){return _(i)}function S(){return w(o)}function _(M){return l=M,A}function w(M){return c=M,A}const A={direction:x,duration:v,velocity:y,seek:f,settled:m,useBaseFriction:S,useBaseDuration:g,useFriction:w,useDuration:_};return A}function Uxe(t,e,n,r,i){const o=i.measure(10),s=i.measure(50),a=Eu(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function u(m){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",x=fr(t[v]-e.get()),y=n.get()-e.get(),g=a.constrain(x/s);n.subtract(y*g),!m&&fr(y)<o&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(m){l=!m}return{shouldConstrain:c,constrain:u,toggleActive:d}}function kxe(t,e,n,r,i){const o=Eu(-e+t,0),s=d(),a=u(),l=f();function c(v,x){return zp(v,x)<=1}function u(){const v=s[0],x=Ps(s),y=s.lastIndexOf(v),g=s.indexOf(x)+1;return Eu(y,g)}function d(){return n.map((v,x)=>{const{min:y,max:g}=o,S=o.constrain(v),_=!x,w=tP(n,x);return _?g:w||c(y,S)?y:c(g,S)?g:S}).map(v=>parseFloat(v.toFixed(3)))}function f(){if(e<=t+i)return[o.max];if(r==="keepSnaps")return s;const{min:v,max:x}=a;return s.slice(v,x)}return{snapsContained:l,scrollContainLimit:a}}function zxe(t,e,n){const r=e[0],i=n?r-t:Ps(e);return{limit:Eu(i,r)}}function Hxe(t,e,n,r){const o=e.min+.1,s=e.max+.1,{reachedMin:a,reachedMax:l}=Eu(o,s);function c(f){return f===1?l(n.get()):f===-1?a(n.get()):!1}function u(f){if(!c(f))return;const m=t*(f*-1);r.forEach(v=>v.add(m))}return{loop:u}}function Vxe(t){const{max:e,length:n}=t;function r(o){const s=o-e;return n?s/-n:0}return{get:r}}function Gxe(t,e,n,r,i){const{startEdge:o,endEdge:s}=t,{groupSlides:a}=i,l=d().map(e.measure),c=f(),u=m();function d(){return a(r).map(x=>Ps(x)[s]-x[0][o]).map(fr)}function f(){return r.map(x=>n[o]-x[o]).map(x=>-fr(x))}function m(){return a(c).map(x=>x[0]).map((x,y)=>x+l[y])}return{snaps:c,snapsAligned:u}}function $xe(t,e,n,r,i,o){const{groupSlides:s}=i,{min:a,max:l}=r,c=u();function u(){const f=s(o),m=!t||e==="keepSnaps";return n.length===1?[o]:m?f:f.slice(a,l).map((v,x,y)=>{const g=!x,S=tP(y,x);if(g){const _=Ps(y[0])+1;return R3(_)}if(S){const _=Mg(o)-Ps(y)[0]+1;return R3(_,Ps(y)[0])}return v})}return{slideRegistry:c}}function Wxe(t,e,n,r,i){const{reachedAny:o,removeOffset:s,constrain:a}=r;function l(v){return v.concat().sort((x,y)=>fr(x)-fr(y))[0]}function c(v){const x=t?s(v):a(v),y=e.map((S,_)=>({diff:u(S-x,0),index:_})).sort((S,_)=>fr(S.diff)-fr(_.diff)),{index:g}=y[0];return{index:g,distance:x}}function u(v,x){const y=[v,v+n,v-n];if(!t)return v;if(!x)return l(y);const g=y.filter(S=>eP(S)===x);return g.length?l(g):Ps(y)-n}function d(v,x){const y=e[v]-i.get(),g=u(y,x);return{index:v,distance:g}}function f(v,x){const y=i.get()+v,{index:g,distance:S}=c(y),_=!t&&o(y);if(!x||_)return{index:g,distance:v};const w=e[g]-S,A=v+u(w,0);return{index:g,distance:A}}return{byDistance:f,byIndex:d,shortcut:u}}function jxe(t,e,n,r,i,o,s){function a(d){const f=d.distance,m=d.index!==e.get();o.add(f),f&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),m&&(n.set(e.get()),e.set(d.index),s.emit("select"))}function l(d,f){const m=i.byDistance(d,f);a(m)}function c(d,f){const m=e.clone().set(d),v=i.byIndex(m.get(),f);a(v)}return{distance:l,index:c}}function Xxe(t,e,n,r,i,o,s,a){const l={passive:!0,capture:!0};let c=0;function u(m){if(!a)return;function v(x){if(new Date().getTime()-c>10)return;s.emit("slideFocusStart"),t.scrollLeft=0;const S=n.findIndex(_=>_.includes(x));ZR(S)&&(i.useDuration(0),r.index(S,0),s.emit("slideFocus"))}o.add(document,"keydown",d,!1),e.forEach((x,y)=>{o.add(x,"focus",g=>{(n1(a)||a(m,g))&&v(y)},l)})}function d(m){m.code==="Tab"&&(c=new Date().getTime())}return{init:u}}function mp(t){let e=t;function n(){return e}function r(l){e=s(l)}function i(l){e+=s(l)}function o(l){e-=s(l)}function s(l){return ZR(l)?l:l.get()}return{get:n,set:r,add:i,subtract:o}}function U8(t,e){const n=t.scroll==="x"?s:a,r=e.style;let i=null,o=!1;function s(f){return`translate3d(${f}px,0px,0px)`}function a(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(o)return;const m=Txe(t.direction(f));m!==i&&(r.transform=n(m),i=m)}function c(f){o=!f}function u(){o||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function Kxe(t,e,n,r,i,o,s,a,l){const u=Vm(i),d=Vm(i).reverse(),f=g().concat(S());function m(P,I){return P.reduce((T,E)=>T-i[E],I)}function v(P,I){return P.reduce((T,E)=>m(T,I)>0?T.concat([E]):T,[])}function x(P){return o.map((I,T)=>({start:I-r[T]+.5+P,end:I+e-.5+P}))}function y(P,I,T){const E=x(I);return P.map(B=>{const F=T?0:-n,L=T?n:0,z=T?"end":"start",G=E[B][z];return{index:B,loopPoint:G,slideLocation:mp(-1),translate:U8(t,l[B]),target:()=>a.get()>G?F:L}})}function g(){const P=s[0],I=v(d,P);return y(I,n,!1)}function S(){const P=e-s[0]-1,I=v(u,P);return y(I,-n,!0)}function _(){return f.every(({index:P})=>{const I=u.filter(T=>T!==P);return m(I,e)<=.1})}function w(){f.forEach(P=>{const{target:I,translate:T,slideLocation:E}=P,B=I();B!==E.get()&&(T.to(B),E.set(B))})}function A(){f.forEach(P=>P.translate.clear())}return{canLoop:_,clear:A,loop:w,loopPoints:f}}function Jxe(t,e,n){let r,i=!1;function o(l){if(!n)return;function c(u){for(const d of u)if(d.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(u=>{i||(n1(n)||n(l,u))&&c(u)}),r.observe(t,{childList:!0})}function s(){r&&r.disconnect(),i=!0}return{init:o,destroy:s}}function Yxe(t,e,n,r){const i={};let o=null,s=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(x=>{const y=e.indexOf(x.target);i[y]=x}),o=null,s=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function u(){a&&a.disconnect(),l=!0}function d(v){return Gm(i).reduce((x,y)=>{const g=parseInt(y),{isIntersecting:S}=i[g];return(v&&S||!v&&!S)&&x.push(g),x},[])}function f(v=!0){if(v&&o)return o;if(!v&&s)return s;const x=d(v);return v&&(o=x),v||(s=x),x}return{init:c,destroy:u,get:f}}function qxe(t,e,n,r,i,o){const{measureSize:s,startEdge:a,endEdge:l}=t,c=n[0]&&i,u=v(),d=x(),f=n.map(s),m=y();function v(){if(!c)return 0;const S=n[0];return fr(e[a]-S[a])}function x(){if(!c)return 0;const S=o.getComputedStyle(Ps(r));return parseFloat(S.getPropertyValue(`margin-${l}`))}function y(){return n.map((S,_,w)=>{const A=!_,M=tP(w,_);return A?f[_]+u:M?f[_]+d:w[_+1][a]-S[a]}).map(fr)}return{slideSizes:f,slideSizesWithGaps:m,startGap:u,endGap:d}}function Qxe(t,e,n,r,i,o,s,a,l){const{startEdge:c,endEdge:u,direction:d}=t,f=ZR(n);function m(g,S){return Vm(g).filter(_=>_%S===0).map(_=>g.slice(_,_+S))}function v(g){return g.length?Vm(g).reduce((S,_,w)=>{const A=Ps(S)||0,M=A===0,P=_===Mg(g),I=i[c]-o[A][c],T=i[c]-o[_][u],E=!r&&M?d(s):0,B=!r&&P?d(a):0,F=fr(T-B-(I+E));return w&&F>e+l&&S.push(_),P&&S.push(g.length),S},[]).map((S,_,w)=>{const A=Math.max(w[_-1]||0);return g.slice(A,S)}):[]}function x(g){return f?m(g,n):v(g)}return{groupSlides:x}}function Zxe(t,e,n,r,i,o,s){const{align:a,axis:l,direction:c,startIndex:u,loop:d,duration:f,dragFree:m,dragThreshold:v,inViewThreshold:x,slidesToScroll:y,skipSnaps:g,containScroll:S,watchResize:_,watchSlides:w,watchDrag:A,watchFocus:M}=o,P=2,I=Lxe(),T=I.measure(e),E=n.map(I.measure),B=Ixe(l,c),F=B.measureSize(T),L=Dxe(F),z=Rxe(a,F),G=!d&&!!S,j=d||!!S,{slideSizes:X,slideSizesWithGaps:N,startGap:W,endGap:V}=qxe(B,T,E,n,j,i),ee=Qxe(B,F,y,d,T,E,W,V,P),{snaps:se,snapsAligned:me}=Gxe(B,z,T,E,ee),K=-Ps(se)+Ps(N),{snapsContained:te,scrollContainLimit:ae}=kxe(F,K,me,S,P),de=G?te:me,{limit:_e}=zxe(K,de,d),Re=N8(Mg(de),u,d),Te=Re.clone(),Y=Vm(n),Q=({dragHandler:Ke,scrollBody:We,scrollBounds:ot,options:{loop:je}})=>{je||ot.constrain(Ke.pointerDown()),We.seek()},ie=({scrollBody:Ke,translate:We,location:ot,offsetLocation:je,previousLocation:Ze,scrollLooper:ft,slideLooper:he,dragHandler:Ee,animation:Z,eventHandler:ze,scrollBounds:Pe,options:{loop:ct}},at)=>{const Ft=Ke.settled(),Dt=!Pe.shouldConstrain(),Lt=ct?Ft:Ft&&Dt,Pt=Lt&&!Ee.pointerDown();Pt&&Z.stop();const st=ot.get()*at+Ze.get()*(1-at);je.set(st),ct&&(ft.loop(Ke.direction()),he.loop()),We.to(je.get()),Pt&&ze.emit("settle"),Lt||ze.emit("scroll")},ye=Pxe(r,i,()=>Q(Ye),Ke=>ie(Ye,Ke)),fe=.68,pe=de[Re.get()],$=mp(pe),U=mp(pe),le=mp(pe),be=mp(pe),we=Nxe($,le,U,be,f,fe),Oe=Wxe(d,de,K,_e,be),De=jxe(ye,Re,Te,we,Oe,be,s),ge=Vxe(_e),Fe=$m(),Xe=Yxe(e,n,s,x),{slideRegistry:Ne}=$xe(G,S,de,ae,ee,Y),He=Xxe(t,n,Ne,De,we,Fe,s,M),Ye={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:T,slideRects:E,animation:ye,axis:B,dragHandler:Bxe(B,t,r,i,be,Oxe(B,i),$,ye,De,we,Oe,Re,s,L,m,v,g,fe,A),eventStore:Fe,percentOfView:L,index:Re,indexPrevious:Te,limit:_e,location:$,offsetLocation:le,previousLocation:U,options:o,resizeHandler:Fxe(e,s,i,n,B,_,I),scrollBody:we,scrollBounds:Uxe(_e,le,be,we,L),scrollLooper:Hxe(K,_e,le,[$,le,U,be]),scrollProgress:ge,scrollSnapList:de.map(ge.get),scrollSnaps:de,scrollTarget:Oe,scrollTo:De,slideLooper:Kxe(B,F,K,X,N,se,de,le,n),slideFocus:He,slidesHandler:Jxe(e,s,w),slidesInView:Xe,slideIndexes:Y,slideRegistry:Ne,slidesToScroll:ee,target:be,translate:U8(B,e)};return Ye}function eSe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(u=>u(e,c)),l}function o(c,u){return t[c]=r(c).concat([u]),l}function s(c,u){return t[c]=r(c).filter(d=>d!==u),l}function a(){t={}}const l={init:n,emit:i,off:s,on:o,clear:a};return l}const tSe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function nSe(t){function e(o,s){return F8(o,s||{})}function n(o){const s=o.breakpoints||{},a=Gm(s).filter(l=>t.matchMedia(l).matches).map(l=>s[l]).reduce((l,c)=>e(l,c),{});return e(o,a)}function r(o){return o.map(s=>Gm(s.breakpoints||{})).reduce((s,a)=>s.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function rSe(t){let e=[];function n(o,s){return e=s.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(o,t)),s.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(o=>o.destroy())}return{init:n,destroy:r}}function Cx(t,e,n){const r=t.ownerDocument,i=r.defaultView,o=nSe(i),s=rSe(o),a=$m(),l=eSe(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=o,{on:f,off:m,emit:v}=l,x=B;let y=!1,g,S=c(tSe,Cx.globalOptions),_=c(S),w=[],A,M,P;function I(){const{container:Y,slides:Q}=_;M=(DM(Y)?t.querySelector(Y):Y)||t.children[0];const ye=DM(Q)?M.querySelectorAll(Q):Q;P=[].slice.call(ye||M.children)}function T(Y){const Q=Zxe(t,M,P,r,i,Y,l);if(Y.loop&&!Q.slideLooper.canLoop()){const ie=Object.assign({},Y,{loop:!1});return T(ie)}return Q}function E(Y,Q){y||(S=c(S,Y),_=u(S),w=Q||w,I(),g=T(_),d([S,...w.map(({options:ie})=>ie)]).forEach(ie=>a.add(ie,"change",B)),_.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(Te),g.eventHandler.init(Te),g.resizeHandler.init(Te),g.slidesHandler.init(Te),g.options.loop&&g.slideLooper.loop(),M.offsetParent&&P.length&&g.dragHandler.init(Te),A=s.init(Te,w)))}function B(Y,Q){const ie=ee();F(),E(c({startIndex:ie},Y),Q),l.emit("reInit")}function F(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),s.destroy(),a.clear()}function L(){y||(y=!0,a.clear(),F(),l.emit("destroy"),l.clear())}function z(Y,Q,ie){!_.active||y||(g.scrollBody.useBaseFriction().useDuration(Q===!0?0:_.duration),g.scrollTo.index(Y,ie||0))}function G(Y){const Q=g.index.add(1).get();z(Q,Y,-1)}function j(Y){const Q=g.index.add(-1).get();z(Q,Y,1)}function X(){return g.index.add(1).get()!==ee()}function N(){return g.index.add(-1).get()!==ee()}function W(){return g.scrollSnapList}function V(){return g.scrollProgress.get(g.offsetLocation.get())}function ee(){return g.index.get()}function se(){return g.indexPrevious.get()}function me(){return g.slidesInView.get()}function K(){return g.slidesInView.get(!1)}function te(){return A}function ae(){return g}function de(){return t}function _e(){return M}function Re(){return P}const Te={canScrollNext:X,canScrollPrev:N,containerNode:_e,internalEngine:ae,destroy:L,off:m,on:f,emit:v,plugins:te,previousScrollSnap:se,reInit:x,rootNode:de,scrollNext:G,scrollPrev:j,scrollProgress:V,scrollSnapList:W,scrollTo:z,selectedScrollSnap:ee,slideNodes:Re,slidesInView:me,slidesNotInView:K};return E(e,n),setTimeout(()=>l.emit("init"),0),Te}Cx.globalOptions=void 0;function nP(t={},e=[]){const n=C.useRef(t),r=C.useRef(e),[i,o]=C.useState(),[s,a]=C.useState(),l=C.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return C.useEffect(()=>{QR(n.current,t)||(n.current=t,l())},[t,l]),C.useEffect(()=>{Mxe(r.current,e)||(r.current=e,l())},[e,l]),C.useEffect(()=>{if(Exe()&&s){Cx.globalOptions=nP.globalOptions;const c=Cx(s,n.current,r.current);return o(c),()=>c.destroy()}else o(void 0)},[s,o]),[a,i]}nP.globalOptions=void 0;const iSe={direction:"forward",speed:2,startDelay:1e3,active:!0,breakpoints:{},playOnInit:!0,stopOnFocusIn:!0,stopOnInteraction:!0,stopOnMouseEnter:!1,rootNode:null};function oSe(t,e){const n=t.rootNode();return e&&e(n)||n}function rP(t={}){let e,n,r,i,o=0,s=!1,a=!1,l;function c(T,E){n=T;const{mergeOptions:B,optionsAtMedia:F}=E,L=B(iSe,rP.globalOptions),z=B(L,t);if(e=F(z),n.scrollSnapList().length<=1)return;i=e.startDelay,r=!1,l=n.internalEngine().scrollBody;const{eventStore:G}=n.internalEngine(),j=!!n.internalEngine().options.watchDrag,X=oSe(n,e.rootNode);j&&n.on("pointerDown",v),j&&!e.stopOnInteraction&&n.on("pointerUp",x),e.stopOnMouseEnter&&G.add(X,"mouseenter",y),e.stopOnMouseEnter&&!e.stopOnInteraction&&G.add(X,"mouseleave",g),e.stopOnFocusIn&&n.on("slideFocusStart",f),e.stopOnFocusIn&&!e.stopOnInteraction&&G.add(n.containerNode(),"focusout",d),e.playOnInit&&d()}function u(){n.off("pointerDown",v).off("pointerUp",x).off("slideFocusStart",f).off("settle",S),f(),r=!0,s=!1}function d(){if(r||s)return;n.emit("autoScroll:play");const T=n.internalEngine(),{ownerWindow:E}=T;o=E.setTimeout(()=>{T.scrollBody=m(T),T.animation.start()},i),s=!0}function f(){if(r||!s)return;n.emit("autoScroll:stop");const T=n.internalEngine(),{ownerWindow:E}=T;T.scrollBody=l,E.clearTimeout(o),o=0,s=!1}function m(T){const{location:E,previousLocation:B,offsetLocation:F,target:L,scrollTarget:z,index:G,indexPrevious:j,limit:{reachedMin:X,reachedMax:N,constrain:W},options:{loop:V}}=T,ee=e.direction==="forward"?-1:1,se=()=>Re;let me=0,K=0,te=E.get(),ae=0,de=!1;function _e(){let Te=0;B.set(E),me=ee*e.speed,te+=me,E.add(me),L.set(E),Te=te-ae,K=Math.sign(Te),ae=te;const Y=z.byDistance(0,!1).index;G.get()!==Y&&(j.set(G.get()),G.set(Y),n.emit("select"));const Q=e.direction==="forward"?X(F.get()):N(F.get());if(!V&&Q){de=!0;const ie=W(E.get());E.set(ie),L.set(E),f()}return Re}const Re={direction:()=>K,duration:()=>-1,velocity:()=>me,settled:()=>de,seek:_e,useBaseFriction:se,useBaseDuration:se,useFriction:se,useDuration:se};return Re}function v(){a||f()}function x(){a||_()}function y(){a=!0,f()}function g(){a=!1,d()}function S(){n.off("settle",S),d()}function _(){n.on("settle",S)}function w(T){typeof T<"u"&&(i=T),d()}function A(){s&&f()}function M(){s&&(f(),_())}function P(){return s}return{name:"autoScroll",options:t,init:c,destroy:u,play:w,stop:A,reset:M,isPlaying:P}}rP.globalOptions=void 0;const sSe=(t,e)=>{const[n,r]=C.useState(!0),[i,o]=C.useState(!0),s=C.useCallback(()=>{t&&(t.scrollPrev(),e&&e(t))},[t,e]),a=C.useCallback(()=>{t&&(t.scrollNext(),e&&e(t))},[t,e]),l=C.useCallback(c=>{r(!c.canScrollPrev()),o(!c.canScrollNext())},[]);return C.useEffect(()=>{t&&(l(t),t.on("reInit",l).on("select",l))},[t,l]),{prevBtnDisabled:n,nextBtnDisabled:i,onPrevButtonClick:s,onNextButtonClick:a}};function P3(){return Ve.jsx("svg",{width:"59",height:"59",viewBox:"0 0 59 59",fill:"white",xmlns:"http://www.w3.org/2000/svg",children:Ve.jsx("path",{d:"M29.5 0C37.3229 0 44.8284 3.10881 50.3602 8.63978C55.8915 14.171 59 21.6764 59 29.5C59 37.3236 55.8912 44.8284 50.3602 50.3602C44.829 55.8915 37.3236 59 29.5 59C21.6764 59 14.1716 55.8912 8.63978 50.3602C3.10852 44.829 0 37.3236 0 29.5C0.00851059 21.6793 3.11738 14.1796 8.64849 8.64849C14.1798 3.11723 21.6793 0.00871385 29.5 0ZM20.4231 31.1026L32.5266 43.2062C33.4116 44.0912 34.8469 44.0912 35.7319 43.2062C36.617 42.3211 36.617 40.8859 35.7319 39.998L25.1432 29.5L35.5504 19.002C36.1205 18.1227 36.0156 16.971 35.2979 16.208C34.5803 15.4478 33.4343 15.2776 32.5266 15.7938L20.4231 27.8974C19.5381 28.7824 19.538 30.2176 20.4231 31.1026Z"})})}const aSe="/assets/slider-1-56534f62.jpg",lSe="/assets/slider-2-f0261165.jpg",cSe="/assets/slider-3-aba9c90e.jpg",uSe="/assets/slider-4-95f2ebab.jpg",dSe="/assets/slider-5-396de040.jpg",fSe="/assets/slider-6-9dbbb19b.jpg",hSe="/assets/slider-7-bb8c75cb.jpg",pSe=[{id:1,url:aSe},{id:2,url:lSe},{id:3,url:cSe},{id:4,url:uSe},{id:5,url:dSe},{id:6,url:fSe},{id:7,url:hSe}];function mSe(){const[t,e]=nP({loop:!0,slidesToScroll:1,containScroll:"trimSnaps"},[rP({playOnInit:!0})]),[n,r]=C.useState(!1),i=C.useRef(null),{prevBtnDisabled:o,nextBtnDisabled:s,onPrevButtonClick:a,onNextButtonClick:l}=sSe(e),c=C.useCallback(d=>{var v;const f=(v=e==null?void 0:e.plugins())==null?void 0:v.autoScroll;if(!f)return;(f.options.stopOnInteraction===!1?f.reset:f.stop)(),d(),u()},[e]),u=C.useCallback(()=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>{var f;const d=(f=e==null?void 0:e.plugins())==null?void 0:f.autoScroll;d&&!d.isPlaying()&&d.play()},3e3)},[e]);return C.useEffect(()=>{var f;const d=(f=e==null?void 0:e.plugins())==null?void 0:f.autoScroll;if(d)return r(d.isPlaying()),e.on("autoScroll:play",()=>r(!0)).on("autoScroll:stop",()=>r(!1)).on("reInit",()=>r(d.isPlaying())),u(),e.on("pointerDown",u),e.on("pointerUp",u),()=>{i.current&&clearTimeout(i.current)}},[e,u]),Ve.jsx("div",{className:Lc.root,children:Ve.jsxs("div",{className:"embla",children:[Ve.jsxs("div",{className:Lc.header,children:[Ve.jsx("div",{className:Lc.navigation,children:Ve.jsxs("div",{className:"embla__buttons",children:[Ve.jsx("button",{className:Lc.emblaButton,onClick:()=>c(a),disabled:o,children:Ve.jsx(P3,{})}),Ve.jsx("button",{className:Lc.emblaButton,onClick:()=>c(l),disabled:s,children:Ve.jsx(P3,{})})]})}),Ve.jsxs("div",{className:Lc.textContainer,children:[Ve.jsx("h3",{children:"Мы гордимся каждым изделием"}),Ve.jsx("p",{children:"Каждый день мы вдохновляемся историями и опытом наших подписчиков. Эти изображения — лишь малая часть того, как наша аммуниция помогает вам в ваших приключениях и миссиях. Мы благодарны за ваше доверие и рады видеть, как наши продукты становятся частью вашей жизни. Продолжайте делиться своими историями и вдохновляйте других!"})]})]}),Ve.jsx("div",{className:"embla__viewport",ref:t,children:Ve.jsx("div",{className:"embla__container",children:pSe.map(({url:d})=>Ve.jsx("div",{className:"embla__slide",children:Ve.jsx("div",{className:Lc.imageContainer,children:Ve.jsx("img",{src:d,alt:""})})},d))})})]})})}const gSe="_root_lcf69_3",vSe="_image_lcf69_9",ySe="_wrapper_lcf69_20",xSe="_logoWrapper_lcf69_33",J0={root:gSe,image:vSe,wrapper:ySe,logoWrapper:xSe};function SSe(){return Ve.jsxs("div",{className:J0.root,children:[Ve.jsx("img",{className:J0.image,src:ZU,alt:""}),Ve.jsxs("div",{className:J0.wrapper,children:[Ve.jsx("div",{className:J0.logoWrapper,children:Ve.jsxs("a",{href:"/",children:[Ve.jsx(D8,{}),"AMMO MERCH"]})}),Ve.jsx("p",{children:"Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis. Tempus leo eu aenean sed diam urna tempor. Pulvinar vivamus fringilla lacus nec metus bibendum egestas. Iaculis massa nisl malesuada lacinia integer nunc posuere. Ut hendrerit semper vel class aptent taciti sociosqu. Ad litora torquent per conubia nostra inceptos himenaeos."})]})]})}const _Se="_root_1m8i4_3",CSe="_wrapper_1m8i4_10",bSe="_button_1m8i4_31",_b={root:_Se,wrapper:CSe,button:bSe};function wSe(){const[t,e]=C.useState(!1),n=()=>{e(!t)},r=()=>{e(!1)};return Ve.jsxs(Ve.Fragment,{children:[Ve.jsx("div",{className:_b.root,children:Ve.jsx(dm.div,{viewport:{once:!0},initial:{opacity:0,scale:.6},exit:{scale:2},whileInView:{opacity:1,scale:1},children:Ve.jsxs("div",{className:_b.wrapper,children:[Ve.jsx("h2",{children:"Остались вопросы? Свяжитесь с нами"}),Ve.jsx(fT,{onClick:n,className:_b.button,name:"Связаться"})]})})}),Ve.jsx(D5,{show:t,onClose:r})]})}function ESe(){const t=C.useRef({scrollTop:0}),e=C.useRef(null),n=()=>{if(e.current){const{scrollTop:r}=e.current;t.current={scrollTop:r}}};return Ve.jsxs("div",{className:qye.root,style:{overflow:"auto"},ref:e,onScroll:n,children:[Ve.jsx(Jye,{}),Ve.jsx(Fce,{}),Ve.jsx(Wye,{scrollModelRef:t}),Ve.jsx(yxe,{}),Ve.jsx(mSe,{}),Ve.jsx(wSe,{}),Ve.jsx(SSe,{})]})}function MSe(){return Ve.jsx(MW,{location,children:Ve.jsx(QU,{index:!0,path:"/",element:Ve.jsx(ESe,{})})})}Cb.createRoot(document.getElementById("root")).render(Ve.jsx(tt.StrictMode,{children:Ve.jsx(RW,{children:Ve.jsx(AT,{theme:{components:{Breadcrumb:{itemColor:"#F1EBEA",linkColor:"#F1EBEA",separatorColor:"#F1EBEA",lastItemColor:"#F1EBEA",linkHoverColor:"#3481EB",separatorMargin:14,fontFamily:"Montserrat",colorBgTextHover:"transparent",fontSize:16},Input:{colorBgContainer:"#2C2A2E",fontFamily:"Montserrat",fontSize:16,colorBorder:"#2C2A2E",colorText:"#F1EBEA",colorTextPlaceholder:"#929292",borderRadiusLG:10,paddingBlock:13,paddingInline:40,hoverBorderColor:"#4E5BAB",colorPrimary:"#929292",paddingBlockLG:12,paddingInlineLG:22,activeShadow:"none"},Select:{fontFamily:"Montserrat",colorText:"#F1EBEA",colorPrimary:"#3481EB",selectorBg:"#2C2A2E",singleItemHeightLG:50,optionSelectedColor:"#F1EBEA",optionSelectedBg:"#3d6952",colorBgElevated:"#2C2A2E",colorBorder:"transparent",colorPrimaryHover:"#3481EB",borderRadius:10,optionPadding:10,controlHeight:46,controlPaddingHorizontal:2,controlPaddingHorizontalSM:2,optionSelectedFontWeight:600,fontWeightStrong:600,colorIcon:"rgba(199,180,180,0.45)"}}},children:Ve.jsx(MSe,{})})})}));
